import { Component, Input, ViewChild } from '@angular/core';
import moment from 'moment';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
export class DittoComponent {
    cdRef;
    constructor(cdRef) {
        this.cdRef = cdRef;
    }
    showErrors = false;
    show = false;
    container;
    element;
    format = "YYYY-MM-DD HH:mm:ss";
    picker = 'date';
    view = 'date';
    hours = true;
    minutes = true;
    seconds = true;
    disableBackDateTime = false;
    disableFutureDateTime = false;
    backDateTime = moment().format('YYYY-MM-DD HH:mm:ss');
    futureDateTime = moment().format('YYYY-MM-DD HH:mm:ss');
    duration = {
        hours: 0,
        minutes: 0,
        seconds: 0
    };
    config = {
        timepicker: '', //hour , minute
        position: {
            x: 0,
            y: 0
        },
        startYear: new Date().getFullYear(),
        icons: {
            left: "ðŸ¡°",
            right: "ðŸ¡²",
            up: "ðŸ¡±",
            down: "ðŸ¡³"
        },
        weeks: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thirsday", "Friday", "Saturday"],
        months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
    };
    _value = "";
    get value() {
        return this._value;
    }
    set value(value) {
        if (value !== "" && value !== null && typeof value !== "undefined" && this.format !== "") {
            if (moment(value, this.format).isValid()) {
                this._value = value;
            }
            else {
                console.log("Invalid date");
            }
        }
    }
    onApply = (_v) => { };
    trackBy(n) {
        return n;
    }
    getPrefixDays() {
        var date = moment(this.value, this.format).startOf('month');
        var day = Number(date.format("d"));
        return new Array(day);
    }
    getDatesInMonthArray() {
        var dates = [];
        var a = moment(this.value, this.format).startOf('month').format('YYYY-MM-DD');
        var b = moment(this.value, this.format).endOf('month').format('YYYY-MM-DD');
        for (var m = moment(a); m.diff(b, 'days') <= 0; m.add(1, 'days')) {
            var date = {
                date: Number(m.format('D')),
                formated: m.format("YYYY-MM-DD"),
                disabled: false
            };
            if (this.disableBackDateTime == true) {
                if (moment(date.formated, 'YYYY-MM-DD').isBefore(moment(this.backDateTime, this.format))) {
                    date.disabled = true;
                }
            }
            if (this.disableFutureDateTime == true) {
                if (moment(date.formated, 'YYYY-MM-DD').isAfter(moment(this.futureDateTime, this.format))) {
                    date.disabled = true;
                }
            }
            dates.push(date);
        }
        return dates;
    }
    getDaysInMonth() {
        return new Array(moment().daysInMonth());
    }
    getArrayOf(n) {
        return new Array(n);
    }
    titleCase(str) {
        return str.toLowerCase().replace(/\b(\w)/g, s => s.toUpperCase());
    }
    prefixZero(n) {
        return ('0' + n).slice(-2);
    }
    limitChar(str, n) {
        return str.substring(0, n);
    }
    setNextYearRange() {
        this.config.startYear = this.config.startYear + 15;
    }
    setPrevYearRange() {
        this.config.startYear = this.config.startYear - 15;
    }
    setNextMonth() {
        this.value = moment(this.value, this.format).add(1, "M").format(this.format);
    }
    setPrevMonth() {
        this.value = moment(this.value, this.format).add(-1, "M").format(this.format);
    }
    getYearsRange() {
        var years = [];
        var startYear = this.config.startYear - 7;
        var endYear = this.config.startYear + 7;
        for (var y = startYear; y <= endYear; y++) {
            years.push(y);
        }
        return years;
    }
    setPosition() {
        var inst = this;
        var directiveRect = inst.element.nativeElement.getBoundingClientRect();
        var containerRect = inst.container.nativeElement.getBoundingClientRect();
        if (window.innerWidth <= 600 || window.innerHeight <= 600) {
            inst.config.position.x = (window.innerWidth - containerRect.width) / 2;
            inst.config.position.y = (window.innerHeight - containerRect.height) / 2;
            inst.cdRef.detectChanges();
            return {
                container: containerRect,
                directive: directiveRect
            };
        }
        if (window.innerHeight <= directiveRect.height + containerRect.height + directiveRect.y) {
            inst.config.position.x = (window.innerWidth - containerRect.width) / 2;
            inst.config.position.y = (window.innerHeight - containerRect.height) / 2;
        }
        else if (window.innerWidth <= directiveRect.width + containerRect.width + directiveRect.x) {
            inst.config.position.y = directiveRect.y + directiveRect.height;
            inst.config.position.x = ((directiveRect.x - containerRect.width) + directiveRect.width);
        }
        else {
            inst.config.position.x = directiveRect.x;
            inst.config.position.y = directiveRect.y + directiveRect.height;
        }
        inst.cdRef.detectChanges();
        return {
            container: containerRect,
            directive: directiveRect
        };
    }
    getFormated(format) {
        return moment(this.value, this.format).format(format);
    }
    isCurrent(value, mode) {
        if (mode == "hour") {
            if (value == moment(this.value, this.format).format("h")) {
                return true;
            }
        }
        else if (mode == "minute") {
            if (value == moment(this.value, this.format).format("m")) {
                return true;
            }
        }
        else if (mode == "ampm") {
            if (value.toLowerCase() == moment(this.value, this.format).format("A").toLowerCase()) {
                return true;
            }
        }
        else if (mode == "date") {
            if (value == moment(this.value, this.format).format("YYYY-MM-DD")) {
                return true;
            }
        }
        else if (mode == "month") {
            if (value.toString().toLowerCase() == moment(this.value, this.format).format("M").toLowerCase()) {
                return true;
            }
        }
        else if (mode == "year") {
            if (value.toString().toLowerCase() == moment(this.value, this.format).format("YYYY").toLowerCase()) {
                return true;
            }
        }
        return false;
    }
    setAmPm(value) {
        var date = moment(this.value, this.format).format("YYYY-MM-DD LT");
        date = date.replace("AM", value).replace("PM", value);
        this.value = moment(date, "YYYY-MM-DD LT").format(this.format);
    }
    setDate(d) {
        if (!d.disabled) {
            this.value = moment(this.value, this.format).set("D", d.date).format(this.format);
            if (this.picker == 'datetime') {
                this.view = 'hour';
            }
            else {
                this.view = 'date';
            }
        }
    }
    setMonth(m) {
        if (!this.isMonthDisabled(m)) {
            this.value = moment(this.value, this.format).set("M", m).format(this.format);
            if (this.picker == 'datetime' || this.picker == 'date') {
                this.view = 'date';
            }
            else {
                this.view = 'month';
            }
        }
    }
    setYear(y) {
        if (!this.isYearDisabled(y)) {
            this.value = moment(this.value, this.format).set("year", y).format(this.format);
            if (this.picker == 'datetime' || this.picker == 'date') {
                this.view = 'month';
            }
            else {
                this.view = 'year';
            }
        }
    }
    setHour(h) {
        this.value = moment(this.value, this.format).set("h", h).format(this.format);
        if (this.picker == 'datetime' || this.picker == 'time') {
            this.view = 'minute';
        }
    }
    setMinute(value) {
        this.value = moment(this.value, this.format).set("m", value).format(this.format);
        if (this.picker == "time") {
            this.config.timepicker = "";
        }
        else {
            this.view = "date";
        }
    }
    setDurationHours(value) {
        this.duration.hours = value;
        if (this.minutes) {
            this.view = 'minutes';
        }
        else if (this.seconds) {
            this.view = 'seconds';
        }
    }
    setDurationMinutes(value) {
        this.duration.minutes = value;
        if (this.seconds) {
            this.view = 'seconds';
        }
    }
    setDurationSeconds(value) {
        this.duration.seconds = value;
    }
    apply() {
        if (this.picker == 'duration') {
            var durations = [];
            if (this.hours) {
                durations.push(this.padint(this.duration.hours));
            }
            if (this.minutes) {
                durations.push(this.padint(this.duration.minutes));
            }
            if (this.seconds) {
                durations.push(this.padint(this.duration.seconds));
            }
            this.onApply(durations.join(':'));
        }
        else {
            var m = moment(this.value, this.format);
            if (this.isMomentDisabled(m)) {
                this.showErrors = true;
                setTimeout(() => { this.showErrors = false; }, 1500);
                return;
            }
            this.onApply(this.value);
        }
        this.closeDatePicker();
    }
    padint(n, w = 2) {
        let numberString = n.toString();
        let padding = Math.max(0, w - numberString.length);
        let paddedNumber = '0'.repeat(padding) + numberString;
        return paddedNumber;
    }
    getDisableMaskLabel() {
        var mid = '';
        if (this.picker == 'datetime') {
            mid = 'date and time';
        }
        else if (this.picker == 'date') {
            mid = 'date';
        }
        else if (this.picker == 'time') {
            mid = 'time';
        }
        else if (this.picker == 'month') {
            mid = 'month';
        }
        else if (this.picker == 'year') {
            mid = 'year';
        }
        if (this.disableBackDateTime && this.disableFutureDateTime) {
            return {
                label: "Please select " + mid + " between ",
                range: `${moment(this.backDateTime, this.format).format(this.format)} - ${moment(this.futureDateTime, this.format).format(this.format)}`
            };
        }
        if (this.disableBackDateTime) {
            return {
                label: "Please select a " + mid + " after ",
                range: `${moment(this.backDateTime, this.format).format(this.format)}`
            };
        }
        if (this.disableFutureDateTime) {
            return {
                label: "Please select a " + mid + " before ",
                range: `${moment(this.futureDateTime, this.format).format(this.format)}`
            };
        }
        return {
            label: "",
            range: ""
        };
    }
    isMonthDisabled(m) {
        var date = moment(this.value, this.format).set("M", m);
        return this.isMomentDisabled(date);
    }
    allYearRangeDisabled() {
        if (!this.disableBackDateTime && !this.disableFutureDateTime) {
            return false;
        }
        for (var year of this.getYearsRange()) {
            if (!this.isYearDisabled(year)) {
                return false;
            }
        }
        return true;
    }
    allMonthsDisabled() {
        if (!this.disableBackDateTime && !this.disableFutureDateTime) {
            return false;
        }
        var m = 0;
        for (var month of this.config.months) {
            if (!this.isMonthDisabled(m)) {
                return false;
            }
            m++;
        }
        return true;
    }
    isYearDisabled(y) {
        var date = moment(this.value, this.format).set("year", y);
        return this.isMomentDisabled(date, 'year');
    }
    isMomentDisabled(m, mode = 'none') {
        if (this.disableBackDateTime) {
            if (mode == 'year') {
                if (Number(m.format('YYYY')) < Number(moment(this.backDateTime, this.format).format('YYYY'))) {
                    return true;
                }
            }
            else if (m.isBefore(moment(this.backDateTime, this.format))) {
                return true;
            }
        }
        if (this.disableFutureDateTime) {
            if (mode == 'year') {
                if (Number(m.format('YYYY')) > Number(moment(this.futureDateTime, this.format).format('YYYY'))) {
                    return true;
                }
            }
            else if (m.isAfter(moment(this.futureDateTime, this.format))) {
                return true;
            }
        }
        return false;
    }
    openDatePicker(event) {
        document.body.style.overflow = "hidden";
        var inst = this;
        inst.show = true;
        if (inst._value == "") {
            inst._value = moment().format(inst.format);
        }
        var interval = setInterval(function () {
            var rects = inst.setPosition();
            if (rects.container.height > 0) {
                clearInterval(interval);
            }
        });
        inst.cdRef.detectChanges();
    }
    closeDatePicker() {
        var inst = this;
        inst.show = false;
        document.body.style.overflow = "auto";
    }
    ngAfterViewInit() {
        var inst = this;
        inst.element.nativeElement.onfocus = inst.openDatePicker.bind(this);
        inst.element.nativeElement.onclick = inst.openDatePicker.bind(this);
        inst.setPosition();
        if (typeof window !== "undefined") {
            window.onscroll = function () {
                inst.setPosition();
                inst.cdRef.detectChanges();
            };
            window.onresize = function () {
                inst.setPosition();
                inst.cdRef.detectChanges();
            };
        }
    }
    ngOnInit() {
        var inst = this;
    }
    static Éµfac = i0.ÉµÉµngDeclareFactory({ minVersion: "12.0.0", version: "17.1.1", ngImport: i0, type: DittoComponent, deps: [{ token: i0.ChangeDetectorRef }], target: i0.ÉµÉµFactoryTarget.Component });
    static Éµcmp = i0.ÉµÉµngDeclareComponent({ minVersion: "14.0.0", version: "17.1.1", type: DittoComponent, selector: "ditto", inputs: { element: "element", format: "format", picker: "picker", view: "view", hours: "hours", minutes: "minutes", seconds: "seconds", disableBackDateTime: "disableBackDateTime", disableFutureDateTime: "disableFutureDateTime", backDateTime: "backDateTime", futureDateTime: "futureDateTime" }, viewQueries: [{ propertyName: "container", first: true, predicate: ["container"], descendants: true }], ngImport: i0, template: "<div class=\"datepicker-overlay\" (click)=\"closeDatePicker()\" *ngIf=\"show\"></div>\r\n<div #container class=\"datepicker-fixed\" [style.top.px]=\"config.position.y\" [style.left.px]=\"config.position.x\" (click)=\"setPosition()\">\r\n    <div class=\"datepicker-container\" *ngIf=\"show\">\r\n\r\n        <div class=\"disabled-mask {{showErrors ? 'show' : ''}}\">\r\n            <button (click)=\"showErrors = false\">&times;</button>\r\n            <small>{{getDisableMaskLabel().label}}</small>\r\n            <span>{{getDisableMaskLabel().range}}</span>\r\n        </div>\r\n\r\n        <div class=\"datepicker-header\">\r\n            <div class=\"datepicker-header-label\">\r\n                <div class=\"datepicker-header-label-date\" *ngIf=\"picker == 'date' || picker == 'datetime'\">\r\n                    <button (click)=\"view='year'\" class=\"{{view == 'year' ? 'active' : ''}}\" *ngIf=\"picker == 'datetime'\">{{getFormated('YYYY')}}</button>\r\n                    <div>\r\n                        <button (click)=\"view='month'\" class=\"{{view == 'month' ? 'active' : ''}}\">{{getFormated('MMM')}}</button>\r\n                        <button (click)=\"view='date'\" class=\"{{view == 'date' ? 'active' : ''}}\">{{getFormated('DD')}} <span *ngIf=\"picker == 'date'\">, </span></button>\r\n                        <button (click)=\"view='year'\" class=\"{{view == 'year' ? 'active' : ''}}\" *ngIf=\"picker == 'date'\">{{getFormated('YYYY')}}</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"datepicker-header-label-date\" *ngIf=\"picker == 'month'\">\r\n                    <button class=\"active\">{{getFormated('MMMM')}}</button>\r\n                </div>\r\n                <div class=\"datepicker-header-label-date\" *ngIf=\"picker == 'year'\">\r\n                    <button class=\"active\">{{getFormated('YYYY')}}</button>\r\n                </div>\r\n                <div class=\"datepicker-header-label-time\" *ngIf=\"picker == 'time' || picker == 'datetime'\" [style.paddingTop.px]=\"picker == 'datetime' ? 29 : 0\">\r\n                    <button (click)=\"view = 'time';view='hour'\" class=\"{{view == 'hour' ? 'active' : ''}}\">{{getFormated('hh')}}</button>\r\n                    <span>:</span>\r\n                    <button (click)=\"view = 'time';view='minute'\" class=\"{{view == 'minute'? 'active' : ''}}\">{{getFormated('mm')}}</button>\r\n                    <div>\r\n                        <button class=\"{{isCurrent('am','ampm') ? 'active' : ''}}\" (click)=\"setAmPm('AM')\">AM</button>\r\n                        <button class=\"{{isCurrent('pm','ampm') ? 'active' : ''}}\" (click)=\"setAmPm('PM')\">PM</button>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <div class=\"datepicker-header-label-time\" *ngIf=\"picker == 'duration'\" [style.paddingTop.px]=\"29\">\r\n                    <button *ngIf=\"hours\" (click)=\"view = 'duration';view='hours'\" class=\"{{view == 'hours' ? 'active' : ''}}\">\r\n                        <span>H</span>\r\n                        {{duration.hours}}\r\n                    </button>\r\n                    <span *ngIf=\"hours && minutes\">:</span>\r\n                    <button *ngIf=\"minutes\" (click)=\"view = 'duration';view='minutes'\" class=\"{{view == 'minutes'? 'active' : ''}}\">\r\n                        <span>M</span>\r\n                        {{duration.minutes}}</button>\r\n                    <span *ngIf=\"minutes && seconds\">:</span>\r\n                    <button *ngIf=\"seconds\" (click)=\"view = 'duration';view='seconds'\" class=\"{{view == 'seconds'? 'active' : ''}}\">\r\n                        <span>S</span>\r\n                        {{duration.seconds}}\r\n                    </button>\r\n                </div>\r\n              \r\n            </div>\r\n           \r\n            <div class=\"datepicker-header-action\" *ngIf=\"(picker == 'date' || picker == 'datetime') && view == 'date'\">\r\n                <button (click)=\"setPrevMonth()\"><i class=\"fa fa-arrow-left\"></i></button>\r\n                <div>{{getFormated('MMMM DD')}}</div>\r\n                <button (click)=\"setNextMonth()\"><i class=\"fa fa-arrow-right\"></i></button>\r\n            </div>\r\n            <div class=\"datepicker-header-action\" *ngIf=\"(picker == 'date' || picker == 'datetime' || picker == 'year') && view == 'year'\">\r\n                <button (click)=\"setPrevYearRange()\"><i class=\"fa fa-arrow-left\"></i></button>\r\n                <div>{{config.startYear - 8}} - {{config.startYear + 7}}</div>\r\n                <button (click)=\"setNextYearRange()\"><i class=\"fa fa-arrow-right\"></i></button>\r\n            </div>\r\n        </div>\r\n        <div class=\"datepicker-body\">\r\n            <div class=\"datepicker-datepicker\" *ngIf=\"view == 'date' && (picker == 'date' || picker == 'datetime')\">\r\n                <ul class=\"datepicker-weeks\">\r\n                    <li *ngFor=\"let week of config.weeks\">\r\n                        <span>{{limitChar(week,3)}}</span>\r\n                    </li>\r\n                </ul>\r\n                \r\n                <ul class=\"datepicker-dates\">\r\n                    <li *ngFor=\"let d of getPrefixDays()\">\r\n                        <span></span>\r\n                    </li>\r\n                    <li *ngFor=\"let d of getDatesInMonthArray();trackBy:trackBy\" class=\"{{isCurrent(d.formated,'date') ? 'active' : ''}} {{d.disabled ? 'disabled' : ''}}\" (click)=\"setDate(d);\">\r\n                        <span>{{d.date}}</span>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"picker\" *ngIf=\"picker == 'time' || picker == 'datetime'\">\r\n                <span *ngIf=\"view == 'hour'\">Select Hour</span>\r\n                <ul class=\"picker-col-3\" *ngIf=\"view == 'hour'\">\r\n                    <li *ngFor=\"let n of getArrayOf(12);let h = index\">\r\n                        <button class=\"{{isCurrent(h+1,'hour') ? 'active' : ''}}\" (click)=\"setHour(h+1);\">{{h+1}}</button>\r\n                    </li>\r\n                </ul>\r\n                <span *ngIf=\"view == 'minute'\">Select minute</span>\r\n                <ul class=\"picker-col-6\" *ngIf=\"view == 'minute'\">\r\n                    <li *ngFor=\"let n of getArrayOf(60);let m = index\" class=\"{{isMonthDisabled(m) ? 'disabled' : ''}}\">\r\n                        <button class=\"{{isCurrent(m,'minute') ? 'active' : ''}}\" (click)=\"setMinute(m)\">{{m}}</button>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n\r\n            <div class=\"picker\" *ngIf=\"picker == 'duration'\">\r\n                <span *ngIf=\"view == 'hours'\">Select Hours</span>\r\n                <ul class=\"picker-col-6\" *ngIf=\"view == 'hours'\">\r\n                    <li *ngFor=\"let n of getArrayOf(25);let h = index\">\r\n                        <button class=\"{{h == duration.hours ? 'active' : ''}}\" (click)=\"setDurationHours(h)\">{{h}}</button>\r\n                    </li>\r\n                </ul>\r\n                <span *ngIf=\"view == 'minutes'\">Select Minutes</span>\r\n                <ul class=\"picker-col-6\" *ngIf=\"view == 'minutes'\">\r\n                    <li *ngFor=\"let n of getArrayOf(60);let m = index\">\r\n                        <button class=\"{{m == duration.minutes ? 'active' : ''}}\" (click)=\"setDurationMinutes(m)\">{{m}}</button>\r\n                    </li>\r\n                </ul>\r\n                <span *ngIf=\"view == 'seconds'\">Select Seconds</span>\r\n                <ul class=\"picker-col-6\" *ngIf=\"view == 'seconds'\">\r\n                    <li *ngFor=\"let n of getArrayOf(60);let s = index\">\r\n                        <button class=\"{{s == duration.seconds ? 'active' : ''}}\" (click)=\"setDurationSeconds(s)\">{{s}}</button>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n\r\n            <div class=\"picker\" *ngIf=\"view == 'month' || picker == 'month'\">\r\n                <div class=\"disabled-mask\" *ngIf=\"allMonthsDisabled()\">\r\n                    <small>{{getDisableMaskLabel().label}}</small>\r\n                    <span>{{getDisableMaskLabel().range}}</span>\r\n                </div>\r\n                <ul class=\"picker-col-2\">\r\n                    <li *ngFor=\"let month of config.months;let m = index\" class=\"{{isMonthDisabled(m) ? 'disabled' : ''}}\">\r\n                        <button (click)=\"setMonth(m);\" class=\"{{isCurrent(m+1 + '','month') ? 'active' : ''}}\">{{month}}</button>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"picker\" *ngIf=\"view == 'year'  || picker == 'year'\">\r\n                <div class=\"disabled-mask\" *ngIf=\"allYearRangeDisabled()\">\r\n                    <small>{{getDisableMaskLabel().label}}</small>\r\n                    <span>{{getDisableMaskLabel().range}}</span>\r\n                </div>\r\n                <ul class=\"picker-col-4\">\r\n                    <li *ngFor=\"let year of getYearsRange()\" class=\"{{isYearDisabled(year) ? 'disabled' : ''}}\">\r\n                        <button class=\"{{isCurrent(year,'year') ? 'active' : ''}}\" (click)=\"setYear(year);\">{{year}}</button>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n        <div class=\"datepicker-footer\">\r\n            <button (click)=\"closeDatePicker()\">Cancel</button>\r\n            <button (click)=\"apply()\">Apply</button>\r\n        </div>\r\n    </div>\r\n</div>", styles: [".datepicker-overlay{position:fixed;z-index:9999;background:#0000001f;width:100%;height:100%;left:0;top:0}.datepicker-fixed{width:100%;max-width:300px;z-index:999999;position:fixed;-webkit-user-select:none;user-select:none}.datepicker-container{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;background-color:#fff;color:#000000de;width:100%}.datepicker-header-label{background:#3f51b5;color:#fff;display:flex;flex-direction:row;justify-content:center;padding:10px}.datepicker-header-action{display:flex;flex-direction:row;align-items:center}.datepicker-header-action>div{flex:1;display:flex;align-items:center;justify-content:center}.datepicker-header-action>button{border:none;background:transparent;height:40px}.datepicker-footer>button{border:none;background:#fff;border-radius:5px;font-size:15px;padding:5px 20px}.datepicker-footer{padding:10px;display:flex;flex-direction:row;width:100%}.datepicker-footer>button:last-child{box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;margin-left:auto}ul.datepicker-weeks{list-style:none;padding:10px 0;margin:0;display:flex;flex-direction:row;border-bottom:1px solid #ddd}ul.datepicker-weeks>li{flex:1;display:flex;align-items:center;justify-content:center;font-size:12px}ul.datepicker-dates{padding:0;margin:0;list-style:none;display:block}ul.datepicker-dates>li{width:14.28%;display:block;font-size:12px;position:relative;padding-top:14.28%;float:left}ul.datepicker-dates>li.disabled,.picker .disabled,.picker .disabled button:hover{cursor:not-allowed;background:#b4b4b4}ul.datepicker-dates>li>span{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%;cursor:pointer}ul.datepicker-dates>li>span:hover{background:#ddd}ul.datepicker-dates>li.active>span{background:#3f51b5;color:#fff}.datepicker-header-label-date,.datepicker-header-label-time{display:flex}.datepicker-header-label-date{flex-direction:column}.datepicker-header-label-time{flex-direction:row}.datepicker-header-label button{background:transparent;color:#fff;opacity:.5;transition:.5s all ease;border:none;position:relative}.datepicker-header-label button>span{position:absolute;top:-25px;font-size:12px;left:0;width:100%;text-align:center}.datepicker-header-label button.active{opacity:1;color:#ffeb3b}.datepicker-header-label button:hover{opacity:.8}.datepicker-header-label-date>button{width:100%;text-align:left}.datepicker-header-label-date>button{font-size:18px}.datepicker-header-label-date>div{width:100%;display:flex;flex-direction:row}.datepicker-header-label-date>div>button{font-size:35px;line-height:30px}.datepicker-header-label-time>button{font-size:35px;line-height:30px}.datepicker-header-label-time>span{font-size:30px;line-height:0px;width:5px;justify-content:center;align-items:center;height:100%;display:flex}.datepicker-header-label-time>div{display:flex;flex-direction:column;align-items:center;justify-content:center}.datepicker-header-label-time>div>button{font-size:15px;line-height:15px}.picker>span{font-size:14px;display:block;width:100%;padding:5px}.picker>ul{list-style:none;padding:0;margin:0;display:flex;flex-direction:row;flex-wrap:wrap;max-height:250px;overflow:auto}ul.picker-col-2>li{width:50%}ul.picker-col-3>li{width:33.33%}ul.picker-col-4>li{width:25%}ul.picker-col-6>li{width:16.66%}.picker>ul>li{padding:5px}.picker>ul>li>button{width:100%;border:none;padding:5px;font-size:12px;border-radius:5px;background:#0000000a}.picker>ul>li>button:hover{background:#ddd}.picker>ul>li>button.active{background:#3f51b5;color:#fff}.picker{position:relative}.disabled-mask{position:absolute;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:0;color:#fff;background:#00000091;z-index:1;visibility:hidden;opacity:0;transition:.1s all ease}.disabled-mask>button{position:absolute;top:5px;right:5px;border:none;width:30px;height:30px;color:#fff;font-size:20px;padding:0;background:transparent;outline:none}.disabled-mask>small{font-size:11px}.disabled-mask>span{font-weight:700;font-size:14px}.disabled-mask.show{visibility:visible;opacity:1}\n"], dependencies: [{ kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }] });
}
i0.ÉµÉµngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.1.1", ngImport: i0, type: DittoComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ditto', template: "<div class=\"datepicker-overlay\" (click)=\"closeDatePicker()\" *ngIf=\"show\"></div>\r\n<div #container class=\"datepicker-fixed\" [style.top.px]=\"config.position.y\" [style.left.px]=\"config.position.x\" (click)=\"setPosition()\">\r\n    <div class=\"datepicker-container\" *ngIf=\"show\">\r\n\r\n        <div class=\"disabled-mask {{showErrors ? 'show' : ''}}\">\r\n            <button (click)=\"showErrors = false\">&times;</button>\r\n            <small>{{getDisableMaskLabel().label}}</small>\r\n            <span>{{getDisableMaskLabel().range}}</span>\r\n        </div>\r\n\r\n        <div class=\"datepicker-header\">\r\n            <div class=\"datepicker-header-label\">\r\n                <div class=\"datepicker-header-label-date\" *ngIf=\"picker == 'date' || picker == 'datetime'\">\r\n                    <button (click)=\"view='year'\" class=\"{{view == 'year' ? 'active' : ''}}\" *ngIf=\"picker == 'datetime'\">{{getFormated('YYYY')}}</button>\r\n                    <div>\r\n                        <button (click)=\"view='month'\" class=\"{{view == 'month' ? 'active' : ''}}\">{{getFormated('MMM')}}</button>\r\n                        <button (click)=\"view='date'\" class=\"{{view == 'date' ? 'active' : ''}}\">{{getFormated('DD')}} <span *ngIf=\"picker == 'date'\">, </span></button>\r\n                        <button (click)=\"view='year'\" class=\"{{view == 'year' ? 'active' : ''}}\" *ngIf=\"picker == 'date'\">{{getFormated('YYYY')}}</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"datepicker-header-label-date\" *ngIf=\"picker == 'month'\">\r\n                    <button class=\"active\">{{getFormated('MMMM')}}</button>\r\n                </div>\r\n                <div class=\"datepicker-header-label-date\" *ngIf=\"picker == 'year'\">\r\n                    <button class=\"active\">{{getFormated('YYYY')}}</button>\r\n                </div>\r\n                <div class=\"datepicker-header-label-time\" *ngIf=\"picker == 'time' || picker == 'datetime'\" [style.paddingTop.px]=\"picker == 'datetime' ? 29 : 0\">\r\n                    <button (click)=\"view = 'time';view='hour'\" class=\"{{view == 'hour' ? 'active' : ''}}\">{{getFormated('hh')}}</button>\r\n                    <span>:</span>\r\n                    <button (click)=\"view = 'time';view='minute'\" class=\"{{view == 'minute'? 'active' : ''}}\">{{getFormated('mm')}}</button>\r\n                    <div>\r\n                        <button class=\"{{isCurrent('am','ampm') ? 'active' : ''}}\" (click)=\"setAmPm('AM')\">AM</button>\r\n                        <button class=\"{{isCurrent('pm','ampm') ? 'active' : ''}}\" (click)=\"setAmPm('PM')\">PM</button>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <div class=\"datepicker-header-label-time\" *ngIf=\"picker == 'duration'\" [style.paddingTop.px]=\"29\">\r\n                    <button *ngIf=\"hours\" (click)=\"view = 'duration';view='hours'\" class=\"{{view == 'hours' ? 'active' : ''}}\">\r\n                        <span>H</span>\r\n                        {{duration.hours}}\r\n                    </button>\r\n                    <span *ngIf=\"hours && minutes\">:</span>\r\n                    <button *ngIf=\"minutes\" (click)=\"view = 'duration';view='minutes'\" class=\"{{view == 'minutes'? 'active' : ''}}\">\r\n                        <span>M</span>\r\n                        {{duration.minutes}}</button>\r\n                    <span *ngIf=\"minutes && seconds\">:</span>\r\n                    <button *ngIf=\"seconds\" (click)=\"view = 'duration';view='seconds'\" class=\"{{view == 'seconds'? 'active' : ''}}\">\r\n                        <span>S</span>\r\n                        {{duration.seconds}}\r\n                    </button>\r\n                </div>\r\n              \r\n            </div>\r\n           \r\n            <div class=\"datepicker-header-action\" *ngIf=\"(picker == 'date' || picker == 'datetime') && view == 'date'\">\r\n                <button (click)=\"setPrevMonth()\"><i class=\"fa fa-arrow-left\"></i></button>\r\n                <div>{{getFormated('MMMM DD')}}</div>\r\n                <button (click)=\"setNextMonth()\"><i class=\"fa fa-arrow-right\"></i></button>\r\n            </div>\r\n            <div class=\"datepicker-header-action\" *ngIf=\"(picker == 'date' || picker == 'datetime' || picker == 'year') && view == 'year'\">\r\n                <button (click)=\"setPrevYearRange()\"><i class=\"fa fa-arrow-left\"></i></button>\r\n                <div>{{config.startYear - 8}} - {{config.startYear + 7}}</div>\r\n                <button (click)=\"setNextYearRange()\"><i class=\"fa fa-arrow-right\"></i></button>\r\n            </div>\r\n        </div>\r\n        <div class=\"datepicker-body\">\r\n            <div class=\"datepicker-datepicker\" *ngIf=\"view == 'date' && (picker == 'date' || picker == 'datetime')\">\r\n                <ul class=\"datepicker-weeks\">\r\n                    <li *ngFor=\"let week of config.weeks\">\r\n                        <span>{{limitChar(week,3)}}</span>\r\n                    </li>\r\n                </ul>\r\n                \r\n                <ul class=\"datepicker-dates\">\r\n                    <li *ngFor=\"let d of getPrefixDays()\">\r\n                        <span></span>\r\n                    </li>\r\n                    <li *ngFor=\"let d of getDatesInMonthArray();trackBy:trackBy\" class=\"{{isCurrent(d.formated,'date') ? 'active' : ''}} {{d.disabled ? 'disabled' : ''}}\" (click)=\"setDate(d);\">\r\n                        <span>{{d.date}}</span>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"picker\" *ngIf=\"picker == 'time' || picker == 'datetime'\">\r\n                <span *ngIf=\"view == 'hour'\">Select Hour</span>\r\n                <ul class=\"picker-col-3\" *ngIf=\"view == 'hour'\">\r\n                    <li *ngFor=\"let n of getArrayOf(12);let h = index\">\r\n                        <button class=\"{{isCurrent(h+1,'hour') ? 'active' : ''}}\" (click)=\"setHour(h+1);\">{{h+1}}</button>\r\n                    </li>\r\n                </ul>\r\n                <span *ngIf=\"view == 'minute'\">Select minute</span>\r\n                <ul class=\"picker-col-6\" *ngIf=\"view == 'minute'\">\r\n                    <li *ngFor=\"let n of getArrayOf(60);let m = index\" class=\"{{isMonthDisabled(m) ? 'disabled' : ''}}\">\r\n                        <button class=\"{{isCurrent(m,'minute') ? 'active' : ''}}\" (click)=\"setMinute(m)\">{{m}}</button>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n\r\n            <div class=\"picker\" *ngIf=\"picker == 'duration'\">\r\n                <span *ngIf=\"view == 'hours'\">Select Hours</span>\r\n                <ul class=\"picker-col-6\" *ngIf=\"view == 'hours'\">\r\n                    <li *ngFor=\"let n of getArrayOf(25);let h = index\">\r\n                        <button class=\"{{h == duration.hours ? 'active' : ''}}\" (click)=\"setDurationHours(h)\">{{h}}</button>\r\n                    </li>\r\n                </ul>\r\n                <span *ngIf=\"view == 'minutes'\">Select Minutes</span>\r\n                <ul class=\"picker-col-6\" *ngIf=\"view == 'minutes'\">\r\n                    <li *ngFor=\"let n of getArrayOf(60);let m = index\">\r\n                        <button class=\"{{m == duration.minutes ? 'active' : ''}}\" (click)=\"setDurationMinutes(m)\">{{m}}</button>\r\n                    </li>\r\n                </ul>\r\n                <span *ngIf=\"view == 'seconds'\">Select Seconds</span>\r\n                <ul class=\"picker-col-6\" *ngIf=\"view == 'seconds'\">\r\n                    <li *ngFor=\"let n of getArrayOf(60);let s = index\">\r\n                        <button class=\"{{s == duration.seconds ? 'active' : ''}}\" (click)=\"setDurationSeconds(s)\">{{s}}</button>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n\r\n            <div class=\"picker\" *ngIf=\"view == 'month' || picker == 'month'\">\r\n                <div class=\"disabled-mask\" *ngIf=\"allMonthsDisabled()\">\r\n                    <small>{{getDisableMaskLabel().label}}</small>\r\n                    <span>{{getDisableMaskLabel().range}}</span>\r\n                </div>\r\n                <ul class=\"picker-col-2\">\r\n                    <li *ngFor=\"let month of config.months;let m = index\" class=\"{{isMonthDisabled(m) ? 'disabled' : ''}}\">\r\n                        <button (click)=\"setMonth(m);\" class=\"{{isCurrent(m+1 + '','month') ? 'active' : ''}}\">{{month}}</button>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"picker\" *ngIf=\"view == 'year'  || picker == 'year'\">\r\n                <div class=\"disabled-mask\" *ngIf=\"allYearRangeDisabled()\">\r\n                    <small>{{getDisableMaskLabel().label}}</small>\r\n                    <span>{{getDisableMaskLabel().range}}</span>\r\n                </div>\r\n                <ul class=\"picker-col-4\">\r\n                    <li *ngFor=\"let year of getYearsRange()\" class=\"{{isYearDisabled(year) ? 'disabled' : ''}}\">\r\n                        <button class=\"{{isCurrent(year,'year') ? 'active' : ''}}\" (click)=\"setYear(year);\">{{year}}</button>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n        <div class=\"datepicker-footer\">\r\n            <button (click)=\"closeDatePicker()\">Cancel</button>\r\n            <button (click)=\"apply()\">Apply</button>\r\n        </div>\r\n    </div>\r\n</div>", styles: [".datepicker-overlay{position:fixed;z-index:9999;background:#0000001f;width:100%;height:100%;left:0;top:0}.datepicker-fixed{width:100%;max-width:300px;z-index:999999;position:fixed;-webkit-user-select:none;user-select:none}.datepicker-container{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;background-color:#fff;color:#000000de;width:100%}.datepicker-header-label{background:#3f51b5;color:#fff;display:flex;flex-direction:row;justify-content:center;padding:10px}.datepicker-header-action{display:flex;flex-direction:row;align-items:center}.datepicker-header-action>div{flex:1;display:flex;align-items:center;justify-content:center}.datepicker-header-action>button{border:none;background:transparent;height:40px}.datepicker-footer>button{border:none;background:#fff;border-radius:5px;font-size:15px;padding:5px 20px}.datepicker-footer{padding:10px;display:flex;flex-direction:row;width:100%}.datepicker-footer>button:last-child{box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;margin-left:auto}ul.datepicker-weeks{list-style:none;padding:10px 0;margin:0;display:flex;flex-direction:row;border-bottom:1px solid #ddd}ul.datepicker-weeks>li{flex:1;display:flex;align-items:center;justify-content:center;font-size:12px}ul.datepicker-dates{padding:0;margin:0;list-style:none;display:block}ul.datepicker-dates>li{width:14.28%;display:block;font-size:12px;position:relative;padding-top:14.28%;float:left}ul.datepicker-dates>li.disabled,.picker .disabled,.picker .disabled button:hover{cursor:not-allowed;background:#b4b4b4}ul.datepicker-dates>li>span{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%;cursor:pointer}ul.datepicker-dates>li>span:hover{background:#ddd}ul.datepicker-dates>li.active>span{background:#3f51b5;color:#fff}.datepicker-header-label-date,.datepicker-header-label-time{display:flex}.datepicker-header-label-date{flex-direction:column}.datepicker-header-label-time{flex-direction:row}.datepicker-header-label button{background:transparent;color:#fff;opacity:.5;transition:.5s all ease;border:none;position:relative}.datepicker-header-label button>span{position:absolute;top:-25px;font-size:12px;left:0;width:100%;text-align:center}.datepicker-header-label button.active{opacity:1;color:#ffeb3b}.datepicker-header-label button:hover{opacity:.8}.datepicker-header-label-date>button{width:100%;text-align:left}.datepicker-header-label-date>button{font-size:18px}.datepicker-header-label-date>div{width:100%;display:flex;flex-direction:row}.datepicker-header-label-date>div>button{font-size:35px;line-height:30px}.datepicker-header-label-time>button{font-size:35px;line-height:30px}.datepicker-header-label-time>span{font-size:30px;line-height:0px;width:5px;justify-content:center;align-items:center;height:100%;display:flex}.datepicker-header-label-time>div{display:flex;flex-direction:column;align-items:center;justify-content:center}.datepicker-header-label-time>div>button{font-size:15px;line-height:15px}.picker>span{font-size:14px;display:block;width:100%;padding:5px}.picker>ul{list-style:none;padding:0;margin:0;display:flex;flex-direction:row;flex-wrap:wrap;max-height:250px;overflow:auto}ul.picker-col-2>li{width:50%}ul.picker-col-3>li{width:33.33%}ul.picker-col-4>li{width:25%}ul.picker-col-6>li{width:16.66%}.picker>ul>li{padding:5px}.picker>ul>li>button{width:100%;border:none;padding:5px;font-size:12px;border-radius:5px;background:#0000000a}.picker>ul>li>button:hover{background:#ddd}.picker>ul>li>button.active{background:#3f51b5;color:#fff}.picker{position:relative}.disabled-mask{position:absolute;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:0;color:#fff;background:#00000091;z-index:1;visibility:hidden;opacity:0;transition:.1s all ease}.disabled-mask>button{position:absolute;top:5px;right:5px;border:none;width:30px;height:30px;color:#fff;font-size:20px;padding:0;background:transparent;outline:none}.disabled-mask>small{font-size:11px}.disabled-mask>span{font-weight:700;font-size:14px}.disabled-mask.show{visibility:visible;opacity:1}\n"] }]
        }], ctorParameters: () => [{ type: i0.ChangeDetectorRef }], propDecorators: { container: [{
                type: ViewChild,
                args: ["container"]
            }], element: [{
                type: Input,
                args: ["element"]
            }], format: [{
                type: Input,
                args: ["format"]
            }], picker: [{
                type: Input,
                args: ['picker']
            }], view: [{
                type: Input,
                args: ['view']
            }], hours: [{
                type: Input,
                args: ['hours']
            }], minutes: [{
                type: Input,
                args: ['minutes']
            }], seconds: [{
                type: Input,
                args: ['seconds']
            }], disableBackDateTime: [{
                type: Input,
                args: ['disableBackDateTime']
            }], disableFutureDateTime: [{
                type: Input,
                args: ['disableFutureDateTime']
            }], backDateTime: [{
                type: Input,
                args: ['backDateTime']
            }], futureDateTime: [{
                type: Input,
                args: ['futureDateTime']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGl0dG8uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvZGl0dG8vc3JjL2xpYi9kaXR0by9kaXR0by5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9kaXR0by9zcmMvbGliL2RpdHRvL2RpdHRvLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBb0MsU0FBUyxFQUFjLEtBQUssRUFBVSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDbEgsT0FBTyxNQUFNLE1BQU0sUUFBUSxDQUFDOzs7QUFjNUIsTUFBTSxPQUFPLGNBQWM7SUFHZjtJQURWLFlBQ1UsS0FBd0I7UUFBeEIsVUFBSyxHQUFMLEtBQUssQ0FBbUI7SUFDOUIsQ0FBQztJQUdMLFVBQVUsR0FBYSxLQUFLLENBQUM7SUFDN0IsSUFBSSxHQUFZLEtBQUssQ0FBQztJQUNFLFNBQVMsQ0FBZTtJQUM5QixPQUFPLENBQWU7SUFDdkIsTUFBTSxHQUFXLHFCQUFxQixDQUFDO0lBR3ZDLE1BQU0sR0FBa0UsTUFBTSxDQUFDO0lBQ2pGLElBQUksR0FBd0gsTUFBTSxDQUFDO0lBQ2xJLEtBQUssR0FBYSxJQUFJLENBQUM7SUFDckIsT0FBTyxHQUFhLElBQUksQ0FBQztJQUN6QixPQUFPLEdBQWEsSUFBSSxDQUFDO0lBQ2IsbUJBQW1CLEdBQWEsS0FBSyxDQUFDO0lBQ3BDLHFCQUFxQixHQUFhLEtBQUssQ0FBQztJQUNqRCxZQUFZLEdBQUcsTUFBTSxFQUFFLENBQUMsTUFBTSxDQUFDLHFCQUFxQixDQUFDLENBQUM7SUFDcEQsY0FBYyxHQUFHLE1BQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO0lBR2pGLFFBQVEsR0FJSjtRQUNGLEtBQUssRUFBRyxDQUFDO1FBQ1QsT0FBTyxFQUFHLENBQUM7UUFDWCxPQUFPLEVBQUcsQ0FBQztLQUNaLENBQUM7SUFF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RCxTQUFTLENBQUMsS0FBVSxFQUFFLElBQVk7UUFFaEMsSUFBSSxJQUFJLElBQUksTUFBTSxFQUFFLENBQUM7WUFDbkIsSUFBSSxLQUFLLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO2dCQUN6RCxPQUFPLElBQUksQ0FBQztZQUNkLENBQUM7UUFDSCxDQUFDO2FBQU0sSUFBSSxJQUFJLElBQUksUUFBUSxFQUFFLENBQUM7WUFDNUIsSUFBSSxLQUFLLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO2dCQUN6RCxPQUFPLElBQUksQ0FBQztZQUNkLENBQUM7UUFDSCxDQUFDO2FBQU0sSUFBSSxJQUFJLElBQUksTUFBTSxFQUFFLENBQUM7WUFDMUIsSUFBSSxLQUFLLENBQUMsV0FBVyxFQUFFLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxXQUFXLEVBQUUsRUFBRSxDQUFDO2dCQUNyRixPQUFPLElBQUksQ0FBQztZQUNkLENBQUM7UUFDSCxDQUFDO2FBQU0sSUFBSSxJQUFJLElBQUksTUFBTSxFQUFFLENBQUM7WUFDMUIsSUFBSSxLQUFLLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDO2dCQUNsRSxPQUFPLElBQUksQ0FBQztZQUNkLENBQUM7UUFDSCxDQUFDO2FBQU0sSUFBSSxJQUFJLElBQUksT0FBTyxFQUFFLENBQUM7WUFDM0IsSUFBSSxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUMsV0FBVyxFQUFFLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFL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LFFBQVE7Z0JBQ0EsSUFBSTtzQkFBbEIsS0FBSzt1QkFBQyxNQUFNO2dCQUNHLEtBQUs7c0JBQXBCLEtBQUs7dUJBQUMsT0FBTztnQkFDSSxPQUFPO3NCQUF4QixLQUFLO3VCQUFDLFNBQVM7Z0JBQ0UsT0FBTztzQkFBeEIsS0FBSzt1QkFBQyxTQUFTO2dCQUNjLG1CQUFtQjtzQkFBaEQsS0FBSzt1QkFBQyxxQkFBcUI7Z0JBQ0kscUJBQXFCO3NCQUFwRCxLQUFLO3VCQUFDLHVCQUF1QjtnQkFDUCxZQUFZO3NCQUFsQyxLQUFLO3VCQUFDLGNBQWM7Z0JBQ0ksY0FBYztzQkFBdEMsS0FBSzt1QkFBQyxnQkFBZ0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBZnRlclZpZXdJbml0LCBDaGFuZ2VEZXRlY3RvclJlZiwgQ29tcG9uZW50LCBFbGVtZW50UmVmLCBJbnB1dCwgT25Jbml0LCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xyXG5cclxuXHJcbiB0eXBlIERpdHRvRGF0ZVR5cGUgPSB7XHJcbiAgZGF0ZTogbnVtYmVyLFxyXG4gICAgICAgIGZvcm1hdGVkOiBzdHJpbmcsXHJcbiAgICAgICAgZGlzYWJsZWQgOiBib29sZWFuXHJcbiB9O1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdkaXR0bycsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL2RpdHRvLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi9kaXR0by5jb21wb25lbnQuY3NzJ10sXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBEaXR0b0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgQWZ0ZXJWaWV3SW5pdCB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBjZFJlZjogQ2hhbmdlRGV0ZWN0b3JSZWZcclxuICApIHsgfVxyXG5cclxuICBcclxuICBzaG93RXJyb3JzIDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIHNob3c6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBAVmlld0NoaWxkKFwiY29udGFpbmVyXCIpIGNvbnRhaW5lciAhOiBFbGVtZW50UmVmO1xyXG4gIEBJbnB1dChcImVsZW1lbnRcIikgZWxlbWVudCAhOiBFbGVtZW50UmVmO1xyXG4gIEBJbnB1dChcImZvcm1hdFwiKSBmb3JtYXQ6IHN0cmluZyA9IFwiWVlZWS1NTS1ERCBISDptbTpzc1wiO1xyXG5cclxuXHJcbiAgQElucHV0KCdwaWNrZXInKSBwaWNrZXIgOiAnZGF0ZScgfCAndGltZScgfCAnZGF0ZXRpbWUnIHwgJ2R1cmF0aW9uJyB8ICdtb250aCcgfCAneWVhcicgPSAnZGF0ZSc7XHJcbiAgQElucHV0KCd2aWV3JykgdmlldyA6ICdkYXRlJyB8ICd0aW1lJyB8ICdkYXRldGltZScgfCAnZHVyYXRpb24nIHwgJ21vbnRoJyB8ICd5ZWFyJyB8ICdob3VyJyB8ICdtaW51dGUnIHwgJ2hvdXJzJyB8ICdtaW51dGVzJyB8ICdzZWNvbmRzJyA9ICdkYXRlJztcclxuICBASW5wdXQoJ2hvdXJzJykgaG91cnMgOiBib29sZWFuID0gdHJ1ZTtcclxuICBASW5wdXQoJ21pbnV0ZXMnKSBtaW51dGVzIDogYm9vbGVhbiA9IHRydWU7XHJcbiAgQElucHV0KCdzZWNvbmRzJykgc2Vjb25kcyA6IGJvb2xlYW4gPSB0cnVlO1xyXG4gIEBJbnB1dCgnZGlzYWJsZUJhY2tEYXRlVGltZScpIGRpc2FibGVCYWNrRGF0ZVRpbWUgOiBib29sZWFuID0gZmFsc2U7XHJcbiAgQElucHV0KCdkaXNhYmxlRnV0dXJlRGF0ZVRpbWUnKSBkaXNhYmxlRnV0dXJlRGF0ZVRpbWUgOiBib29sZWFuID0gZmFsc2U7XHJcbiAgQElucHV0KCdiYWNrRGF0ZVRpbWUnKSBiYWNrRGF0ZVRpbWUgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKTtcclxuICBASW5wdXQoJ2Z1dHVyZURhdGVUaW1lJykgZnV0dXJlRGF0ZVRpbWUgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKTtcclxuXHJcblxyXG4gIGR1cmF0aW9uIDoge1xyXG4gICAgaG91cnMgOiBudW1iZXIsXHJcbiAgICBtaW51dGVzIDogbnVtYmVyLFxyXG4gICAgc2Vjb25kcyA6IG51bWJlclxyXG4gIH0gPSB7XHJcbiAgICBob3VycyA6IDAsXHJcbiAgICBtaW51dGVzIDogMCxcclxuICAgIHNlY29uZHMgOiAwXHJcbiAgfTtcclxuXHJcbiAgY29uZmlnID0ge1xyXG4gICAgdGltZXBpY2tlcjogJycsIC8vaG91ciAsIG1pbnV0ZVxyXG4gICAgcG9zaXRpb246IHtcclxuICAgICAgeDogMCxcclxuICAgICAgeTogMFxyXG4gICAgfSxcclxuICAgIHN0YXJ0WWVhcjogbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpLFxyXG4gICAgaWNvbnM6IHtcclxuICAgICAgbGVmdDogXCLwn6GwXCIsXHJcbiAgICAgIHJpZ2h0OiBcIvCfobJcIixcclxuICAgICAgdXA6IFwi8J+hsVwiLFxyXG4gICAgICBkb3duOiBcIvCfobNcIlxyXG4gICAgfSxcclxuICAgIHdlZWtzOiBbXCJTdW5kYXlcIiwgXCJNb25kYXlcIiwgXCJUdWVzZGF5XCIsIFwiV2VkbmVzZGF5XCIsIFwiVGhpcnNkYXlcIiwgXCJGcmlkYXlcIiwgXCJTYXR1cmRheVwiXSxcclxuICAgIG1vbnRoczogWydKYW51YXJ5JywgJ0ZlYnJ1YXJ5JywgJ01hcmNoJywgJ0FwcmlsJywgJ01heScsICdKdW5lJywgJ0p1bHknLCAnQXVndXN0JywgJ1NlcHRlbWJlcicsICdPY3RvYmVyJywgJ05vdmVtYmVyJywgJ0RlY2VtYmVyJ10sXHJcbiAgfTtcclxuXHJcbiAgX3ZhbHVlOiBzdHJpbmcgPSBcIlwiO1xyXG5cclxuICBnZXQgdmFsdWUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XHJcbiAgfVxyXG5cclxuICBzZXQgdmFsdWUodmFsdWU6IHN0cmluZykge1xyXG4gICAgaWYgKHZhbHVlICE9PSBcIlwiICYmIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0aGlzLmZvcm1hdCAhPT0gXCJcIikge1xyXG4gICAgICBpZiAobW9tZW50KHZhbHVlLCB0aGlzLmZvcm1hdCkuaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkludmFsaWQgZGF0ZVwiKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25BcHBseTogYW55ID0gKF92OiBzdHJpbmcpID0+IHsgfVxyXG5cclxuXHJcbiAgdHJhY2tCeShuOiBudW1iZXIpIHtcclxuICAgIHJldHVybiBuO1xyXG4gIH1cclxuXHJcbiAgZ2V0UHJlZml4RGF5cygpIHtcclxuICAgIHZhciBkYXRlID0gbW9tZW50KHRoaXMudmFsdWUsIHRoaXMuZm9ybWF0KS5zdGFydE9mKCdtb250aCcpO1xyXG4gICAgdmFyIGRheSA9IE51bWJlcihkYXRlLmZvcm1hdChcImRcIikpO1xyXG4gICAgcmV0dXJuIG5ldyBBcnJheShkYXkpO1xyXG4gIH1cclxuXHJcbiAgZ2V0RGF0ZXNJbk1vbnRoQXJyYXkoKSB7XHJcbiAgICB2YXIgZGF0ZXMgOiBEaXR0b0RhdGVUeXBlW10gPSBbXTtcclxuICAgIHZhciBhID0gbW9tZW50KHRoaXMudmFsdWUsIHRoaXMuZm9ybWF0KS5zdGFydE9mKCdtb250aCcpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xyXG4gICAgdmFyIGIgPSBtb21lbnQodGhpcy52YWx1ZSwgdGhpcy5mb3JtYXQpLmVuZE9mKCdtb250aCcpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xyXG5cclxuICAgIGZvciAodmFyIG0gPSBtb21lbnQoYSk7IG0uZGlmZihiLCAnZGF5cycpIDw9IDA7IG0uYWRkKDEsICdkYXlzJykpIHtcclxuICAgICAgdmFyIGRhdGUgOiBEaXR0b0RhdGVUeXBlID0ge1xyXG4gICAgICAgIGRhdGU6IE51bWJlcihtLmZvcm1hdCgnRCcpKSxcclxuICAgICAgICBmb3JtYXRlZDogbS5mb3JtYXQoXCJZWVlZLU1NLUREXCIpLFxyXG4gICAgICAgIGRpc2FibGVkIDogZmFsc2VcclxuICAgICAgfTtcclxuICAgICAgaWYodGhpcy5kaXNhYmxlQmFja0RhdGVUaW1lICA9PSB0cnVlKXtcclxuICAgICAgICBpZihtb21lbnQoZGF0ZS5mb3JtYXRlZCwnWVlZWS1NTS1ERCcpLmlzQmVmb3JlKG1vbWVudCh0aGlzLmJhY2tEYXRlVGltZSx0aGlzLmZvcm1hdCkpKXtcclxuICAgICAgICAgIGRhdGUuZGlzYWJsZWQgPXRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZih0aGlzLmRpc2FibGVGdXR1cmVEYXRlVGltZSAgPT0gdHJ1ZSl7XHJcbiAgICAgICAgaWYobW9tZW50KGRhdGUuZm9ybWF0ZWQsJ1lZWVktTU0tREQnKS5pc0FmdGVyKG1vbWVudCh0aGlzLmZ1dHVyZURhdGVUaW1lLHRoaXMuZm9ybWF0KSkpe1xyXG4gICAgICAgICAgZGF0ZS5kaXNhYmxlZCA9dHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIFxyXG5cclxuICAgICAgZGF0ZXMucHVzaChkYXRlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkYXRlcztcclxuICB9XHJcblxyXG4gIGdldERheXNJbk1vbnRoKCkge1xyXG4gICAgcmV0dXJuIG5ldyBBcnJheShtb21lbnQoKS5kYXlzSW5Nb250aCgpKTtcclxuICB9XHJcblxyXG5cclxuXHJcblxyXG5cclxuICBnZXRBcnJheU9mKG46IG51bWJlcikge1xyXG4gICAgcmV0dXJuIG5ldyBBcnJheShuKTtcclxuICB9XHJcblxyXG4gIHRpdGxlQ2FzZShzdHI6IHN0cmluZykge1xyXG4gICAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xcYihcXHcpL2csIHMgPT4gcy50b1VwcGVyQ2FzZSgpKTtcclxuICB9XHJcblxyXG4gIHByZWZpeFplcm8objogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gKCcwJyArIG4pLnNsaWNlKC0yKTtcclxuICB9XHJcblxyXG4gIGxpbWl0Q2hhcihzdHI6IHN0cmluZywgbjogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gc3RyLnN1YnN0cmluZygwLCBuKTtcclxuICB9XHJcblxyXG4gIHNldE5leHRZZWFyUmFuZ2UoKSB7XHJcbiAgICB0aGlzLmNvbmZpZy5zdGFydFllYXIgPSB0aGlzLmNvbmZpZy5zdGFydFllYXIgKyAxNTtcclxuICB9XHJcblxyXG4gIHNldFByZXZZZWFyUmFuZ2UoKSB7XHJcbiAgICB0aGlzLmNvbmZpZy5zdGFydFllYXIgPSB0aGlzLmNvbmZpZy5zdGFydFllYXIgLSAxNTtcclxuICB9XHJcblxyXG5cclxuICBzZXROZXh0TW9udGgoKSB7XHJcbiAgICB0aGlzLnZhbHVlID0gbW9tZW50KHRoaXMudmFsdWUsIHRoaXMuZm9ybWF0KS5hZGQoMSwgXCJNXCIpLmZvcm1hdCh0aGlzLmZvcm1hdCk7XHJcbiAgfVxyXG5cclxuICBzZXRQcmV2TW9udGgoKSB7XHJcbiAgICB0aGlzLnZhbHVlID0gbW9tZW50KHRoaXMudmFsdWUsIHRoaXMuZm9ybWF0KS5hZGQoLTEsIFwiTVwiKS5mb3JtYXQodGhpcy5mb3JtYXQpO1xyXG4gIH1cclxuXHJcbiAgZ2V0WWVhcnNSYW5nZSgpIHtcclxuICAgIHZhciB5ZWFycyA9IFtdO1xyXG4gICAgdmFyIHN0YXJ0WWVhciA9IHRoaXMuY29uZmlnLnN0YXJ0WWVhciAtIDc7XHJcbiAgICB2YXIgZW5kWWVhciA9IHRoaXMuY29uZmlnLnN0YXJ0WWVhciArIDc7XHJcbiAgICBmb3IgKHZhciB5ID0gc3RhcnRZZWFyOyB5IDw9IGVuZFllYXI7IHkrKykge1xyXG4gICAgICB5ZWFycy5wdXNoKHkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHllYXJzO1xyXG4gIH1cclxuXHJcblxyXG5cclxuICBzZXRQb3NpdGlvbigpIHtcclxuICAgIHZhciBpbnN0ID0gdGhpcztcclxuICAgIHZhciBkaXJlY3RpdmVSZWN0ID0gaW5zdC5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICB2YXIgY29udGFpbmVyUmVjdCA9IGluc3QuY29udGFpbmVyLm5hdGl2ZUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG5cclxuICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSA2MDAgfHwgd2luZG93LmlubmVySGVpZ2h0IDw9IDYwMCkge1xyXG4gICAgICBpbnN0LmNvbmZpZy5wb3NpdGlvbi54ID0gKHdpbmRvdy5pbm5lcldpZHRoIC0gY29udGFpbmVyUmVjdC53aWR0aCkgLyAyO1xyXG4gICAgICBpbnN0LmNvbmZpZy5wb3NpdGlvbi55ID0gKHdpbmRvdy5pbm5lckhlaWdodCAtIGNvbnRhaW5lclJlY3QuaGVpZ2h0KSAvIDI7XHJcbiAgICAgIGluc3QuY2RSZWYuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGNvbnRhaW5lcjogY29udGFpbmVyUmVjdCxcclxuICAgICAgICBkaXJlY3RpdmU6IGRpcmVjdGl2ZVJlY3RcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgaWYgKHdpbmRvdy5pbm5lckhlaWdodCA8PSBkaXJlY3RpdmVSZWN0LmhlaWdodCArIGNvbnRhaW5lclJlY3QuaGVpZ2h0ICsgZGlyZWN0aXZlUmVjdC55KSB7XHJcblxyXG4gICAgICBpbnN0LmNvbmZpZy5wb3NpdGlvbi54ID0gKHdpbmRvdy5pbm5lcldpZHRoIC0gY29udGFpbmVyUmVjdC53aWR0aCkgLyAyO1xyXG4gICAgICBpbnN0LmNvbmZpZy5wb3NpdGlvbi55ID0gKHdpbmRvdy5pbm5lckhlaWdodCAtIGNvbnRhaW5lclJlY3QuaGVpZ2h0KSAvIDI7XHJcblxyXG4gICAgfSBlbHNlIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSBkaXJlY3RpdmVSZWN0LndpZHRoICsgY29udGFpbmVyUmVjdC53aWR0aCArIGRpcmVjdGl2ZVJlY3QueCkge1xyXG4gICAgICBpbnN0LmNvbmZpZy5wb3NpdGlvbi55ID0gZGlyZWN0aXZlUmVjdC55ICsgZGlyZWN0aXZlUmVjdC5oZWlnaHQ7XHJcbiAgICAgIGluc3QuY29uZmlnLnBvc2l0aW9uLnggPSAoKGRpcmVjdGl2ZVJlY3QueCAtIGNvbnRhaW5lclJlY3Qud2lkdGgpICsgZGlyZWN0aXZlUmVjdC53aWR0aCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpbnN0LmNvbmZpZy5wb3NpdGlvbi54ID0gZGlyZWN0aXZlUmVjdC54O1xyXG4gICAgICBpbnN0LmNvbmZpZy5wb3NpdGlvbi55ID0gZGlyZWN0aXZlUmVjdC55ICsgZGlyZWN0aXZlUmVjdC5oZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgaW5zdC5jZFJlZi5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBjb250YWluZXI6IGNvbnRhaW5lclJlY3QsXHJcbiAgICAgIGRpcmVjdGl2ZTogZGlyZWN0aXZlUmVjdFxyXG4gICAgfTtcclxuICB9XHJcblxyXG5cclxuXHJcbiAgZ2V0Rm9ybWF0ZWQoZm9ybWF0OiBzdHJpbmcpIHtcclxuICAgIHJldHVybiBtb21lbnQodGhpcy52YWx1ZSwgdGhpcy5mb3JtYXQpLmZvcm1hdChmb3JtYXQpO1xyXG4gIH1cclxuXHJcbiAgaXNDdXJyZW50KHZhbHVlOiBhbnksIG1vZGU6IHN0cmluZykge1xyXG5cclxuICAgIGlmIChtb2RlID09IFwiaG91clwiKSB7XHJcbiAgICAgIGlmICh2YWx1ZSA9PSBtb21lbnQodGhpcy52YWx1ZSwgdGhpcy5mb3JtYXQpLmZvcm1hdChcImhcIikpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChtb2RlID09IFwibWludXRlXCIpIHtcclxuICAgICAgaWYgKHZhbHVlID09IG1vbWVudCh0aGlzLnZhbHVlLCB0aGlzLmZvcm1hdCkuZm9ybWF0KFwibVwiKSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKG1vZGUgPT0gXCJhbXBtXCIpIHtcclxuICAgICAgaWYgKHZhbHVlLnRvTG93ZXJDYXNlKCkgPT0gbW9tZW50KHRoaXMudmFsdWUsIHRoaXMuZm9ybWF0KS5mb3JtYXQoXCJBXCIpLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChtb2RlID09IFwiZGF0ZVwiKSB7XHJcbiAgICAgIGlmICh2YWx1ZSA9PSBtb21lbnQodGhpcy52YWx1ZSwgdGhpcy5mb3JtYXQpLmZvcm1hdChcIllZWVktTU0tRERcIikpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChtb2RlID09IFwibW9udGhcIikge1xyXG4gICAgICBpZiAodmFsdWUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpID09IG1vbWVudCh0aGlzLnZhbHVlLCB0aGlzLmZvcm1hdCkuZm9ybWF0KFwiTVwiKS50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAobW9kZSA9PSBcInllYXJcIikge1xyXG4gICAgICBpZiAodmFsdWUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpID09IG1vbWVudCh0aGlzLnZhbHVlLCB0aGlzLmZvcm1hdCkuZm9ybWF0KFwiWVlZWVwiKS50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuXHJcbiAgc2V0QW1QbSh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICB2YXIgZGF0ZSA9IG1vbWVudCh0aGlzLnZhbHVlLCB0aGlzLmZvcm1hdCkuZm9ybWF0KFwiWVlZWS1NTS1ERCBMVFwiKTtcclxuICAgIGRhdGUgPSBkYXRlLnJlcGxhY2UoXCJBTVwiLCB2YWx1ZSkucmVwbGFjZShcIlBNXCIsIHZhbHVlKTtcclxuICAgIHRoaXMudmFsdWUgPSBtb21lbnQoZGF0ZSwgXCJZWVlZLU1NLUREIExUXCIpLmZvcm1hdCh0aGlzLmZvcm1hdCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgc2V0RGF0ZShkIDogRGl0dG9EYXRlVHlwZSkge1xyXG4gICAgaWYoIWQuZGlzYWJsZWQpe1xyXG4gICAgICB0aGlzLnZhbHVlID0gbW9tZW50KHRoaXMudmFsdWUsIHRoaXMuZm9ybWF0KS5zZXQoXCJEXCIsIGQuZGF0ZSkuZm9ybWF0KHRoaXMuZm9ybWF0KTtcclxuXHJcbiAgICAgIGlmKHRoaXMucGlja2VyID09ICdkYXRldGltZScpe1xyXG4gICAgICAgIHRoaXMudmlldyA9ICdob3VyJztcclxuICAgICAgfWVsc2V7XHJcbiAgICAgICAgdGhpcy52aWV3ID0gJ2RhdGUnO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbiAgc2V0TW9udGgobTogbnVtYmVyKSB7XHJcbiAgICBpZighdGhpcy5pc01vbnRoRGlzYWJsZWQobSkpe1xyXG4gICAgICB0aGlzLnZhbHVlID0gbW9tZW50KHRoaXMudmFsdWUsIHRoaXMuZm9ybWF0KS5zZXQoXCJNXCIsIG0pLmZvcm1hdCh0aGlzLmZvcm1hdCk7XHJcbiAgICAgIGlmKHRoaXMucGlja2VyID09ICdkYXRldGltZScgfHwgdGhpcy5waWNrZXIgPT0gJ2RhdGUnKXtcclxuICAgICAgICB0aGlzLnZpZXcgPSAnZGF0ZSdcclxuICAgICAgfWVsc2V7XHJcbiAgICAgICAgdGhpcy52aWV3ID0gJ21vbnRoJztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG4gIHNldFllYXIoeTogbnVtYmVyKSB7XHJcbiAgICBpZighdGhpcy5pc1llYXJEaXNhYmxlZCh5KSl7XHJcbiAgICAgIHRoaXMudmFsdWUgPSBtb21lbnQodGhpcy52YWx1ZSwgdGhpcy5mb3JtYXQpLnNldChcInllYXJcIiwgeSkuZm9ybWF0KHRoaXMuZm9ybWF0KTtcclxuICAgICAgaWYodGhpcy5waWNrZXIgPT0gJ2RhdGV0aW1lJyB8fCB0aGlzLnBpY2tlciA9PSAnZGF0ZScpe1xyXG4gICAgICAgIHRoaXMudmlldyA9ICdtb250aCdcclxuICAgICAgfWVsc2V7XHJcbiAgICAgICAgdGhpcy52aWV3ID0gJ3llYXInO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbiAgc2V0SG91cihoOiBudW1iZXIpIHtcclxuICAgIHRoaXMudmFsdWUgPSBtb21lbnQodGhpcy52YWx1ZSwgdGhpcy5mb3JtYXQpLnNldChcImhcIiwgaCkuZm9ybWF0KHRoaXMuZm9ybWF0KTtcclxuICAgICAgaWYodGhpcy5waWNrZXIgPT0gJ2RhdGV0aW1lJyB8fCB0aGlzLnBpY2tlciA9PSAndGltZScpe1xyXG4gICAgICAgIHRoaXMudmlldyA9ICdtaW51dGUnO1xyXG4gICAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRNaW51dGUodmFsdWU6IG51bWJlcikge1xyXG4gICAgdGhpcy52YWx1ZSA9IG1vbWVudCh0aGlzLnZhbHVlLCB0aGlzLmZvcm1hdCkuc2V0KFwibVwiLCB2YWx1ZSkuZm9ybWF0KHRoaXMuZm9ybWF0KTtcclxuICAgIGlmICh0aGlzLnBpY2tlciA9PSBcInRpbWVcIikge1xyXG4gICAgICB0aGlzLmNvbmZpZy50aW1lcGlja2VyID0gXCJcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMudmlldyA9IFwiZGF0ZVwiO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIHNldER1cmF0aW9uSG91cnModmFsdWU6IG51bWJlcikge1xyXG4gICAgdGhpcy5kdXJhdGlvbi5ob3VycyA9IHZhbHVlO1xyXG5cclxuICAgIGlmKHRoaXMubWludXRlcyl7XHJcbiAgICAgIHRoaXMudmlldyA9ICdtaW51dGVzJztcclxuICAgIH1lbHNlIGlmKHRoaXMuc2Vjb25kcyl7XHJcbiAgICAgIHRoaXMudmlldyA9ICdzZWNvbmRzJztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldER1cmF0aW9uTWludXRlcyh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLmR1cmF0aW9uLm1pbnV0ZXMgPSB2YWx1ZTtcclxuXHJcbiBpZih0aGlzLnNlY29uZHMpe1xyXG4gICAgICB0aGlzLnZpZXcgPSAnc2Vjb25kcyc7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcblxyXG4gIHNldER1cmF0aW9uU2Vjb25kcyh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLmR1cmF0aW9uLnNlY29uZHMgPSB2YWx1ZSA7XHJcbiAgfVxyXG5cclxuICBhcHBseSgpIHtcclxuICAgIGlmKHRoaXMucGlja2VyID09ICdkdXJhdGlvbicpe1xyXG5cclxuICAgICB2YXIgZHVyYXRpb25zIDogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgICAgIGlmKHRoaXMuaG91cnMpe1xyXG4gICAgICAgIGR1cmF0aW9ucy5wdXNoKHRoaXMucGFkaW50KHRoaXMuZHVyYXRpb24uaG91cnMpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYodGhpcy5taW51dGVzKXtcclxuICAgICAgICBkdXJhdGlvbnMucHVzaCh0aGlzLnBhZGludCh0aGlzLmR1cmF0aW9uLm1pbnV0ZXMpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYodGhpcy5zZWNvbmRzKXtcclxuICAgICAgICBkdXJhdGlvbnMucHVzaCh0aGlzLnBhZGludCh0aGlzLmR1cmF0aW9uLnNlY29uZHMpKTtcclxuICAgICAgfVxyXG5cclxuXHJcbiAgICAgIHRoaXMub25BcHBseShkdXJhdGlvbnMuam9pbignOicpKTtcclxuICAgIH1lbHNle1xyXG5cclxuICAgICAgdmFyIG0gPSBtb21lbnQodGhpcy52YWx1ZSx0aGlzLmZvcm1hdCk7XHJcblxyXG4gICAgICBpZih0aGlzLmlzTW9tZW50RGlzYWJsZWQobSkpe1xyXG4gICAgICAgIHRoaXMuc2hvd0Vycm9ycyA9IHRydWU7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKT0+e3RoaXMuc2hvd0Vycm9ycyA9IGZhbHNlO30sMTUwMCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLm9uQXBwbHkodGhpcy52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmNsb3NlRGF0ZVBpY2tlcigpO1xyXG4gIH1cclxuXHJcbiAgIHBhZGludChuIDogbnVtYmVyLCB3IDogbnVtYmVyID0gMikge1xyXG4gICAgbGV0IG51bWJlclN0cmluZyA9IG4udG9TdHJpbmcoKTtcclxuICAgIGxldCBwYWRkaW5nID0gTWF0aC5tYXgoMCwgdyAtIG51bWJlclN0cmluZy5sZW5ndGgpO1xyXG4gICAgbGV0IHBhZGRlZE51bWJlciA9ICcwJy5yZXBlYXQocGFkZGluZykgKyBudW1iZXJTdHJpbmc7XHJcbiAgICByZXR1cm4gcGFkZGVkTnVtYmVyO1xyXG59XHJcblxyXG5cclxuZ2V0RGlzYWJsZU1hc2tMYWJlbCgpIDoge1xyXG4gIGxhYmVsIDogc3RyaW5nLFxyXG4gIHJhbmdlIDogc3RyaW5nXHJcbn17XHJcbiAgdmFyIG1pZCA9ICcnO1xyXG4gIGlmKHRoaXMucGlja2VyID09ICdkYXRldGltZScpe1xyXG4gICAgbWlkID0gJ2RhdGUgYW5kIHRpbWUnO1xyXG4gIH1lbHNlIGlmKHRoaXMucGlja2VyID09ICdkYXRlJyl7XHJcbiAgICBtaWQgPSAnZGF0ZSc7XHJcbiAgfWVsc2UgaWYodGhpcy5waWNrZXIgPT0gJ3RpbWUnKXtcclxuICAgIG1pZCA9ICd0aW1lJztcclxuICB9ZWxzZSBpZih0aGlzLnBpY2tlciA9PSAnbW9udGgnKXtcclxuICAgIG1pZCA9ICdtb250aCc7XHJcbiAgfWVsc2UgaWYodGhpcy5waWNrZXIgPT0gJ3llYXInKXtcclxuICAgIG1pZCA9ICd5ZWFyJztcclxuICB9XHJcblxyXG4gIGlmKHRoaXMuZGlzYWJsZUJhY2tEYXRlVGltZSAmJiB0aGlzLmRpc2FibGVGdXR1cmVEYXRlVGltZSl7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBsYWJlbCA6IFwiUGxlYXNlIHNlbGVjdCBcIittaWQrXCIgYmV0d2VlbiBcIixcclxuICAgICAgcmFuZ2UgOiBgJHttb21lbnQodGhpcy5iYWNrRGF0ZVRpbWUsdGhpcy5mb3JtYXQpLmZvcm1hdCh0aGlzLmZvcm1hdCl9IC0gJHttb21lbnQodGhpcy5mdXR1cmVEYXRlVGltZSx0aGlzLmZvcm1hdCkuZm9ybWF0KHRoaXMuZm9ybWF0KX1gXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgaWYodGhpcy5kaXNhYmxlQmFja0RhdGVUaW1lKXtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGxhYmVsIDogXCJQbGVhc2Ugc2VsZWN0IGEgXCIrbWlkK1wiIGFmdGVyIFwiLFxyXG4gICAgICByYW5nZSA6IGAke21vbWVudCh0aGlzLmJhY2tEYXRlVGltZSx0aGlzLmZvcm1hdCkuZm9ybWF0KHRoaXMuZm9ybWF0KX1gXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgaWYodGhpcy5kaXNhYmxlRnV0dXJlRGF0ZVRpbWUpe1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbGFiZWwgOiBcIlBsZWFzZSBzZWxlY3QgYSBcIittaWQrXCIgYmVmb3JlIFwiLFxyXG4gICAgICByYW5nZSA6IGAke21vbWVudCh0aGlzLmZ1dHVyZURhdGVUaW1lLHRoaXMuZm9ybWF0KS5mb3JtYXQodGhpcy5mb3JtYXQpfWBcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbGFiZWwgOiBcIlwiLFxyXG4gICAgcmFuZ2UgOiBcIlwiXHJcbiAgfTtcclxufVxyXG5cclxuXHJcblxyXG4gIGlzTW9udGhEaXNhYmxlZChtOm51bWJlcikgOiBib29sZWFuIHtcclxuICAgICAgdmFyIGRhdGUgPSBtb21lbnQodGhpcy52YWx1ZSwgdGhpcy5mb3JtYXQpLnNldChcIk1cIiwgbSk7XHJcbiAgICAgIHJldHVybiB0aGlzLmlzTW9tZW50RGlzYWJsZWQoZGF0ZSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgYWxsWWVhclJhbmdlRGlzYWJsZWQoKXtcclxuICAgIGlmKCF0aGlzLmRpc2FibGVCYWNrRGF0ZVRpbWUgJiYgIXRoaXMuZGlzYWJsZUZ1dHVyZURhdGVUaW1lKXtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBmb3IodmFyIHllYXIgb2YgdGhpcy5nZXRZZWFyc1JhbmdlKCkpe1xyXG4gICAgICBpZighdGhpcy5pc1llYXJEaXNhYmxlZCh5ZWFyKSl7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG5cclxuICBhbGxNb250aHNEaXNhYmxlZCgpe1xyXG4gICAgaWYoIXRoaXMuZGlzYWJsZUJhY2tEYXRlVGltZSAmJiAhdGhpcy5kaXNhYmxlRnV0dXJlRGF0ZVRpbWUpe1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIHZhciBtID0gMDtcclxuICBmb3IodmFyIG1vbnRoIG9mIHRoaXMuY29uZmlnLm1vbnRocyl7XHJcbiAgICBpZighdGhpcy5pc01vbnRoRGlzYWJsZWQobSkpe1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBtKys7XHJcbiAgfVxyXG4gIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgaXNZZWFyRGlzYWJsZWQoeTpudW1iZXIpIDogYm9vbGVhbntcclxuICAgIHZhciBkYXRlID0gbW9tZW50KHRoaXMudmFsdWUsIHRoaXMuZm9ybWF0KS5zZXQoXCJ5ZWFyXCIsIHkpO1xyXG4gICAgcmV0dXJuIHRoaXMuaXNNb21lbnREaXNhYmxlZChkYXRlLCd5ZWFyJyk7XHJcbiAgfVxyXG5cclxuXHJcbiAgaXNNb21lbnREaXNhYmxlZChtIDogbW9tZW50Lk1vbWVudCwgbW9kZSA6ICd5ZWFyJyB8ICdtb250aCcgfCAnaG91cicgfCAnbm9uZScgPSAnbm9uZScpIDogYm9vbGVhbntcclxuICAgIGlmKHRoaXMuZGlzYWJsZUJhY2tEYXRlVGltZSl7XHJcblxyXG4gICAgICBpZihtb2RlID09ICd5ZWFyJyl7XHJcbiAgICAgICAgaWYoTnVtYmVyKG0uZm9ybWF0KCdZWVlZJykpIDwgTnVtYmVyKG1vbWVudCh0aGlzLmJhY2tEYXRlVGltZSx0aGlzLmZvcm1hdCkuZm9ybWF0KCdZWVlZJykpKXtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfWVsc2UgIGlmKG0uaXNCZWZvcmUobW9tZW50KHRoaXMuYmFja0RhdGVUaW1lLHRoaXMuZm9ybWF0KSkpe1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYodGhpcy5kaXNhYmxlRnV0dXJlRGF0ZVRpbWUpe1xyXG5cclxuICAgICAgaWYobW9kZSA9PSAneWVhcicpe1xyXG4gICAgICAgIGlmKE51bWJlcihtLmZvcm1hdCgnWVlZWScpKSA+IE51bWJlcihtb21lbnQodGhpcy5mdXR1cmVEYXRlVGltZSx0aGlzLmZvcm1hdCkuZm9ybWF0KCdZWVlZJykpKXtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfWVsc2UgaWYobS5pc0FmdGVyKG1vbWVudCh0aGlzLmZ1dHVyZURhdGVUaW1lLHRoaXMuZm9ybWF0KSkpe1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuXHJcbiAgb3BlbkRhdGVQaWNrZXIoZXZlbnQ6IGFueSkge1xyXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XHJcbiAgICB2YXIgaW5zdCA9IHRoaXM7XHJcbiAgICBpbnN0LnNob3cgPSB0cnVlO1xyXG4gICAgaWYgKGluc3QuX3ZhbHVlID09IFwiXCIpIHtcclxuICAgICAgaW5zdC5fdmFsdWUgPSBtb21lbnQoKS5mb3JtYXQoaW5zdC5mb3JtYXQpO1xyXG4gICAgfVxyXG4gICAgdmFyIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgcmVjdHMgPSBpbnN0LnNldFBvc2l0aW9uKCk7XHJcbiAgICAgIGlmIChyZWN0cy5jb250YWluZXIuaGVpZ2h0ID4gMCkge1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGluc3QuY2RSZWYuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gIH1cclxuXHJcblxyXG4gIGNsb3NlRGF0ZVBpY2tlcigpIHtcclxuICAgIHZhciBpbnN0ID0gdGhpcztcclxuICAgIGluc3Quc2hvdyA9IGZhbHNlO1xyXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiYXV0b1wiO1xyXG4gIH1cclxuXHJcbiAgbmdBZnRlclZpZXdJbml0KCk6IHZvaWQge1xyXG4gICAgdmFyIGluc3QgPSB0aGlzO1xyXG4gICAgaW5zdC5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQub25mb2N1cyA9IGluc3Qub3BlbkRhdGVQaWNrZXIuYmluZCh0aGlzKTtcclxuICAgIGluc3QuZWxlbWVudC5uYXRpdmVFbGVtZW50Lm9uY2xpY2sgPSBpbnN0Lm9wZW5EYXRlUGlja2VyLmJpbmQodGhpcyk7XHJcbiAgICBpbnN0LnNldFBvc2l0aW9uKCk7XHJcblxyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgd2luZG93Lm9uc2Nyb2xsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGluc3Quc2V0UG9zaXRpb24oKTtcclxuICAgICAgICBpbnN0LmNkUmVmLmRldGVjdENoYW5nZXMoKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHdpbmRvdy5vbnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpbnN0LnNldFBvc2l0aW9uKCk7XHJcbiAgICAgICAgaW5zdC5jZFJlZi5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpOiB2b2lkIHtcclxuICAgIHZhciBpbnN0ID0gdGhpcztcclxuICB9XHJcbn1cclxuIiwiPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItb3ZlcmxheVwiIChjbGljayk9XCJjbG9zZURhdGVQaWNrZXIoKVwiICpuZ0lmPVwic2hvd1wiPjwvZGl2PlxyXG48ZGl2ICNjb250YWluZXIgY2xhc3M9XCJkYXRlcGlja2VyLWZpeGVkXCIgW3N0eWxlLnRvcC5weF09XCJjb25maWcucG9zaXRpb24ueVwiIFtzdHlsZS5sZWZ0LnB4XT1cImNvbmZpZy5wb3NpdGlvbi54XCIgKGNsaWNrKT1cInNldFBvc2l0aW9uKClcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLWNvbnRhaW5lclwiICpuZ0lmPVwic2hvd1wiPlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGlzYWJsZWQtbWFzayB7e3Nob3dFcnJvcnMgPyAnc2hvdycgOiAnJ319XCI+XHJcbiAgICAgICAgICAgIDxidXR0b24gKGNsaWNrKT1cInNob3dFcnJvcnMgPSBmYWxzZVwiPiZ0aW1lczs8L2J1dHRvbj5cclxuICAgICAgICAgICAgPHNtYWxsPnt7Z2V0RGlzYWJsZU1hc2tMYWJlbCgpLmxhYmVsfX08L3NtYWxsPlxyXG4gICAgICAgICAgICA8c3Bhbj57e2dldERpc2FibGVNYXNrTGFiZWwoKS5yYW5nZX19PC9zcGFuPlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci1oZWFkZXJcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItaGVhZGVyLWxhYmVsXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci1oZWFkZXItbGFiZWwtZGF0ZVwiICpuZ0lmPVwicGlja2VyID09ICdkYXRlJyB8fCBwaWNrZXIgPT0gJ2RhdGV0aW1lJ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gKGNsaWNrKT1cInZpZXc9J3llYXInXCIgY2xhc3M9XCJ7e3ZpZXcgPT0gJ3llYXInID8gJ2FjdGl2ZScgOiAnJ319XCIgKm5nSWY9XCJwaWNrZXIgPT0gJ2RhdGV0aW1lJ1wiPnt7Z2V0Rm9ybWF0ZWQoJ1lZWVknKX19PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiAoY2xpY2spPVwidmlldz0nbW9udGgnXCIgY2xhc3M9XCJ7e3ZpZXcgPT0gJ21vbnRoJyA/ICdhY3RpdmUnIDogJyd9fVwiPnt7Z2V0Rm9ybWF0ZWQoJ01NTScpfX08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiAoY2xpY2spPVwidmlldz0nZGF0ZSdcIiBjbGFzcz1cInt7dmlldyA9PSAnZGF0ZScgPyAnYWN0aXZlJyA6ICcnfX1cIj57e2dldEZvcm1hdGVkKCdERCcpfX0gPHNwYW4gKm5nSWY9XCJwaWNrZXIgPT0gJ2RhdGUnXCI+LCA8L3NwYW4+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gKGNsaWNrKT1cInZpZXc9J3llYXInXCIgY2xhc3M9XCJ7e3ZpZXcgPT0gJ3llYXInID8gJ2FjdGl2ZScgOiAnJ319XCIgKm5nSWY9XCJwaWNrZXIgPT0gJ2RhdGUnXCI+e3tnZXRGb3JtYXRlZCgnWVlZWScpfX08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItaGVhZGVyLWxhYmVsLWRhdGVcIiAqbmdJZj1cInBpY2tlciA9PSAnbW9udGgnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImFjdGl2ZVwiPnt7Z2V0Rm9ybWF0ZWQoJ01NTU0nKX19PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLWhlYWRlci1sYWJlbC1kYXRlXCIgKm5nSWY9XCJwaWNrZXIgPT0gJ3llYXInXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImFjdGl2ZVwiPnt7Z2V0Rm9ybWF0ZWQoJ1lZWVknKX19PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLWhlYWRlci1sYWJlbC10aW1lXCIgKm5nSWY9XCJwaWNrZXIgPT0gJ3RpbWUnIHx8IHBpY2tlciA9PSAnZGF0ZXRpbWUnXCIgW3N0eWxlLnBhZGRpbmdUb3AucHhdPVwicGlja2VyID09ICdkYXRldGltZScgPyAyOSA6IDBcIj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIChjbGljayk9XCJ2aWV3ID0gJ3RpbWUnO3ZpZXc9J2hvdXInXCIgY2xhc3M9XCJ7e3ZpZXcgPT0gJ2hvdXInID8gJ2FjdGl2ZScgOiAnJ319XCI+e3tnZXRGb3JtYXRlZCgnaGgnKX19PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+Ojwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIChjbGljayk9XCJ2aWV3ID0gJ3RpbWUnO3ZpZXc9J21pbnV0ZSdcIiBjbGFzcz1cInt7dmlldyA9PSAnbWludXRlJz8gJ2FjdGl2ZScgOiAnJ319XCI+e3tnZXRGb3JtYXRlZCgnbW0nKX19PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInt7aXNDdXJyZW50KCdhbScsJ2FtcG0nKSA/ICdhY3RpdmUnIDogJyd9fVwiIChjbGljayk9XCJzZXRBbVBtKCdBTScpXCI+QU08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInt7aXNDdXJyZW50KCdwbScsJ2FtcG0nKSA/ICdhY3RpdmUnIDogJyd9fVwiIChjbGljayk9XCJzZXRBbVBtKCdQTScpXCI+UE08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci1oZWFkZXItbGFiZWwtdGltZVwiICpuZ0lmPVwicGlja2VyID09ICdkdXJhdGlvbidcIiBbc3R5bGUucGFkZGluZ1RvcC5weF09XCIyOVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gKm5nSWY9XCJob3Vyc1wiIChjbGljayk9XCJ2aWV3ID0gJ2R1cmF0aW9uJzt2aWV3PSdob3VycydcIiBjbGFzcz1cInt7dmlldyA9PSAnaG91cnMnID8gJ2FjdGl2ZScgOiAnJ319XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkg8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt7ZHVyYXRpb24uaG91cnN9fVxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwiaG91cnMgJiYgbWludXRlc1wiPjo8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiAqbmdJZj1cIm1pbnV0ZXNcIiAoY2xpY2spPVwidmlldyA9ICdkdXJhdGlvbic7dmlldz0nbWludXRlcydcIiBjbGFzcz1cInt7dmlldyA9PSAnbWludXRlcyc/ICdhY3RpdmUnIDogJyd9fVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5NPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7e2R1cmF0aW9uLm1pbnV0ZXN9fTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwibWludXRlcyAmJiBzZWNvbmRzXCI+Ojwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uICpuZ0lmPVwic2Vjb25kc1wiIChjbGljayk9XCJ2aWV3ID0gJ2R1cmF0aW9uJzt2aWV3PSdzZWNvbmRzJ1wiIGNsYXNzPVwie3t2aWV3ID09ICdzZWNvbmRzJz8gJ2FjdGl2ZScgOiAnJ319XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlM8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt7ZHVyYXRpb24uc2Vjb25kc319XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLWhlYWRlci1hY3Rpb25cIiAqbmdJZj1cIihwaWNrZXIgPT0gJ2RhdGUnIHx8IHBpY2tlciA9PSAnZGF0ZXRpbWUnKSAmJiB2aWV3ID09ICdkYXRlJ1wiPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiAoY2xpY2spPVwic2V0UHJldk1vbnRoKClcIj48aSBjbGFzcz1cImZhIGZhLWFycm93LWxlZnRcIj48L2k+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8ZGl2Pnt7Z2V0Rm9ybWF0ZWQoJ01NTU0gREQnKX19PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIChjbGljayk9XCJzZXROZXh0TW9udGgoKVwiPjxpIGNsYXNzPVwiZmEgZmEtYXJyb3ctcmlnaHRcIj48L2k+PC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci1oZWFkZXItYWN0aW9uXCIgKm5nSWY9XCIocGlja2VyID09ICdkYXRlJyB8fCBwaWNrZXIgPT0gJ2RhdGV0aW1lJyB8fCBwaWNrZXIgPT0gJ3llYXInKSAmJiB2aWV3ID09ICd5ZWFyJ1wiPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiAoY2xpY2spPVwic2V0UHJldlllYXJSYW5nZSgpXCI+PGkgY2xhc3M9XCJmYSBmYS1hcnJvdy1sZWZ0XCI+PC9pPjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPGRpdj57e2NvbmZpZy5zdGFydFllYXIgLSA4fX0gLSB7e2NvbmZpZy5zdGFydFllYXIgKyA3fX08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gKGNsaWNrKT1cInNldE5leHRZZWFyUmFuZ2UoKVwiPjxpIGNsYXNzPVwiZmEgZmEtYXJyb3ctcmlnaHRcIj48L2k+PC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLWJvZHlcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItZGF0ZXBpY2tlclwiICpuZ0lmPVwidmlldyA9PSAnZGF0ZScgJiYgKHBpY2tlciA9PSAnZGF0ZScgfHwgcGlja2VyID09ICdkYXRldGltZScpXCI+XHJcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJkYXRlcGlja2VyLXdlZWtzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpICpuZ0Zvcj1cImxldCB3ZWVrIG9mIGNvbmZpZy53ZWVrc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57e2xpbWl0Q2hhcih3ZWVrLDMpfX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImRhdGVwaWNrZXItZGF0ZXNcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGkgKm5nRm9yPVwibGV0IGQgb2YgZ2V0UHJlZml4RGF5cygpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsaSAqbmdGb3I9XCJsZXQgZCBvZiBnZXREYXRlc0luTW9udGhBcnJheSgpO3RyYWNrQnk6dHJhY2tCeVwiIGNsYXNzPVwie3tpc0N1cnJlbnQoZC5mb3JtYXRlZCwnZGF0ZScpID8gJ2FjdGl2ZScgOiAnJ319IHt7ZC5kaXNhYmxlZCA/ICdkaXNhYmxlZCcgOiAnJ319XCIgKGNsaWNrKT1cInNldERhdGUoZCk7XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPnt7ZC5kYXRlfX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGlja2VyXCIgKm5nSWY9XCJwaWNrZXIgPT0gJ3RpbWUnIHx8IHBpY2tlciA9PSAnZGF0ZXRpbWUnXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cInZpZXcgPT0gJ2hvdXInXCI+U2VsZWN0IEhvdXI8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJwaWNrZXItY29sLTNcIiAqbmdJZj1cInZpZXcgPT0gJ2hvdXInXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpICpuZ0Zvcj1cImxldCBuIG9mIGdldEFycmF5T2YoMTIpO2xldCBoID0gaW5kZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInt7aXNDdXJyZW50KGgrMSwnaG91cicpID8gJ2FjdGl2ZScgOiAnJ319XCIgKGNsaWNrKT1cInNldEhvdXIoaCsxKTtcIj57e2grMX19PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cInZpZXcgPT0gJ21pbnV0ZSdcIj5TZWxlY3QgbWludXRlPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwicGlja2VyLWNvbC02XCIgKm5nSWY9XCJ2aWV3ID09ICdtaW51dGUnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpICpuZ0Zvcj1cImxldCBuIG9mIGdldEFycmF5T2YoNjApO2xldCBtID0gaW5kZXhcIiBjbGFzcz1cInt7aXNNb250aERpc2FibGVkKG0pID8gJ2Rpc2FibGVkJyA6ICcnfX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInt7aXNDdXJyZW50KG0sJ21pbnV0ZScpID8gJ2FjdGl2ZScgOiAnJ319XCIgKGNsaWNrKT1cInNldE1pbnV0ZShtKVwiPnt7bX19PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBpY2tlclwiICpuZ0lmPVwicGlja2VyID09ICdkdXJhdGlvbidcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwidmlldyA9PSAnaG91cnMnXCI+U2VsZWN0IEhvdXJzPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwicGlja2VyLWNvbC02XCIgKm5nSWY9XCJ2aWV3ID09ICdob3VycydcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGkgKm5nRm9yPVwibGV0IG4gb2YgZ2V0QXJyYXlPZigyNSk7bGV0IGggPSBpbmRleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwie3toID09IGR1cmF0aW9uLmhvdXJzID8gJ2FjdGl2ZScgOiAnJ319XCIgKGNsaWNrKT1cInNldER1cmF0aW9uSG91cnMoaClcIj57e2h9fTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCJ2aWV3ID09ICdtaW51dGVzJ1wiPlNlbGVjdCBNaW51dGVzPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwicGlja2VyLWNvbC02XCIgKm5nSWY9XCJ2aWV3ID09ICdtaW51dGVzJ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsaSAqbmdGb3I9XCJsZXQgbiBvZiBnZXRBcnJheU9mKDYwKTtsZXQgbSA9IGluZGV4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ7e20gPT0gZHVyYXRpb24ubWludXRlcyA/ICdhY3RpdmUnIDogJyd9fVwiIChjbGljayk9XCJzZXREdXJhdGlvbk1pbnV0ZXMobSlcIj57e219fTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCJ2aWV3ID09ICdzZWNvbmRzJ1wiPlNlbGVjdCBTZWNvbmRzPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwicGlja2VyLWNvbC02XCIgKm5nSWY9XCJ2aWV3ID09ICdzZWNvbmRzJ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsaSAqbmdGb3I9XCJsZXQgbiBvZiBnZXRBcnJheU9mKDYwKTtsZXQgcyA9IGluZGV4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ7e3MgPT0gZHVyYXRpb24uc2Vjb25kcyA/ICdhY3RpdmUnIDogJyd9fVwiIChjbGljayk9XCJzZXREdXJhdGlvblNlY29uZHMocylcIj57e3N9fTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwaWNrZXJcIiAqbmdJZj1cInZpZXcgPT0gJ21vbnRoJyB8fCBwaWNrZXIgPT0gJ21vbnRoJ1wiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRpc2FibGVkLW1hc2tcIiAqbmdJZj1cImFsbE1vbnRoc0Rpc2FibGVkKClcIj5cclxuICAgICAgICAgICAgICAgICAgICA8c21hbGw+e3tnZXREaXNhYmxlTWFza0xhYmVsKCkubGFiZWx9fTwvc21hbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+e3tnZXREaXNhYmxlTWFza0xhYmVsKCkucmFuZ2V9fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwicGlja2VyLWNvbC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpICpuZ0Zvcj1cImxldCBtb250aCBvZiBjb25maWcubW9udGhzO2xldCBtID0gaW5kZXhcIiBjbGFzcz1cInt7aXNNb250aERpc2FibGVkKG0pID8gJ2Rpc2FibGVkJyA6ICcnfX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiAoY2xpY2spPVwic2V0TW9udGgobSk7XCIgY2xhc3M9XCJ7e2lzQ3VycmVudChtKzEgKyAnJywnbW9udGgnKSA/ICdhY3RpdmUnIDogJyd9fVwiPnt7bW9udGh9fTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBpY2tlclwiICpuZ0lmPVwidmlldyA9PSAneWVhcicgIHx8IHBpY2tlciA9PSAneWVhcidcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkaXNhYmxlZC1tYXNrXCIgKm5nSWY9XCJhbGxZZWFyUmFuZ2VEaXNhYmxlZCgpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNtYWxsPnt7Z2V0RGlzYWJsZU1hc2tMYWJlbCgpLmxhYmVsfX08L3NtYWxsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPnt7Z2V0RGlzYWJsZU1hc2tMYWJlbCgpLnJhbmdlfX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cInBpY2tlci1jb2wtNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsaSAqbmdGb3I9XCJsZXQgeWVhciBvZiBnZXRZZWFyc1JhbmdlKClcIiBjbGFzcz1cInt7aXNZZWFyRGlzYWJsZWQoeWVhcikgPyAnZGlzYWJsZWQnIDogJyd9fVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwie3tpc0N1cnJlbnQoeWVhciwneWVhcicpID8gJ2FjdGl2ZScgOiAnJ319XCIgKGNsaWNrKT1cInNldFllYXIoeWVhcik7XCI+e3t5ZWFyfX08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItZm9vdGVyXCI+XHJcbiAgICAgICAgICAgIDxidXR0b24gKGNsaWNrKT1cImNsb3NlRGF0ZVBpY2tlcigpXCI+Q2FuY2VsPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b24gKGNsaWNrKT1cImFwcGx5KClcIj5BcHBseTwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbjwvZGl2PiJdfQ==