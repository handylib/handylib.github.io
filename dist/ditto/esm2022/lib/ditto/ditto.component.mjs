import { Component, Input, ViewChild } from '@angular/core';
import moment from 'moment';
import * as i0 from "@angular/core";
export class DittoComponent {
    cdRef;
    constructor(cdRef) {
        this.cdRef = cdRef;
    }
    showErrors = false;
    show = false;
    container;
    element;
    format = "YYYY-MM-DD HH:mm:ss";
    picker = 'date';
    view = 'date';
    hours = true;
    minutes = true;
    seconds = true;
    disableBackDateTime = false;
    disableFutureDateTime = false;
    backDateTime = moment().format('YYYY-MM-DD HH:mm:ss');
    futureDateTime = moment().format('YYYY-MM-DD HH:mm:ss');
    duration = {
        hours: 0,
        minutes: 0,
        seconds: 0
    };
    config = {
        timepicker: '', //hour , minute
        position: {
            x: 0,
            y: 0
        },
        startYear: new Date().getFullYear(),
        icons: {
            left: "ðŸ¡°",
            right: "ðŸ¡²",
            up: "ðŸ¡±",
            down: "ðŸ¡³"
        },
        weeks: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thirsday", "Friday", "Saturday"],
        months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
    };
    _value = "";
    get value() {
        return this._value;
    }
    set value(value) {
        if (value !== "" && value !== null && typeof value !== "undefined" && this.format !== "") {
            if (moment(value, this.format).isValid()) {
                this._value = value;
            }
            else {
                console.log("Invalid date");
            }
        }
    }
    onApply = (_v) => { };
    trackBy(n) {
        return n;
    }
    getPrefixDays() {
        var date = moment(this.value, this.format).startOf('month');
        var day = Number(date.format("d"));
        return new Array(day);
    }
    getDatesInMonthArray() {
        var dates = [];
        var a = moment(this.value, this.format).startOf('month').format('YYYY-MM-DD');
        var b = moment(this.value, this.format).endOf('month').format('YYYY-MM-DD');
        for (var m = moment(a); m.diff(b, 'days') <= 0; m.add(1, 'days')) {
            var date = {
                date: Number(m.format('D')),
                formated: m.format("YYYY-MM-DD"),
                disabled: false
            };
            if (this.disableBackDateTime == true) {
                if (moment(date.formated, 'YYYY-MM-DD').isBefore(moment(this.backDateTime, this.format))) {
                    date.disabled = true;
                }
            }
            if (this.disableFutureDateTime == true) {
                if (moment(date.formated, 'YYYY-MM-DD').isAfter(moment(this.futureDateTime, this.format))) {
                    date.disabled = true;
                }
            }
            dates.push(date);
        }
        return dates;
    }
    getDaysInMonth() {
        return new Array(moment().daysInMonth());
    }
    getArrayOf(n) {
        return new Array(n);
    }
    titleCase(str) {
        return str.toLowerCase().replace(/\b(\w)/g, s => s.toUpperCase());
    }
    prefixZero(n) {
        return ('0' + n).slice(-2);
    }
    limitChar(str, n) {
        return str.substring(0, n);
    }
    setNextYearRange() {
        this.config.startYear = this.config.startYear + 15;
    }
    setPrevYearRange() {
        this.config.startYear = this.config.startYear - 15;
    }
    setNextMonth() {
        this.value = moment(this.value, this.format).add(1, "M").format(this.format);
    }
    setPrevMonth() {
        this.value = moment(this.value, this.format).add(-1, "M").format(this.format);
    }
    getYearsRange() {
        var years = [];
        var startYear = this.config.startYear - 7;
        var endYear = this.config.startYear + 7;
        for (var y = startYear; y <= endYear; y++) {
            years.push(y);
        }
        return years;
    }
    setPosition() {
        var inst = this;
        var directiveRect = inst.element.nativeElement.getBoundingClientRect();
        var containerRect = inst.container.nativeElement.getBoundingClientRect();
        if (window.innerWidth <= 600 || window.innerHeight <= 600) {
            inst.config.position.x = (window.innerWidth - containerRect.width) / 2;
            inst.config.position.y = (window.innerHeight - containerRect.height) / 2;
            inst.cdRef.detectChanges();
            return {
                container: containerRect,
                directive: directiveRect
            };
        }
        if (window.innerHeight <= directiveRect.height + containerRect.height + directiveRect.y) {
            inst.config.position.x = (window.innerWidth - containerRect.width) / 2;
            inst.config.position.y = (window.innerHeight - containerRect.height) / 2;
        }
        else if (window.innerWidth <= directiveRect.width + containerRect.width + directiveRect.x) {
            inst.config.position.y = directiveRect.y + directiveRect.height;
            inst.config.position.x = ((directiveRect.x - containerRect.width) + directiveRect.width);
        }
        else {
            inst.config.position.x = directiveRect.x;
            inst.config.position.y = directiveRect.y + directiveRect.height;
        }
        inst.cdRef.detectChanges();
        return {
            container: containerRect,
            directive: directiveRect
        };
    }
    getFormated(format) {
        return moment(this.value, this.format).format(format);
    }
    isCurrent(value, mode) {
        if (mode == "hour") {
            if (value == moment(this.value, this.format).format("h")) {
                return true;
            }
        }
        else if (mode == "minute") {
            if (value == moment(this.value, this.format).format("m")) {
                return true;
            }
        }
        else if (mode == "ampm") {
            if (value.toLowerCase() == moment(this.value, this.format).format("A").toLowerCase()) {
                return true;
            }
        }
        else if (mode == "date") {
            if (value == moment(this.value, this.format).format("YYYY-MM-DD")) {
                return true;
            }
        }
        else if (mode == "month") {
            if (value.toString().toLowerCase() == moment(this.value, this.format).format("M").toLowerCase()) {
                return true;
            }
        }
        else if (mode == "year") {
            if (value.toString().toLowerCase() == moment(this.value, this.format).format("YYYY").toLowerCase()) {
                return true;
            }
        }
        return false;
    }
    setAmPm(value) {
        var date = moment(this.value, this.format).format("YYYY-MM-DD LT");
        date = date.replace("AM", value).replace("PM", value);
        this.value = moment(date, "YYYY-MM-DD LT").format(this.format);
    }
    setDate(d) {
        if (!d.disabled) {
            this.value = moment(this.value, this.format).set("D", d.date).format(this.format);
            if (this.picker == 'datetime') {
                this.view = 'hour';
            }
            else {
                this.view = 'date';
            }
        }
    }
    setMonth(m) {
        if (!this.isMonthDisabled(m)) {
            this.value = moment(this.value, this.format).set("M", m).format(this.format);
            if (this.picker == 'datetime' || this.picker == 'date') {
                this.view = 'date';
            }
            else {
                this.view = 'month';
            }
        }
    }
    setYear(y) {
        if (!this.isYearDisabled(y)) {
            this.value = moment(this.value, this.format).set("year", y).format(this.format);
            if (this.picker == 'datetime' || this.picker == 'date') {
                this.view = 'month';
            }
            else {
                this.view = 'year';
            }
        }
    }
    setHour(h) {
        this.value = moment(this.value, this.format).set("h", h).format(this.format);
        if (this.picker == 'datetime' || this.picker == 'time') {
            this.view = 'minute';
        }
    }
    setMinute(value) {
        this.value = moment(this.value, this.format).set("m", value).format(this.format);
        if (this.picker == "time") {
            this.config.timepicker = "";
        }
        else {
            this.view = "date";
        }
    }
    setDurationHours(value) {
        this.duration.hours = value;
        if (this.minutes) {
            this.view = 'minutes';
        }
        else if (this.seconds) {
            this.view = 'seconds';
        }
    }
    setDurationMinutes(value) {
        this.duration.minutes = value;
        if (this.seconds) {
            this.view = 'seconds';
        }
    }
    setDurationSeconds(value) {
        this.duration.seconds = value;
    }
    apply() {
        if (this.picker == 'duration') {
            var durations = [];
            if (this.hours) {
                durations.push(this.padint(this.duration.hours));
            }
            if (this.minutes) {
                durations.push(this.padint(this.duration.minutes));
            }
            if (this.seconds) {
                durations.push(this.padint(this.duration.seconds));
            }
            this.onApply(durations.join(':'));
        }
        else {
            var m = moment(this.value, this.format);
            if (this.isMomentDisabled(m)) {
                this.showErrors = true;
                setTimeout(() => { this.showErrors = false; }, 1500);
                return;
            }
            this.onApply(this.value);
        }
        this.closeDatePicker();
    }
    padint(n, w = 2) {
        let numberString = n.toString();
        let padding = Math.max(0, w - numberString.length);
        let paddedNumber = '0'.repeat(padding) + numberString;
        return paddedNumber;
    }
    getDisableMaskLabel() {
        var mid = '';
        if (this.picker == 'datetime') {
            mid = 'date and time';
        }
        else if (this.picker == 'date') {
            mid = 'date';
        }
        else if (this.picker == 'time') {
            mid = 'time';
        }
        else if (this.picker == 'month') {
            mid = 'month';
        }
        else if (this.picker == 'year') {
            mid = 'year';
        }
        if (this.disableBackDateTime && this.disableFutureDateTime) {
            return {
                label: "Please select " + mid + " between ",
                range: `${moment(this.backDateTime, this.format).format(this.format)} - ${moment(this.futureDateTime, this.format).format(this.format)}`
            };
        }
        if (this.disableBackDateTime) {
            return {
                label: "Please select a " + mid + " after ",
                range: `${moment(this.backDateTime, this.format).format(this.format)}`
            };
        }
        if (this.disableFutureDateTime) {
            return {
                label: "Please select a " + mid + " before ",
                range: `${moment(this.futureDateTime, this.format).format(this.format)}`
            };
        }
        return {
            label: "",
            range: ""
        };
    }
    isMonthDisabled(m) {
        var date = moment(this.value, this.format).set("M", m);
        return this.isMomentDisabled(date);
    }
    allYearRangeDisabled() {
        if (!this.disableBackDateTime && !this.disableFutureDateTime) {
            return false;
        }
        for (var year of this.getYearsRange()) {
            if (!this.isYearDisabled(year)) {
                return false;
            }
        }
        return true;
    }
    allMonthsDisabled() {
        if (!this.disableBackDateTime && !this.disableFutureDateTime) {
            return false;
        }
        var m = 0;
        for (var month of this.config.months) {
            if (!this.isMonthDisabled(m)) {
                return false;
            }
            m++;
        }
        return true;
    }
    isYearDisabled(y) {
        var date = moment(this.value, this.format).set("year", y);
        return this.isMomentDisabled(date, 'year');
    }
    isMomentDisabled(m, mode = 'none') {
        if (this.disableBackDateTime) {
            if (mode == 'year') {
                if (Number(m.format('YYYY')) < Number(moment(this.backDateTime, this.format).format('YYYY'))) {
                    return true;
                }
            }
            else if (m.isBefore(moment(this.backDateTime, this.format))) {
                return true;
            }
        }
        if (this.disableFutureDateTime) {
            if (mode == 'year') {
                if (Number(m.format('YYYY')) > Number(moment(this.futureDateTime, this.format).format('YYYY'))) {
                    return true;
                }
            }
            else if (m.isAfter(moment(this.futureDateTime, this.format))) {
                return true;
            }
        }
        return false;
    }
    openDatePicker(event) {
        document.body.style.overflow = "hidden";
        var inst = this;
        inst.show = true;
        if (inst._value == "") {
            inst._value = moment().format(inst.format);
        }
        var interval = setInterval(function () {
            var rects = inst.setPosition();
            if (rects.container.height > 0) {
                clearInterval(interval);
            }
        });
        inst.cdRef.detectChanges();
    }
    closeDatePicker() {
        var inst = this;
        inst.show = false;
        document.body.style.overflow = "auto";
    }
    ngAfterViewInit() {
        var inst = this;
        inst.element.nativeElement.onfocus = inst.openDatePicker.bind(this);
        inst.element.nativeElement.onclick = inst.openDatePicker.bind(this);
        inst.setPosition();
        if (typeof window !== "undefined") {
            window.onscroll = function () {
                inst.setPosition();
                inst.cdRef.detectChanges();
            };
            window.onresize = function () {
                inst.setPosition();
                inst.cdRef.detectChanges();
            };
        }
    }
    ngOnInit() {
        var inst = this;
    }
    static Éµfac = i0.ÉµÉµngDeclareFactory({ minVersion: "12.0.0", version: "17.1.1", ngImport: i0, type: DittoComponent, deps: [{ token: i0.ChangeDetectorRef }], target: i0.ÉµÉµFactoryTarget.Component });
    static Éµcmp = i0.ÉµÉµngDeclareComponent({ minVersion: "14.0.0", version: "17.1.1", type: DittoComponent, selector: "ditto", inputs: { element: "element", format: "format", picker: "picker", view: "view", hours: "hours", minutes: "minutes", seconds: "seconds", disableBackDateTime: "disableBackDateTime", disableFutureDateTime: "disableFutureDateTime", backDateTime: "backDateTime", futureDateTime: "futureDateTime" }, viewQueries: [{ propertyName: "container", first: true, predicate: ["container"], descendants: true }], ngImport: i0, template: "<div class=\"datepicker-overlay\" (click)=\"closeDatePicker()\" *ngIf=\"show\"></div>\r\n<div #container class=\"datepicker-fixed\" [style.top.px]=\"config.position.y\" [style.left.px]=\"config.position.x\" (click)=\"setPosition()\">\r\n    <div class=\"datepicker-container\" *ngIf=\"show\">\r\n\r\n        <div class=\"disabled-mask {{showErrors ? 'show' : ''}}\">\r\n            <button (click)=\"showErrors = false\">&times;</button>\r\n            <small>{{getDisableMaskLabel().label}}</small>\r\n            <span>{{getDisableMaskLabel().range}}</span>\r\n        </div>\r\n\r\n        <div class=\"datepicker-header\">\r\n            <div class=\"datepicker-header-label\">\r\n                <div class=\"datepicker-header-label-date\" *ngIf=\"picker == 'date' || picker == 'datetime'\">\r\n                    <button (click)=\"view='year'\" class=\"{{view == 'year' ? 'active' : ''}}\" *ngIf=\"picker == 'datetime'\">{{getFormated('YYYY')}}</button>\r\n                    <div>\r\n                        <button (click)=\"view='month'\" class=\"{{view == 'month' ? 'active' : ''}}\">{{getFormated('MMM')}}</button>\r\n                        <button (click)=\"view='date'\" class=\"{{view == 'date' ? 'active' : ''}}\">{{getFormated('DD')}} <span *ngIf=\"picker == 'date'\">, </span></button>\r\n                        <button (click)=\"view='year'\" class=\"{{view == 'year' ? 'active' : ''}}\" *ngIf=\"picker == 'date'\">{{getFormated('YYYY')}}</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"datepicker-header-label-date\" *ngIf=\"picker == 'month'\">\r\n                    <button class=\"active\">{{getFormated('MMMM')}}</button>\r\n                </div>\r\n                <div class=\"datepicker-header-label-date\" *ngIf=\"picker == 'year'\">\r\n                    <button class=\"active\">{{getFormated('YYYY')}}</button>\r\n                </div>\r\n                <div class=\"datepicker-header-label-time\" *ngIf=\"picker == 'time' || picker == 'datetime'\" [style.paddingTop.px]=\"picker == 'datetime' ? 29 : 0\">\r\n                    <button (click)=\"view = 'time';view='hour'\" class=\"{{view == 'hour' ? 'active' : ''}}\">{{getFormated('hh')}}</button>\r\n                    <span>:</span>\r\n                    <button (click)=\"view = 'time';view='minute'\" class=\"{{view == 'minute'? 'active' : ''}}\">{{getFormated('mm')}}</button>\r\n                    <div>\r\n                        <button class=\"{{isCurrent('am','ampm') ? 'active' : ''}}\" (click)=\"setAmPm('AM')\">AM</button>\r\n                        <button class=\"{{isCurrent('pm','ampm') ? 'active' : ''}}\" (click)=\"setAmPm('PM')\">PM</button>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <div class=\"datepicker-header-label-time\" *ngIf=\"picker == 'duration'\" [style.paddingTop.px]=\"29\">\r\n                    <button *ngIf=\"hours\" (click)=\"view = 'duration';view='hours'\" class=\"{{view == 'hours' ? 'active' : ''}}\">\r\n                        <span>H</span>\r\n                        {{duration.hours}}\r\n                    </button>\r\n                    <span *ngIf=\"hours && minutes\">:</span>\r\n                    <button *ngIf=\"minutes\" (click)=\"view = 'duration';view='minutes'\" class=\"{{view == 'minutes'? 'active' : ''}}\">\r\n                        <span>M</span>\r\n                        {{duration.minutes}}</button>\r\n                    <span *ngIf=\"minutes && seconds\">:</span>\r\n                    <button *ngIf=\"seconds\" (click)=\"view = 'duration';view='seconds'\" class=\"{{view == 'seconds'? 'active' : ''}}\">\r\n                        <span>S</span>\r\n                        {{duration.seconds}}\r\n                    </button>\r\n                </div>\r\n              \r\n            </div>\r\n           \r\n            <div class=\"datepicker-header-action\" *ngIf=\"(picker == 'date' || picker == 'datetime') && view == 'date'\">\r\n                <button (click)=\"setPrevMonth()\"><i class=\"fa fa-arrow-left\"></i></button>\r\n                <div>{{getFormated('MMMM DD')}}</div>\r\n                <button (click)=\"setNextMonth()\"><i class=\"fa fa-arrow-right\"></i></button>\r\n            </div>\r\n            <div class=\"datepicker-header-action\" *ngIf=\"(picker == 'date' || picker == 'datetime' || picker == 'year') && view == 'year'\">\r\n                <button (click)=\"setPrevYearRange()\"><i class=\"fa fa-arrow-left\"></i></button>\r\n                <div>{{config.startYear - 8}} - {{config.startYear + 7}}</div>\r\n                <button (click)=\"setNextYearRange()\"><i class=\"fa fa-arrow-right\"></i></button>\r\n            </div>\r\n        </div>\r\n        <div class=\"datepicker-body\">\r\n            <div class=\"datepicker-datepicker\" *ngIf=\"view == 'date' && (picker == 'date' || picker == 'datetime')\">\r\n                <ul class=\"datepicker-weeks\">\r\n                    <li *ngFor=\"let week of config.weeks\">\r\n                        <span>{{limitChar(week,3)}}</span>\r\n                    </li>\r\n                </ul>\r\n                \r\n                <ul class=\"datepicker-dates\">\r\n                    <li *ngFor=\"let d of getPrefixDays()\">\r\n                        <span></span>\r\n                    </li>\r\n                    <li *ngFor=\"let d of getDatesInMonthArray();trackBy:trackBy\" class=\"{{isCurrent(d.formated,'date') ? 'active' : ''}} {{d.disabled ? 'disabled' : ''}}\" (click)=\"setDate(d);\">\r\n                        <span>{{d.date}}</span>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"picker\" *ngIf=\"picker == 'time' || picker == 'datetime'\">\r\n                <span *ngIf=\"view == 'hour'\">Select Hour</span>\r\n                <ul class=\"picker-col-3\" *ngIf=\"view == 'hour'\">\r\n                    <li *ngFor=\"let n of getArrayOf(12);let h = index\">\r\n                        <button class=\"{{isCurrent(h+1,'hour') ? 'active' : ''}}\" (click)=\"setHour(h+1);\">{{h+1}}</button>\r\n                    </li>\r\n                </ul>\r\n                <span *ngIf=\"view == 'minute'\">Select minute</span>\r\n                <ul class=\"picker-col-6\" *ngIf=\"view == 'minute'\">\r\n                    <li *ngFor=\"let n of getArrayOf(60);let m = index\" class=\"{{isMonthDisabled(m) ? 'disabled' : ''}}\">\r\n                        <button class=\"{{isCurrent(m,'minute') ? 'active' : ''}}\" (click)=\"setMinute(m)\">{{m}}</button>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n\r\n            <div class=\"picker\" *ngIf=\"picker == 'duration'\">\r\n                <span *ngIf=\"view == 'hours'\">Select Hours</span>\r\n                <ul class=\"picker-col-6\" *ngIf=\"view == 'hours'\">\r\n                    <li *ngFor=\"let n of getArrayOf(25);let h = index\">\r\n                        <button class=\"{{h == duration.hours ? 'active' : ''}}\" (click)=\"setDurationHours(h)\">{{h}}</button>\r\n                    </li>\r\n                </ul>\r\n                <span *ngIf=\"view == 'minutes'\">Select Minutes</span>\r\n                <ul class=\"picker-col-6\" *ngIf=\"view == 'minutes'\">\r\n                    <li *ngFor=\"let n of getArrayOf(60);let m = index\">\r\n                        <button class=\"{{m == duration.minutes ? 'active' : ''}}\" (click)=\"setDurationMinutes(m)\">{{m}}</button>\r\n                    </li>\r\n                </ul>\r\n                <span *ngIf=\"view == 'seconds'\">Select Seconds</span>\r\n                <ul class=\"picker-col-6\" *ngIf=\"view == 'seconds'\">\r\n                    <li *ngFor=\"let n of getArrayOf(60);let s = index\">\r\n                        <button class=\"{{s == duration.seconds ? 'active' : ''}}\" (click)=\"setDurationSeconds(s)\">{{s}}</button>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n\r\n            <div class=\"picker\" *ngIf=\"view == 'month' || picker == 'month'\">\r\n                <div class=\"disabled-mask\" *ngIf=\"allMonthsDisabled()\">\r\n                    <small>{{getDisableMaskLabel().label}}</small>\r\n                    <span>{{getDisableMaskLabel().range}}</span>\r\n                </div>\r\n                <ul class=\"picker-col-2\">\r\n                    <li *ngFor=\"let month of config.months;let m = index\" class=\"{{isMonthDisabled(m) ? 'disabled' : ''}}\">\r\n                        <button (click)=\"setMonth(m);\" class=\"{{isCurrent(m+1 + '','month') ? 'active' : ''}}\">{{month}}</button>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"picker\" *ngIf=\"view == 'year'  || picker == 'year'\">\r\n                <div class=\"disabled-mask\" *ngIf=\"allYearRangeDisabled()\">\r\n                    <small>{{getDisableMaskLabel().label}}</small>\r\n                    <span>{{getDisableMaskLabel().range}}</span>\r\n                </div>\r\n                <ul class=\"picker-col-4\">\r\n                    <li *ngFor=\"let year of getYearsRange()\" class=\"{{isYearDisabled(year) ? 'disabled' : ''}}\">\r\n                        <button class=\"{{isCurrent(year,'year') ? 'active' : ''}}\" (click)=\"setYear(year);\">{{year}}</button>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n        <div class=\"datepicker-footer\">\r\n            <button (click)=\"closeDatePicker()\">Cancel</button>\r\n            <button (click)=\"apply()\">Apply</button>\r\n        </div>\r\n    </div>\r\n</div>", styles: [".datepicker-overlay{position:fixed;z-index:9999;background:#0000001f;width:100%;height:100%;left:0;top:0}.datepicker-fixed{width:100%;max-width:300px;z-index:999999;position:fixed;-webkit-user-select:none;user-select:none}.datepicker-container{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;background-color:#fff;color:#000000de;width:100%}.datepicker-header-label{background:#3f51b5;color:#fff;display:flex;flex-direction:row;justify-content:center;padding:10px}.datepicker-header-action{display:flex;flex-direction:row;align-items:center}.datepicker-header-action>div{flex:1;display:flex;align-items:center;justify-content:center}.datepicker-header-action>button{border:none;background:transparent;height:40px}.datepicker-footer>button{border:none;background:#fff;border-radius:5px;font-size:15px;padding:5px 20px}.datepicker-footer{padding:10px;display:flex;flex-direction:row;width:100%}.datepicker-footer>button:last-child{box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;margin-left:auto}ul.datepicker-weeks{list-style:none;padding:10px 0;margin:0;display:flex;flex-direction:row;border-bottom:1px solid #ddd}ul.datepicker-weeks>li{flex:1;display:flex;align-items:center;justify-content:center;font-size:12px}ul.datepicker-dates{padding:0;margin:0;list-style:none;display:block}ul.datepicker-dates>li{width:14.28%;display:block;font-size:12px;position:relative;padding-top:14.28%;float:left}ul.datepicker-dates>li.disabled,.picker .disabled,.picker .disabled button:hover{cursor:not-allowed;background:#b4b4b4}ul.datepicker-dates>li>span{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%;cursor:pointer}ul.datepicker-dates>li>span:hover{background:#ddd}ul.datepicker-dates>li.active>span{background:#3f51b5;color:#fff}.datepicker-header-label-date,.datepicker-header-label-time{display:flex}.datepicker-header-label-date{flex-direction:column}.datepicker-header-label-time{flex-direction:row}.datepicker-header-label button{background:transparent;color:#fff;opacity:.5;transition:.5s all ease;border:none;position:relative}.datepicker-header-label button>span{position:absolute;top:-25px;font-size:12px;left:0;width:100%;text-align:center}.datepicker-header-label button.active{opacity:1;color:#ffeb3b}.datepicker-header-label button:hover{opacity:.8}.datepicker-header-label-date>button{width:100%;text-align:left}.datepicker-header-label-date>button{font-size:18px}.datepicker-header-label-date>div{width:100%;display:flex;flex-direction:row}.datepicker-header-label-date>div>button{font-size:35px;line-height:30px}.datepicker-header-label-time>button{font-size:35px;line-height:30px}.datepicker-header-label-time>span{font-size:30px;line-height:0px;width:5px;justify-content:center;align-items:center;height:100%;display:flex}.datepicker-header-label-time>div{display:flex;flex-direction:column;align-items:center;justify-content:center}.datepicker-header-label-time>div>button{font-size:15px;line-height:15px}.picker>span{font-size:14px;display:block;width:100%;padding:5px}.picker>ul{list-style:none;padding:0;margin:0;display:flex;flex-direction:row;flex-wrap:wrap;max-height:250px;overflow:auto}ul.picker-col-2>li{width:50%}ul.picker-col-3>li{width:33.33%}ul.picker-col-4>li{width:25%}ul.picker-col-6>li{width:16.66%}.picker>ul>li{padding:5px}.picker>ul>li>button{width:100%;border:none;padding:5px;font-size:12px;border-radius:5px;background:#0000000a}.picker>ul>li>button:hover{background:#ddd}.picker>ul>li>button.active{background:#3f51b5;color:#fff}.picker{position:relative}.disabled-mask{position:absolute;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:0;color:#fff;background:#00000091;z-index:1;visibility:hidden;opacity:0;transition:.1s all ease}.disabled-mask>button{position:absolute;top:5px;right:5px;border:none;width:30px;height:30px;color:#fff;font-size:20px;padding:0;background:transparent;outline:none}.disabled-mask>small{font-size:11px}.disabled-mask>span{font-weight:700;font-size:14px}.disabled-mask.show{visibility:visible;opacity:1}\n"] });
}
i0.ÉµÉµngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.1.1", ngImport: i0, type: DittoComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ditto', template: "<div class=\"datepicker-overlay\" (click)=\"closeDatePicker()\" *ngIf=\"show\"></div>\r\n<div #container class=\"datepicker-fixed\" [style.top.px]=\"config.position.y\" [style.left.px]=\"config.position.x\" (click)=\"setPosition()\">\r\n    <div class=\"datepicker-container\" *ngIf=\"show\">\r\n\r\n        <div class=\"disabled-mask {{showErrors ? 'show' : ''}}\">\r\n            <button (click)=\"showErrors = false\">&times;</button>\r\n            <small>{{getDisableMaskLabel().label}}</small>\r\n            <span>{{getDisableMaskLabel().range}}</span>\r\n        </div>\r\n\r\n        <div class=\"datepicker-header\">\r\n            <div class=\"datepicker-header-label\">\r\n                <div class=\"datepicker-header-label-date\" *ngIf=\"picker == 'date' || picker == 'datetime'\">\r\n                    <button (click)=\"view='year'\" class=\"{{view == 'year' ? 'active' : ''}}\" *ngIf=\"picker == 'datetime'\">{{getFormated('YYYY')}}</button>\r\n                    <div>\r\n                        <button (click)=\"view='month'\" class=\"{{view == 'month' ? 'active' : ''}}\">{{getFormated('MMM')}}</button>\r\n                        <button (click)=\"view='date'\" class=\"{{view == 'date' ? 'active' : ''}}\">{{getFormated('DD')}} <span *ngIf=\"picker == 'date'\">, </span></button>\r\n                        <button (click)=\"view='year'\" class=\"{{view == 'year' ? 'active' : ''}}\" *ngIf=\"picker == 'date'\">{{getFormated('YYYY')}}</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"datepicker-header-label-date\" *ngIf=\"picker == 'month'\">\r\n                    <button class=\"active\">{{getFormated('MMMM')}}</button>\r\n                </div>\r\n                <div class=\"datepicker-header-label-date\" *ngIf=\"picker == 'year'\">\r\n                    <button class=\"active\">{{getFormated('YYYY')}}</button>\r\n                </div>\r\n                <div class=\"datepicker-header-label-time\" *ngIf=\"picker == 'time' || picker == 'datetime'\" [style.paddingTop.px]=\"picker == 'datetime' ? 29 : 0\">\r\n                    <button (click)=\"view = 'time';view='hour'\" class=\"{{view == 'hour' ? 'active' : ''}}\">{{getFormated('hh')}}</button>\r\n                    <span>:</span>\r\n                    <button (click)=\"view = 'time';view='minute'\" class=\"{{view == 'minute'? 'active' : ''}}\">{{getFormated('mm')}}</button>\r\n                    <div>\r\n                        <button class=\"{{isCurrent('am','ampm') ? 'active' : ''}}\" (click)=\"setAmPm('AM')\">AM</button>\r\n                        <button class=\"{{isCurrent('pm','ampm') ? 'active' : ''}}\" (click)=\"setAmPm('PM')\">PM</button>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <div class=\"datepicker-header-label-time\" *ngIf=\"picker == 'duration'\" [style.paddingTop.px]=\"29\">\r\n                    <button *ngIf=\"hours\" (click)=\"view = 'duration';view='hours'\" class=\"{{view == 'hours' ? 'active' : ''}}\">\r\n                        <span>H</span>\r\n                        {{duration.hours}}\r\n                    </button>\r\n                    <span *ngIf=\"hours && minutes\">:</span>\r\n                    <button *ngIf=\"minutes\" (click)=\"view = 'duration';view='minutes'\" class=\"{{view == 'minutes'? 'active' : ''}}\">\r\n                        <span>M</span>\r\n                        {{duration.minutes}}</button>\r\n                    <span *ngIf=\"minutes && seconds\">:</span>\r\n                    <button *ngIf=\"seconds\" (click)=\"view = 'duration';view='seconds'\" class=\"{{view == 'seconds'? 'active' : ''}}\">\r\n                        <span>S</span>\r\n                        {{duration.seconds}}\r\n                    </button>\r\n                </div>\r\n              \r\n            </div>\r\n           \r\n            <div class=\"datepicker-header-action\" *ngIf=\"(picker == 'date' || picker == 'datetime') && view == 'date'\">\r\n                <button (click)=\"setPrevMonth()\"><i class=\"fa fa-arrow-left\"></i></button>\r\n                <div>{{getFormated('MMMM DD')}}</div>\r\n                <button (click)=\"setNextMonth()\"><i class=\"fa fa-arrow-right\"></i></button>\r\n            </div>\r\n            <div class=\"datepicker-header-action\" *ngIf=\"(picker == 'date' || picker == 'datetime' || picker == 'year') && view == 'year'\">\r\n                <button (click)=\"setPrevYearRange()\"><i class=\"fa fa-arrow-left\"></i></button>\r\n                <div>{{config.startYear - 8}} - {{config.startYear + 7}}</div>\r\n                <button (click)=\"setNextYearRange()\"><i class=\"fa fa-arrow-right\"></i></button>\r\n            </div>\r\n        </div>\r\n        <div class=\"datepicker-body\">\r\n            <div class=\"datepicker-datepicker\" *ngIf=\"view == 'date' && (picker == 'date' || picker == 'datetime')\">\r\n                <ul class=\"datepicker-weeks\">\r\n                    <li *ngFor=\"let week of config.weeks\">\r\n                        <span>{{limitChar(week,3)}}</span>\r\n                    </li>\r\n                </ul>\r\n                \r\n                <ul class=\"datepicker-dates\">\r\n                    <li *ngFor=\"let d of getPrefixDays()\">\r\n                        <span></span>\r\n                    </li>\r\n                    <li *ngFor=\"let d of getDatesInMonthArray();trackBy:trackBy\" class=\"{{isCurrent(d.formated,'date') ? 'active' : ''}} {{d.disabled ? 'disabled' : ''}}\" (click)=\"setDate(d);\">\r\n                        <span>{{d.date}}</span>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"picker\" *ngIf=\"picker == 'time' || picker == 'datetime'\">\r\n                <span *ngIf=\"view == 'hour'\">Select Hour</span>\r\n                <ul class=\"picker-col-3\" *ngIf=\"view == 'hour'\">\r\n                    <li *ngFor=\"let n of getArrayOf(12);let h = index\">\r\n                        <button class=\"{{isCurrent(h+1,'hour') ? 'active' : ''}}\" (click)=\"setHour(h+1);\">{{h+1}}</button>\r\n                    </li>\r\n                </ul>\r\n                <span *ngIf=\"view == 'minute'\">Select minute</span>\r\n                <ul class=\"picker-col-6\" *ngIf=\"view == 'minute'\">\r\n                    <li *ngFor=\"let n of getArrayOf(60);let m = index\" class=\"{{isMonthDisabled(m) ? 'disabled' : ''}}\">\r\n                        <button class=\"{{isCurrent(m,'minute') ? 'active' : ''}}\" (click)=\"setMinute(m)\">{{m}}</button>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n\r\n            <div class=\"picker\" *ngIf=\"picker == 'duration'\">\r\n                <span *ngIf=\"view == 'hours'\">Select Hours</span>\r\n                <ul class=\"picker-col-6\" *ngIf=\"view == 'hours'\">\r\n                    <li *ngFor=\"let n of getArrayOf(25);let h = index\">\r\n                        <button class=\"{{h == duration.hours ? 'active' : ''}}\" (click)=\"setDurationHours(h)\">{{h}}</button>\r\n                    </li>\r\n                </ul>\r\n                <span *ngIf=\"view == 'minutes'\">Select Minutes</span>\r\n                <ul class=\"picker-col-6\" *ngIf=\"view == 'minutes'\">\r\n                    <li *ngFor=\"let n of getArrayOf(60);let m = index\">\r\n                        <button class=\"{{m == duration.minutes ? 'active' : ''}}\" (click)=\"setDurationMinutes(m)\">{{m}}</button>\r\n                    </li>\r\n                </ul>\r\n                <span *ngIf=\"view == 'seconds'\">Select Seconds</span>\r\n                <ul class=\"picker-col-6\" *ngIf=\"view == 'seconds'\">\r\n                    <li *ngFor=\"let n of getArrayOf(60);let s = index\">\r\n                        <button class=\"{{s == duration.seconds ? 'active' : ''}}\" (click)=\"setDurationSeconds(s)\">{{s}}</button>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n\r\n            <div class=\"picker\" *ngIf=\"view == 'month' || picker == 'month'\">\r\n                <div class=\"disabled-mask\" *ngIf=\"allMonthsDisabled()\">\r\n                    <small>{{getDisableMaskLabel().label}}</small>\r\n                    <span>{{getDisableMaskLabel().range}}</span>\r\n                </div>\r\n                <ul class=\"picker-col-2\">\r\n                    <li *ngFor=\"let month of config.months;let m = index\" class=\"{{isMonthDisabled(m) ? 'disabled' : ''}}\">\r\n                        <button (click)=\"setMonth(m);\" class=\"{{isCurrent(m+1 + '','month') ? 'active' : ''}}\">{{month}}</button>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"picker\" *ngIf=\"view == 'year'  || picker == 'year'\">\r\n                <div class=\"disabled-mask\" *ngIf=\"allYearRangeDisabled()\">\r\n                    <small>{{getDisableMaskLabel().label}}</small>\r\n                    <span>{{getDisableMaskLabel().range}}</span>\r\n                </div>\r\n                <ul class=\"picker-col-4\">\r\n                    <li *ngFor=\"let year of getYearsRange()\" class=\"{{isYearDisabled(year) ? 'disabled' : ''}}\">\r\n                        <button class=\"{{isCurrent(year,'year') ? 'active' : ''}}\" (click)=\"setYear(year);\">{{year}}</button>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n        <div class=\"datepicker-footer\">\r\n            <button (click)=\"closeDatePicker()\">Cancel</button>\r\n            <button (click)=\"apply()\">Apply</button>\r\n        </div>\r\n    </div>\r\n</div>", styles: [".datepicker-overlay{position:fixed;z-index:9999;background:#0000001f;width:100%;height:100%;left:0;top:0}.datepicker-fixed{width:100%;max-width:300px;z-index:999999;position:fixed;-webkit-user-select:none;user-select:none}.datepicker-container{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;background-color:#fff;color:#000000de;width:100%}.datepicker-header-label{background:#3f51b5;color:#fff;display:flex;flex-direction:row;justify-content:center;padding:10px}.datepicker-header-action{display:flex;flex-direction:row;align-items:center}.datepicker-header-action>div{flex:1;display:flex;align-items:center;justify-content:center}.datepicker-header-action>button{border:none;background:transparent;height:40px}.datepicker-footer>button{border:none;background:#fff;border-radius:5px;font-size:15px;padding:5px 20px}.datepicker-footer{padding:10px;display:flex;flex-direction:row;width:100%}.datepicker-footer>button:last-child{box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;margin-left:auto}ul.datepicker-weeks{list-style:none;padding:10px 0;margin:0;display:flex;flex-direction:row;border-bottom:1px solid #ddd}ul.datepicker-weeks>li{flex:1;display:flex;align-items:center;justify-content:center;font-size:12px}ul.datepicker-dates{padding:0;margin:0;list-style:none;display:block}ul.datepicker-dates>li{width:14.28%;display:block;font-size:12px;position:relative;padding-top:14.28%;float:left}ul.datepicker-dates>li.disabled,.picker .disabled,.picker .disabled button:hover{cursor:not-allowed;background:#b4b4b4}ul.datepicker-dates>li>span{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%;cursor:pointer}ul.datepicker-dates>li>span:hover{background:#ddd}ul.datepicker-dates>li.active>span{background:#3f51b5;color:#fff}.datepicker-header-label-date,.datepicker-header-label-time{display:flex}.datepicker-header-label-date{flex-direction:column}.datepicker-header-label-time{flex-direction:row}.datepicker-header-label button{background:transparent;color:#fff;opacity:.5;transition:.5s all ease;border:none;position:relative}.datepicker-header-label button>span{position:absolute;top:-25px;font-size:12px;left:0;width:100%;text-align:center}.datepicker-header-label button.active{opacity:1;color:#ffeb3b}.datepicker-header-label button:hover{opacity:.8}.datepicker-header-label-date>button{width:100%;text-align:left}.datepicker-header-label-date>button{font-size:18px}.datepicker-header-label-date>div{width:100%;display:flex;flex-direction:row}.datepicker-header-label-date>div>button{font-size:35px;line-height:30px}.datepicker-header-label-time>button{font-size:35px;line-height:30px}.datepicker-header-label-time>span{font-size:30px;line-height:0px;width:5px;justify-content:center;align-items:center;height:100%;display:flex}.datepicker-header-label-time>div{display:flex;flex-direction:column;align-items:center;justify-content:center}.datepicker-header-label-time>div>button{font-size:15px;line-height:15px}.picker>span{font-size:14px;display:block;width:100%;padding:5px}.picker>ul{list-style:none;padding:0;margin:0;display:flex;flex-direction:row;flex-wrap:wrap;max-height:250px;overflow:auto}ul.picker-col-2>li{width:50%}ul.picker-col-3>li{width:33.33%}ul.picker-col-4>li{width:25%}ul.picker-col-6>li{width:16.66%}.picker>ul>li{padding:5px}.picker>ul>li>button{width:100%;border:none;padding:5px;font-size:12px;border-radius:5px;background:#0000000a}.picker>ul>li>button:hover{background:#ddd}.picker>ul>li>button.active{background:#3f51b5;color:#fff}.picker{position:relative}.disabled-mask{position:absolute;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:0;color:#fff;background:#00000091;z-index:1;visibility:hidden;opacity:0;transition:.1s all ease}.disabled-mask>button{position:absolute;top:5px;right:5px;border:none;width:30px;height:30px;color:#fff;font-size:20px;padding:0;background:transparent;outline:none}.disabled-mask>small{font-size:11px}.disabled-mask>span{font-weight:700;font-size:14px}.disabled-mask.show{visibility:visible;opacity:1}\n"] }]
        }], ctorParameters: () => [{ type: i0.ChangeDetectorRef }], propDecorators: { container: [{
                type: ViewChild,
                args: ["container"]
            }], element: [{
                type: Input,
                args: ["element"]
            }], format: [{
                type: Input,
                args: ["format"]
            }], picker: [{
                type: Input,
                args: ['picker']
            }], view: [{
                type: Input,
                args: ['view']
            }], hours: [{
                type: Input,
                args: ['hours']
            }], minutes: [{
                type: Input,
                args: ['minutes']
            }], seconds: [{
                type: Input,
                args: ['seconds']
            }], disableBackDateTime: [{
                type: Input,
                args: ['disableBackDateTime']
            }], disableFutureDateTime: [{
                type: Input,
                args: ['disableFutureDateTime']
            }], backDateTime: [{
                type: Input,
                args: ['backDateTime']
            }], futureDateTime: [{
                type: Input,
                args: ['futureDateTime']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGl0dG8uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvZGl0dG8vc3JjL2xpYi9kaXR0by9kaXR0by5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9kaXR0by9zcmMvbGliL2RpdHRvL2RpdHRvLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBb0MsU0FBUyxFQUFjLEtBQUssRUFBVSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDbEgsT0FBTyxNQUFNLE1BQU0sUUFBUSxDQUFDOztBQWM1QixNQUFNLE9BQU8sY0FBYztJQUdmO0lBRFYsWUFDVSxLQUF3QjtRQUF4QixVQUFLLEdBQUwsS0FBSyxDQUFtQjtJQUM5QixDQUFDO0lBR0wsVUFBVSxHQUFhLEtBQUssQ0FBQztJQUM3QixJQUFJLEdBQVksS0FBSyxDQUFDO0lBQ0UsU0FBUyxDQUFlO0lBQzlCLE9BQU8sQ0FBZTtJQUN2QixNQUFNLEdBQVcscUJBQXFCLENBQUM7SUFHdkMsTUFBTSxHQUFrRSxNQUFNLENBQUM7SUFDakYsSUFBSSxHQUF3SCxNQUFNLENBQUM7SUFDbEksS0FBSyxHQUFhLElBQUksQ0FBQztJQUNyQixPQUFPLEdBQWEsSUFBSSxDQUFDO0lBQ3pCLE9BQU8sR0FBYSxJQUFJLENBQUM7SUFDYixtQkFBbUIsR0FBYSxLQUFLLENBQUM7SUFDcEMscUJBQXFCLEdBQWEsS0FBSyxDQUFDO0lBQ2pELFlBQVksR0FBRyxNQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMscUJBQXFCLENBQUMsQ0FBQztJQUNwRCxjQUFjLEdBQUcsTUFBTSxFQUFFLENBQUMsTUFBTSxDQUFDLHFCQUFxQixDQUFDLENBQUM7SUFHakYsUUFBUSxHQUlKO1FBQ0YsS0FBSyxFQUFHLENBQUM7UUFDVCxPQUFPLEVBQUcsQ0FBQztRQUNYLE9BQU8sRUFBRyxDQUFDO0tBQ1osQ0FBQztJQUVG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UUFBUTtnQkFDQSxJQUFJO3NCQUFsQixLQUFLO3VCQUFDLE1BQU07Z0JBQ0csS0FBSztzQkFBcEIsS0FBSzt1QkFBQyxPQUFPO2dCQUNJLE9BQU87c0JBQXhCLEtBQUs7dUJBQUMsU0FBUztnQkFDRSxPQUFPO3NCQUF4QixLQUFLO3VCQUFDLFNBQVM7Z0JBQ2MsbUJBQW1CO3NCQUFoRCxLQUFLO3VCQUFDLHFCQUFxQjtnQkFDSSxxQkFBcUI7c0JBQXBELEtBQUs7dUJBQUMsdUJBQXVCO2dCQUNQLFlBQVk7c0JBQWxDLEtBQUs7dUJBQUMsY0FBYztnQkFDSSxjQUFjO3NCQUF0QyxLQUFLO3VCQUFDLGdCQUFnQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFmdGVyVmlld0luaXQsIENoYW5nZURldGVjdG9yUmVmLCBDb21wb25lbnQsIEVsZW1lbnRSZWYsIElucHV0LCBPbkluaXQsIFZpZXdDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XHJcblxyXG5cclxuIHR5cGUgRGl0dG9EYXRlVHlwZSA9IHtcclxuICBkYXRlOiBudW1iZXIsXHJcbiAgICAgICAgZm9ybWF0ZWQ6IHN0cmluZyxcclxuICAgICAgICBkaXNhYmxlZCA6IGJvb2xlYW5cclxuIH07XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2RpdHRvJyxcclxuICB0ZW1wbGF0ZVVybDogJy4vZGl0dG8uY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL2RpdHRvLmNvbXBvbmVudC5jc3MnXSxcclxufSlcclxuZXhwb3J0IGNsYXNzIERpdHRvQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBBZnRlclZpZXdJbml0IHtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIGNkUmVmOiBDaGFuZ2VEZXRlY3RvclJlZlxyXG4gICkgeyB9XHJcblxyXG4gIFxyXG4gIHNob3dFcnJvcnMgOiBib29sZWFuID0gZmFsc2U7XHJcbiAgc2hvdzogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIEBWaWV3Q2hpbGQoXCJjb250YWluZXJcIikgY29udGFpbmVyICE6IEVsZW1lbnRSZWY7XHJcbiAgQElucHV0KFwiZWxlbWVudFwiKSBlbGVtZW50ICE6IEVsZW1lbnRSZWY7XHJcbiAgQElucHV0KFwiZm9ybWF0XCIpIGZvcm1hdDogc3RyaW5nID0gXCJZWVlZLU1NLUREIEhIOm1tOnNzXCI7XHJcblxyXG5cclxuICBASW5wdXQoJ3BpY2tlcicpIHBpY2tlciA6ICdkYXRlJyB8ICd0aW1lJyB8ICdkYXRldGltZScgfCAnZHVyYXRpb24nIHwgJ21vbnRoJyB8ICd5ZWFyJyA9ICdkYXRlJztcclxuICBASW5wdXQoJ3ZpZXcnKSB2aWV3IDogJ2RhdGUnIHwgJ3RpbWUnIHwgJ2RhdGV0aW1lJyB8ICdkdXJhdGlvbicgfCAnbW9udGgnIHwgJ3llYXInIHwgJ2hvdXInIHwgJ21pbnV0ZScgfCAnaG91cnMnIHwgJ21pbnV0ZXMnIHwgJ3NlY29uZHMnID0gJ2RhdGUnO1xyXG4gIEBJbnB1dCgnaG91cnMnKSBob3VycyA6IGJvb2xlYW4gPSB0cnVlO1xyXG4gIEBJbnB1dCgnbWludXRlcycpIG1pbnV0ZXMgOiBib29sZWFuID0gdHJ1ZTtcclxuICBASW5wdXQoJ3NlY29uZHMnKSBzZWNvbmRzIDogYm9vbGVhbiA9IHRydWU7XHJcbiAgQElucHV0KCdkaXNhYmxlQmFja0RhdGVUaW1lJykgZGlzYWJsZUJhY2tEYXRlVGltZSA6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBASW5wdXQoJ2Rpc2FibGVGdXR1cmVEYXRlVGltZScpIGRpc2FibGVGdXR1cmVEYXRlVGltZSA6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBASW5wdXQoJ2JhY2tEYXRlVGltZScpIGJhY2tEYXRlVGltZSA9IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpO1xyXG4gIEBJbnB1dCgnZnV0dXJlRGF0ZVRpbWUnKSBmdXR1cmVEYXRlVGltZSA9IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpO1xyXG5cclxuXHJcbiAgZHVyYXRpb24gOiB7XHJcbiAgICBob3VycyA6IG51bWJlcixcclxuICAgIG1pbnV0ZXMgOiBudW1iZXIsXHJcbiAgICBzZWNvbmRzIDogbnVtYmVyXHJcbiAgfSA9IHtcclxuICAgIGhvdXJzIDogMCxcclxuICAgIG1pbnV0ZXMgOiAwLFxyXG4gICAgc2Vjb25kcyA6IDBcclxuICB9O1xyXG5cclxuICBjb25maWcgPSB7XHJcbiAgICB0aW1lcGlja2VyOiAnJywgLy9ob3VyICwgbWludXRlXHJcbiAgICBwb3NpdGlvbjoge1xyXG4gICAgICB4OiAwLFxyXG4gICAgICB5OiAwXHJcbiAgICB9LFxyXG4gICAgc3RhcnRZZWFyOiBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCksXHJcbiAgICBpY29uczoge1xyXG4gICAgICBsZWZ0OiBcIvCfobBcIixcclxuICAgICAgcmlnaHQ6IFwi8J+hslwiLFxyXG4gICAgICB1cDogXCLwn6GxXCIsXHJcbiAgICAgIGRvd246IFwi8J+hs1wiXHJcbiAgICB9LFxyXG4gICAgd2Vla3M6IFtcIlN1bmRheVwiLCBcIk1vbmRheVwiLCBcIlR1ZXNkYXlcIiwgXCJXZWRuZXNkYXlcIiwgXCJUaGlyc2RheVwiLCBcIkZyaWRheVwiLCBcIlNhdHVyZGF5XCJdLFxyXG4gICAgbW9udGhzOiBbJ0phbnVhcnknLCAnRmVicnVhcnknLCAnTWFyY2gnLCAnQXByaWwnLCAnTWF5JywgJ0p1bmUnLCAnSnVseScsICdBdWd1c3QnLCAnU2VwdGVtYmVyJywgJ09jdG9iZXInLCAnTm92ZW1iZXInLCAnRGVjZW1iZXInXSxcclxuICB9O1xyXG5cclxuICBfdmFsdWU6IHN0cmluZyA9IFwiXCI7XHJcblxyXG4gIGdldCB2YWx1ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLl92YWx1ZTtcclxuICB9XHJcblxyXG4gIHNldCB2YWx1ZSh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICBpZiAodmFsdWUgIT09IFwiXCIgJiYgdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiICYmIHRoaXMuZm9ybWF0ICE9PSBcIlwiKSB7XHJcbiAgICAgIGlmIChtb21lbnQodmFsdWUsIHRoaXMuZm9ybWF0KS5pc1ZhbGlkKCkpIHtcclxuICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiSW52YWxpZCBkYXRlXCIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvbkFwcGx5OiBhbnkgPSAoX3Y6IHN0cmluZykgPT4geyB9XHJcblxyXG5cclxuICB0cmFja0J5KG46IG51bWJlcikge1xyXG4gICAgcmV0dXJuIG47XHJcbiAgfVxyXG5cclxuICBnZXRQcmVmaXhEYXlzKCkge1xyXG4gICAgdmFyIGRhdGUgPSBtb21lbnQodGhpcy52YWx1ZSwgdGhpcy5mb3JtYXQpLnN0YXJ0T2YoJ21vbnRoJyk7XHJcbiAgICB2YXIgZGF5ID0gTnVtYmVyKGRhdGUuZm9ybWF0KFwiZFwiKSk7XHJcbiAgICByZXR1cm4gbmV3IEFycmF5KGRheSk7XHJcbiAgfVxyXG5cclxuICBnZXREYXRlc0luTW9udGhBcnJheSgpIHtcclxuICAgIHZhciBkYXRlcyA6IERpdHRvRGF0ZVR5cGVbXSA9IFtdO1xyXG4gICAgdmFyIGEgPSBtb21lbnQodGhpcy52YWx1ZSwgdGhpcy5mb3JtYXQpLnN0YXJ0T2YoJ21vbnRoJykuZm9ybWF0KCdZWVlZLU1NLUREJyk7XHJcbiAgICB2YXIgYiA9IG1vbWVudCh0aGlzLnZhbHVlLCB0aGlzLmZvcm1hdCkuZW5kT2YoJ21vbnRoJykuZm9ybWF0KCdZWVlZLU1NLUREJyk7XHJcblxyXG4gICAgZm9yICh2YXIgbSA9IG1vbWVudChhKTsgbS5kaWZmKGIsICdkYXlzJykgPD0gMDsgbS5hZGQoMSwgJ2RheXMnKSkge1xyXG4gICAgICB2YXIgZGF0ZSA6IERpdHRvRGF0ZVR5cGUgPSB7XHJcbiAgICAgICAgZGF0ZTogTnVtYmVyKG0uZm9ybWF0KCdEJykpLFxyXG4gICAgICAgIGZvcm1hdGVkOiBtLmZvcm1hdChcIllZWVktTU0tRERcIiksXHJcbiAgICAgICAgZGlzYWJsZWQgOiBmYWxzZVxyXG4gICAgICB9O1xyXG4gICAgICBpZih0aGlzLmRpc2FibGVCYWNrRGF0ZVRpbWUgID09IHRydWUpe1xyXG4gICAgICAgIGlmKG1vbWVudChkYXRlLmZvcm1hdGVkLCdZWVlZLU1NLUREJykuaXNCZWZvcmUobW9tZW50KHRoaXMuYmFja0RhdGVUaW1lLHRoaXMuZm9ybWF0KSkpe1xyXG4gICAgICAgICAgZGF0ZS5kaXNhYmxlZCA9dHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmKHRoaXMuZGlzYWJsZUZ1dHVyZURhdGVUaW1lICA9PSB0cnVlKXtcclxuICAgICAgICBpZihtb21lbnQoZGF0ZS5mb3JtYXRlZCwnWVlZWS1NTS1ERCcpLmlzQWZ0ZXIobW9tZW50KHRoaXMuZnV0dXJlRGF0ZVRpbWUsdGhpcy5mb3JtYXQpKSl7XHJcbiAgICAgICAgICBkYXRlLmRpc2FibGVkID10cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgXHJcblxyXG4gICAgICBkYXRlcy5wdXNoKGRhdGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRhdGVzO1xyXG4gIH1cclxuXHJcbiAgZ2V0RGF5c0luTW9udGgoKSB7XHJcbiAgICByZXR1cm4gbmV3IEFycmF5KG1vbWVudCgpLmRheXNJbk1vbnRoKCkpO1xyXG4gIH1cclxuXHJcblxyXG5cclxuXHJcblxyXG4gIGdldEFycmF5T2YobjogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gbmV3IEFycmF5KG4pO1xyXG4gIH1cclxuXHJcbiAgdGl0bGVDYXNlKHN0cjogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxiKFxcdykvZywgcyA9PiBzLnRvVXBwZXJDYXNlKCkpO1xyXG4gIH1cclxuXHJcbiAgcHJlZml4WmVybyhuOiBudW1iZXIpIHtcclxuICAgIHJldHVybiAoJzAnICsgbikuc2xpY2UoLTIpO1xyXG4gIH1cclxuXHJcbiAgbGltaXRDaGFyKHN0cjogc3RyaW5nLCBuOiBudW1iZXIpIHtcclxuICAgIHJldHVybiBzdHIuc3Vic3RyaW5nKDAsIG4pO1xyXG4gIH1cclxuXHJcbiAgc2V0TmV4dFllYXJSYW5nZSgpIHtcclxuICAgIHRoaXMuY29uZmlnLnN0YXJ0WWVhciA9IHRoaXMuY29uZmlnLnN0YXJ0WWVhciArIDE1O1xyXG4gIH1cclxuXHJcbiAgc2V0UHJldlllYXJSYW5nZSgpIHtcclxuICAgIHRoaXMuY29uZmlnLnN0YXJ0WWVhciA9IHRoaXMuY29uZmlnLnN0YXJ0WWVhciAtIDE1O1xyXG4gIH1cclxuXHJcblxyXG4gIHNldE5leHRNb250aCgpIHtcclxuICAgIHRoaXMudmFsdWUgPSBtb21lbnQodGhpcy52YWx1ZSwgdGhpcy5mb3JtYXQpLmFkZCgxLCBcIk1cIikuZm9ybWF0KHRoaXMuZm9ybWF0KTtcclxuICB9XHJcblxyXG4gIHNldFByZXZNb250aCgpIHtcclxuICAgIHRoaXMudmFsdWUgPSBtb21lbnQodGhpcy52YWx1ZSwgdGhpcy5mb3JtYXQpLmFkZCgtMSwgXCJNXCIpLmZvcm1hdCh0aGlzLmZvcm1hdCk7XHJcbiAgfVxyXG5cclxuICBnZXRZZWFyc1JhbmdlKCkge1xyXG4gICAgdmFyIHllYXJzID0gW107XHJcbiAgICB2YXIgc3RhcnRZZWFyID0gdGhpcy5jb25maWcuc3RhcnRZZWFyIC0gNztcclxuICAgIHZhciBlbmRZZWFyID0gdGhpcy5jb25maWcuc3RhcnRZZWFyICsgNztcclxuICAgIGZvciAodmFyIHkgPSBzdGFydFllYXI7IHkgPD0gZW5kWWVhcjsgeSsrKSB7XHJcbiAgICAgIHllYXJzLnB1c2goeSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4geWVhcnM7XHJcbiAgfVxyXG5cclxuXHJcblxyXG4gIHNldFBvc2l0aW9uKCkge1xyXG4gICAgdmFyIGluc3QgPSB0aGlzO1xyXG4gICAgdmFyIGRpcmVjdGl2ZVJlY3QgPSBpbnN0LmVsZW1lbnQubmF0aXZlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIHZhciBjb250YWluZXJSZWN0ID0gaW5zdC5jb250YWluZXIubmF0aXZlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcblxyXG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDYwMCB8fCB3aW5kb3cuaW5uZXJIZWlnaHQgPD0gNjAwKSB7XHJcbiAgICAgIGluc3QuY29uZmlnLnBvc2l0aW9uLnggPSAod2luZG93LmlubmVyV2lkdGggLSBjb250YWluZXJSZWN0LndpZHRoKSAvIDI7XHJcbiAgICAgIGluc3QuY29uZmlnLnBvc2l0aW9uLnkgPSAod2luZG93LmlubmVySGVpZ2h0IC0gY29udGFpbmVyUmVjdC5oZWlnaHQpIC8gMjtcclxuICAgICAgaW5zdC5jZFJlZi5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgY29udGFpbmVyOiBjb250YWluZXJSZWN0LFxyXG4gICAgICAgIGRpcmVjdGl2ZTogZGlyZWN0aXZlUmVjdFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBpZiAod2luZG93LmlubmVySGVpZ2h0IDw9IGRpcmVjdGl2ZVJlY3QuaGVpZ2h0ICsgY29udGFpbmVyUmVjdC5oZWlnaHQgKyBkaXJlY3RpdmVSZWN0LnkpIHtcclxuXHJcbiAgICAgIGluc3QuY29uZmlnLnBvc2l0aW9uLnggPSAod2luZG93LmlubmVyV2lkdGggLSBjb250YWluZXJSZWN0LndpZHRoKSAvIDI7XHJcbiAgICAgIGluc3QuY29uZmlnLnBvc2l0aW9uLnkgPSAod2luZG93LmlubmVySGVpZ2h0IC0gY29udGFpbmVyUmVjdC5oZWlnaHQpIC8gMjtcclxuXHJcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IGRpcmVjdGl2ZVJlY3Qud2lkdGggKyBjb250YWluZXJSZWN0LndpZHRoICsgZGlyZWN0aXZlUmVjdC54KSB7XHJcbiAgICAgIGluc3QuY29uZmlnLnBvc2l0aW9uLnkgPSBkaXJlY3RpdmVSZWN0LnkgKyBkaXJlY3RpdmVSZWN0LmhlaWdodDtcclxuICAgICAgaW5zdC5jb25maWcucG9zaXRpb24ueCA9ICgoZGlyZWN0aXZlUmVjdC54IC0gY29udGFpbmVyUmVjdC53aWR0aCkgKyBkaXJlY3RpdmVSZWN0LndpZHRoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGluc3QuY29uZmlnLnBvc2l0aW9uLnggPSBkaXJlY3RpdmVSZWN0Lng7XHJcbiAgICAgIGluc3QuY29uZmlnLnBvc2l0aW9uLnkgPSBkaXJlY3RpdmVSZWN0LnkgKyBkaXJlY3RpdmVSZWN0LmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBpbnN0LmNkUmVmLmRldGVjdENoYW5nZXMoKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGNvbnRhaW5lcjogY29udGFpbmVyUmVjdCxcclxuICAgICAgZGlyZWN0aXZlOiBkaXJlY3RpdmVSZWN0XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcblxyXG5cclxuICBnZXRGb3JtYXRlZChmb3JtYXQ6IHN0cmluZykge1xyXG4gICAgcmV0dXJuIG1vbWVudCh0aGlzLnZhbHVlLCB0aGlzLmZvcm1hdCkuZm9ybWF0KGZvcm1hdCk7XHJcbiAgfVxyXG5cclxuICBpc0N1cnJlbnQodmFsdWU6IGFueSwgbW9kZTogc3RyaW5nKSB7XHJcblxyXG4gICAgaWYgKG1vZGUgPT0gXCJob3VyXCIpIHtcclxuICAgICAgaWYgKHZhbHVlID09IG1vbWVudCh0aGlzLnZhbHVlLCB0aGlzLmZvcm1hdCkuZm9ybWF0KFwiaFwiKSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKG1vZGUgPT0gXCJtaW51dGVcIikge1xyXG4gICAgICBpZiAodmFsdWUgPT0gbW9tZW50KHRoaXMudmFsdWUsIHRoaXMuZm9ybWF0KS5mb3JtYXQoXCJtXCIpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAobW9kZSA9PSBcImFtcG1cIikge1xyXG4gICAgICBpZiAodmFsdWUudG9Mb3dlckNhc2UoKSA9PSBtb21lbnQodGhpcy52YWx1ZSwgdGhpcy5mb3JtYXQpLmZvcm1hdChcIkFcIikudG9Mb3dlckNhc2UoKSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKG1vZGUgPT0gXCJkYXRlXCIpIHtcclxuICAgICAgaWYgKHZhbHVlID09IG1vbWVudCh0aGlzLnZhbHVlLCB0aGlzLmZvcm1hdCkuZm9ybWF0KFwiWVlZWS1NTS1ERFwiKSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKG1vZGUgPT0gXCJtb250aFwiKSB7XHJcbiAgICAgIGlmICh2YWx1ZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkgPT0gbW9tZW50KHRoaXMudmFsdWUsIHRoaXMuZm9ybWF0KS5mb3JtYXQoXCJNXCIpLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChtb2RlID09IFwieWVhclwiKSB7XHJcbiAgICAgIGlmICh2YWx1ZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkgPT0gbW9tZW50KHRoaXMudmFsdWUsIHRoaXMuZm9ybWF0KS5mb3JtYXQoXCJZWVlZXCIpLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG5cclxuICBzZXRBbVBtKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgIHZhciBkYXRlID0gbW9tZW50KHRoaXMudmFsdWUsIHRoaXMuZm9ybWF0KS5mb3JtYXQoXCJZWVlZLU1NLUREIExUXCIpO1xyXG4gICAgZGF0ZSA9IGRhdGUucmVwbGFjZShcIkFNXCIsIHZhbHVlKS5yZXBsYWNlKFwiUE1cIiwgdmFsdWUpO1xyXG4gICAgdGhpcy52YWx1ZSA9IG1vbWVudChkYXRlLCBcIllZWVktTU0tREQgTFRcIikuZm9ybWF0KHRoaXMuZm9ybWF0KTtcclxuICB9XHJcblxyXG5cclxuICBzZXREYXRlKGQgOiBEaXR0b0RhdGVUeXBlKSB7XHJcbiAgICBpZighZC5kaXNhYmxlZCl7XHJcbiAgICAgIHRoaXMudmFsdWUgPSBtb21lbnQodGhpcy52YWx1ZSwgdGhpcy5mb3JtYXQpLnNldChcIkRcIiwgZC5kYXRlKS5mb3JtYXQodGhpcy5mb3JtYXQpO1xyXG5cclxuICAgICAgaWYodGhpcy5waWNrZXIgPT0gJ2RhdGV0aW1lJyl7XHJcbiAgICAgICAgdGhpcy52aWV3ID0gJ2hvdXInO1xyXG4gICAgICB9ZWxzZXtcclxuICAgICAgICB0aGlzLnZpZXcgPSAnZGF0ZSc7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxuICBzZXRNb250aChtOiBudW1iZXIpIHtcclxuICAgIGlmKCF0aGlzLmlzTW9udGhEaXNhYmxlZChtKSl7XHJcbiAgICAgIHRoaXMudmFsdWUgPSBtb21lbnQodGhpcy52YWx1ZSwgdGhpcy5mb3JtYXQpLnNldChcIk1cIiwgbSkuZm9ybWF0KHRoaXMuZm9ybWF0KTtcclxuICAgICAgaWYodGhpcy5waWNrZXIgPT0gJ2RhdGV0aW1lJyB8fCB0aGlzLnBpY2tlciA9PSAnZGF0ZScpe1xyXG4gICAgICAgIHRoaXMudmlldyA9ICdkYXRlJ1xyXG4gICAgICB9ZWxzZXtcclxuICAgICAgICB0aGlzLnZpZXcgPSAnbW9udGgnO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbiAgc2V0WWVhcih5OiBudW1iZXIpIHtcclxuICAgIGlmKCF0aGlzLmlzWWVhckRpc2FibGVkKHkpKXtcclxuICAgICAgdGhpcy52YWx1ZSA9IG1vbWVudCh0aGlzLnZhbHVlLCB0aGlzLmZvcm1hdCkuc2V0KFwieWVhclwiLCB5KS5mb3JtYXQodGhpcy5mb3JtYXQpO1xyXG4gICAgICBpZih0aGlzLnBpY2tlciA9PSAnZGF0ZXRpbWUnIHx8IHRoaXMucGlja2VyID09ICdkYXRlJyl7XHJcbiAgICAgICAgdGhpcy52aWV3ID0gJ21vbnRoJ1xyXG4gICAgICB9ZWxzZXtcclxuICAgICAgICB0aGlzLnZpZXcgPSAneWVhcic7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxuICBzZXRIb3VyKGg6IG51bWJlcikge1xyXG4gICAgdGhpcy52YWx1ZSA9IG1vbWVudCh0aGlzLnZhbHVlLCB0aGlzLmZvcm1hdCkuc2V0KFwiaFwiLCBoKS5mb3JtYXQodGhpcy5mb3JtYXQpO1xyXG4gICAgICBpZih0aGlzLnBpY2tlciA9PSAnZGF0ZXRpbWUnIHx8IHRoaXMucGlja2VyID09ICd0aW1lJyl7XHJcbiAgICAgICAgdGhpcy52aWV3ID0gJ21pbnV0ZSc7XHJcbiAgICAgIH1cclxuICB9XHJcblxyXG4gIHNldE1pbnV0ZSh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLnZhbHVlID0gbW9tZW50KHRoaXMudmFsdWUsIHRoaXMuZm9ybWF0KS5zZXQoXCJtXCIsIHZhbHVlKS5mb3JtYXQodGhpcy5mb3JtYXQpO1xyXG4gICAgaWYgKHRoaXMucGlja2VyID09IFwidGltZVwiKSB7XHJcbiAgICAgIHRoaXMuY29uZmlnLnRpbWVwaWNrZXIgPSBcIlwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy52aWV3ID0gXCJkYXRlXCI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgc2V0RHVyYXRpb25Ib3Vycyh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLmR1cmF0aW9uLmhvdXJzID0gdmFsdWU7XHJcblxyXG4gICAgaWYodGhpcy5taW51dGVzKXtcclxuICAgICAgdGhpcy52aWV3ID0gJ21pbnV0ZXMnO1xyXG4gICAgfWVsc2UgaWYodGhpcy5zZWNvbmRzKXtcclxuICAgICAgdGhpcy52aWV3ID0gJ3NlY29uZHMnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RHVyYXRpb25NaW51dGVzKHZhbHVlOiBudW1iZXIpIHtcclxuICAgIHRoaXMuZHVyYXRpb24ubWludXRlcyA9IHZhbHVlO1xyXG5cclxuIGlmKHRoaXMuc2Vjb25kcyl7XHJcbiAgICAgIHRoaXMudmlldyA9ICdzZWNvbmRzJztcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxuXHJcbiAgc2V0RHVyYXRpb25TZWNvbmRzKHZhbHVlOiBudW1iZXIpIHtcclxuICAgIHRoaXMuZHVyYXRpb24uc2Vjb25kcyA9IHZhbHVlIDtcclxuICB9XHJcblxyXG4gIGFwcGx5KCkge1xyXG4gICAgaWYodGhpcy5waWNrZXIgPT0gJ2R1cmF0aW9uJyl7XHJcblxyXG4gICAgIHZhciBkdXJhdGlvbnMgOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICAgICAgaWYodGhpcy5ob3Vycyl7XHJcbiAgICAgICAgZHVyYXRpb25zLnB1c2godGhpcy5wYWRpbnQodGhpcy5kdXJhdGlvbi5ob3VycykpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZih0aGlzLm1pbnV0ZXMpe1xyXG4gICAgICAgIGR1cmF0aW9ucy5wdXNoKHRoaXMucGFkaW50KHRoaXMuZHVyYXRpb24ubWludXRlcykpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZih0aGlzLnNlY29uZHMpe1xyXG4gICAgICAgIGR1cmF0aW9ucy5wdXNoKHRoaXMucGFkaW50KHRoaXMuZHVyYXRpb24uc2Vjb25kcykpO1xyXG4gICAgICB9XHJcblxyXG5cclxuICAgICAgdGhpcy5vbkFwcGx5KGR1cmF0aW9ucy5qb2luKCc6JykpO1xyXG4gICAgfWVsc2V7XHJcblxyXG4gICAgICB2YXIgbSA9IG1vbWVudCh0aGlzLnZhbHVlLHRoaXMuZm9ybWF0KTtcclxuXHJcbiAgICAgIGlmKHRoaXMuaXNNb21lbnREaXNhYmxlZChtKSl7XHJcbiAgICAgICAgdGhpcy5zaG93RXJyb3JzID0gdHJ1ZTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpPT57dGhpcy5zaG93RXJyb3JzID0gZmFsc2U7fSwxNTAwKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMub25BcHBseSh0aGlzLnZhbHVlKTtcclxuICAgIH1cclxuICAgIHRoaXMuY2xvc2VEYXRlUGlja2VyKCk7XHJcbiAgfVxyXG5cclxuICAgcGFkaW50KG4gOiBudW1iZXIsIHcgOiBudW1iZXIgPSAyKSB7XHJcbiAgICBsZXQgbnVtYmVyU3RyaW5nID0gbi50b1N0cmluZygpO1xyXG4gICAgbGV0IHBhZGRpbmcgPSBNYXRoLm1heCgwLCB3IC0gbnVtYmVyU3RyaW5nLmxlbmd0aCk7XHJcbiAgICBsZXQgcGFkZGVkTnVtYmVyID0gJzAnLnJlcGVhdChwYWRkaW5nKSArIG51bWJlclN0cmluZztcclxuICAgIHJldHVybiBwYWRkZWROdW1iZXI7XHJcbn1cclxuXHJcblxyXG5nZXREaXNhYmxlTWFza0xhYmVsKCkgOiB7XHJcbiAgbGFiZWwgOiBzdHJpbmcsXHJcbiAgcmFuZ2UgOiBzdHJpbmdcclxufXtcclxuICB2YXIgbWlkID0gJyc7XHJcbiAgaWYodGhpcy5waWNrZXIgPT0gJ2RhdGV0aW1lJyl7XHJcbiAgICBtaWQgPSAnZGF0ZSBhbmQgdGltZSc7XHJcbiAgfWVsc2UgaWYodGhpcy5waWNrZXIgPT0gJ2RhdGUnKXtcclxuICAgIG1pZCA9ICdkYXRlJztcclxuICB9ZWxzZSBpZih0aGlzLnBpY2tlciA9PSAndGltZScpe1xyXG4gICAgbWlkID0gJ3RpbWUnO1xyXG4gIH1lbHNlIGlmKHRoaXMucGlja2VyID09ICdtb250aCcpe1xyXG4gICAgbWlkID0gJ21vbnRoJztcclxuICB9ZWxzZSBpZih0aGlzLnBpY2tlciA9PSAneWVhcicpe1xyXG4gICAgbWlkID0gJ3llYXInO1xyXG4gIH1cclxuXHJcbiAgaWYodGhpcy5kaXNhYmxlQmFja0RhdGVUaW1lICYmIHRoaXMuZGlzYWJsZUZ1dHVyZURhdGVUaW1lKXtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGxhYmVsIDogXCJQbGVhc2Ugc2VsZWN0IFwiK21pZCtcIiBiZXR3ZWVuIFwiLFxyXG4gICAgICByYW5nZSA6IGAke21vbWVudCh0aGlzLmJhY2tEYXRlVGltZSx0aGlzLmZvcm1hdCkuZm9ybWF0KHRoaXMuZm9ybWF0KX0gLSAke21vbWVudCh0aGlzLmZ1dHVyZURhdGVUaW1lLHRoaXMuZm9ybWF0KS5mb3JtYXQodGhpcy5mb3JtYXQpfWBcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBpZih0aGlzLmRpc2FibGVCYWNrRGF0ZVRpbWUpe1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbGFiZWwgOiBcIlBsZWFzZSBzZWxlY3QgYSBcIittaWQrXCIgYWZ0ZXIgXCIsXHJcbiAgICAgIHJhbmdlIDogYCR7bW9tZW50KHRoaXMuYmFja0RhdGVUaW1lLHRoaXMuZm9ybWF0KS5mb3JtYXQodGhpcy5mb3JtYXQpfWBcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBpZih0aGlzLmRpc2FibGVGdXR1cmVEYXRlVGltZSl7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBsYWJlbCA6IFwiUGxlYXNlIHNlbGVjdCBhIFwiK21pZCtcIiBiZWZvcmUgXCIsXHJcbiAgICAgIHJhbmdlIDogYCR7bW9tZW50KHRoaXMuZnV0dXJlRGF0ZVRpbWUsdGhpcy5mb3JtYXQpLmZvcm1hdCh0aGlzLmZvcm1hdCl9YFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBsYWJlbCA6IFwiXCIsXHJcbiAgICByYW5nZSA6IFwiXCJcclxuICB9O1xyXG59XHJcblxyXG5cclxuXHJcbiAgaXNNb250aERpc2FibGVkKG06bnVtYmVyKSA6IGJvb2xlYW4ge1xyXG4gICAgICB2YXIgZGF0ZSA9IG1vbWVudCh0aGlzLnZhbHVlLCB0aGlzLmZvcm1hdCkuc2V0KFwiTVwiLCBtKTtcclxuICAgICAgcmV0dXJuIHRoaXMuaXNNb21lbnREaXNhYmxlZChkYXRlKTtcclxuICB9XHJcblxyXG5cclxuICBhbGxZZWFyUmFuZ2VEaXNhYmxlZCgpe1xyXG4gICAgaWYoIXRoaXMuZGlzYWJsZUJhY2tEYXRlVGltZSAmJiAhdGhpcy5kaXNhYmxlRnV0dXJlRGF0ZVRpbWUpe1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGZvcih2YXIgeWVhciBvZiB0aGlzLmdldFllYXJzUmFuZ2UoKSl7XHJcbiAgICAgIGlmKCF0aGlzLmlzWWVhckRpc2FibGVkKHllYXIpKXtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcblxyXG4gIGFsbE1vbnRoc0Rpc2FibGVkKCl7XHJcbiAgICBpZighdGhpcy5kaXNhYmxlQmFja0RhdGVUaW1lICYmICF0aGlzLmRpc2FibGVGdXR1cmVEYXRlVGltZSl7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgdmFyIG0gPSAwO1xyXG4gIGZvcih2YXIgbW9udGggb2YgdGhpcy5jb25maWcubW9udGhzKXtcclxuICAgIGlmKCF0aGlzLmlzTW9udGhEaXNhYmxlZChtKSl7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIG0rKztcclxuICB9XHJcbiAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICBpc1llYXJEaXNhYmxlZCh5Om51bWJlcikgOiBib29sZWFue1xyXG4gICAgdmFyIGRhdGUgPSBtb21lbnQodGhpcy52YWx1ZSwgdGhpcy5mb3JtYXQpLnNldChcInllYXJcIiwgeSk7XHJcbiAgICByZXR1cm4gdGhpcy5pc01vbWVudERpc2FibGVkKGRhdGUsJ3llYXInKTtcclxuICB9XHJcblxyXG5cclxuICBpc01vbWVudERpc2FibGVkKG0gOiBtb21lbnQuTW9tZW50LCBtb2RlIDogJ3llYXInIHwgJ21vbnRoJyB8ICdob3VyJyB8ICdub25lJyA9ICdub25lJykgOiBib29sZWFue1xyXG4gICAgaWYodGhpcy5kaXNhYmxlQmFja0RhdGVUaW1lKXtcclxuXHJcbiAgICAgIGlmKG1vZGUgPT0gJ3llYXInKXtcclxuICAgICAgICBpZihOdW1iZXIobS5mb3JtYXQoJ1lZWVknKSkgPCBOdW1iZXIobW9tZW50KHRoaXMuYmFja0RhdGVUaW1lLHRoaXMuZm9ybWF0KS5mb3JtYXQoJ1lZWVknKSkpe1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9ZWxzZSAgaWYobS5pc0JlZm9yZShtb21lbnQodGhpcy5iYWNrRGF0ZVRpbWUsdGhpcy5mb3JtYXQpKSl7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZih0aGlzLmRpc2FibGVGdXR1cmVEYXRlVGltZSl7XHJcblxyXG4gICAgICBpZihtb2RlID09ICd5ZWFyJyl7XHJcbiAgICAgICAgaWYoTnVtYmVyKG0uZm9ybWF0KCdZWVlZJykpID4gTnVtYmVyKG1vbWVudCh0aGlzLmZ1dHVyZURhdGVUaW1lLHRoaXMuZm9ybWF0KS5mb3JtYXQoJ1lZWVknKSkpe1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9ZWxzZSBpZihtLmlzQWZ0ZXIobW9tZW50KHRoaXMuZnV0dXJlRGF0ZVRpbWUsdGhpcy5mb3JtYXQpKSl7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG5cclxuICBvcGVuRGF0ZVBpY2tlcihldmVudDogYW55KSB7XHJcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuICAgIHZhciBpbnN0ID0gdGhpcztcclxuICAgIGluc3Quc2hvdyA9IHRydWU7XHJcbiAgICBpZiAoaW5zdC5fdmFsdWUgPT0gXCJcIikge1xyXG4gICAgICBpbnN0Ll92YWx1ZSA9IG1vbWVudCgpLmZvcm1hdChpbnN0LmZvcm1hdCk7XHJcbiAgICB9XHJcbiAgICB2YXIgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciByZWN0cyA9IGluc3Quc2V0UG9zaXRpb24oKTtcclxuICAgICAgaWYgKHJlY3RzLmNvbnRhaW5lci5oZWlnaHQgPiAwKSB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgaW5zdC5jZFJlZi5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgY2xvc2VEYXRlUGlja2VyKCkge1xyXG4gICAgdmFyIGluc3QgPSB0aGlzO1xyXG4gICAgaW5zdC5zaG93ID0gZmFsc2U7XHJcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJhdXRvXCI7XHJcbiAgfVxyXG5cclxuICBuZ0FmdGVyVmlld0luaXQoKTogdm9pZCB7XHJcbiAgICB2YXIgaW5zdCA9IHRoaXM7XHJcbiAgICBpbnN0LmVsZW1lbnQubmF0aXZlRWxlbWVudC5vbmZvY3VzID0gaW5zdC5vcGVuRGF0ZVBpY2tlci5iaW5kKHRoaXMpO1xyXG4gICAgaW5zdC5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQub25jbGljayA9IGluc3Qub3BlbkRhdGVQaWNrZXIuYmluZCh0aGlzKTtcclxuICAgIGluc3Quc2V0UG9zaXRpb24oKTtcclxuXHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICB3aW5kb3cub25zY3JvbGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaW5zdC5zZXRQb3NpdGlvbigpO1xyXG4gICAgICAgIGluc3QuY2RSZWYuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgd2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGluc3Quc2V0UG9zaXRpb24oKTtcclxuICAgICAgICBpbnN0LmNkUmVmLmRldGVjdENoYW5nZXMoKTtcclxuICAgICAgfTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCk6IHZvaWQge1xyXG4gICAgdmFyIGluc3QgPSB0aGlzO1xyXG4gIH1cclxufVxyXG4iLCI8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci1vdmVybGF5XCIgKGNsaWNrKT1cImNsb3NlRGF0ZVBpY2tlcigpXCIgKm5nSWY9XCJzaG93XCI+PC9kaXY+XHJcbjxkaXYgI2NvbnRhaW5lciBjbGFzcz1cImRhdGVwaWNrZXItZml4ZWRcIiBbc3R5bGUudG9wLnB4XT1cImNvbmZpZy5wb3NpdGlvbi55XCIgW3N0eWxlLmxlZnQucHhdPVwiY29uZmlnLnBvc2l0aW9uLnhcIiAoY2xpY2spPVwic2V0UG9zaXRpb24oKVwiPlxyXG4gICAgPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItY29udGFpbmVyXCIgKm5nSWY9XCJzaG93XCI+XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJkaXNhYmxlZC1tYXNrIHt7c2hvd0Vycm9ycyA/ICdzaG93JyA6ICcnfX1cIj5cclxuICAgICAgICAgICAgPGJ1dHRvbiAoY2xpY2spPVwic2hvd0Vycm9ycyA9IGZhbHNlXCI+JnRpbWVzOzwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8c21hbGw+e3tnZXREaXNhYmxlTWFza0xhYmVsKCkubGFiZWx9fTwvc21hbGw+XHJcbiAgICAgICAgICAgIDxzcGFuPnt7Z2V0RGlzYWJsZU1hc2tMYWJlbCgpLnJhbmdlfX08L3NwYW4+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLWhlYWRlclwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci1oZWFkZXItbGFiZWxcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLWhlYWRlci1sYWJlbC1kYXRlXCIgKm5nSWY9XCJwaWNrZXIgPT0gJ2RhdGUnIHx8IHBpY2tlciA9PSAnZGF0ZXRpbWUnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiAoY2xpY2spPVwidmlldz0neWVhcidcIiBjbGFzcz1cInt7dmlldyA9PSAneWVhcicgPyAnYWN0aXZlJyA6ICcnfX1cIiAqbmdJZj1cInBpY2tlciA9PSAnZGF0ZXRpbWUnXCI+e3tnZXRGb3JtYXRlZCgnWVlZWScpfX08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIChjbGljayk9XCJ2aWV3PSdtb250aCdcIiBjbGFzcz1cInt7dmlldyA9PSAnbW9udGgnID8gJ2FjdGl2ZScgOiAnJ319XCI+e3tnZXRGb3JtYXRlZCgnTU1NJyl9fTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIChjbGljayk9XCJ2aWV3PSdkYXRlJ1wiIGNsYXNzPVwie3t2aWV3ID09ICdkYXRlJyA/ICdhY3RpdmUnIDogJyd9fVwiPnt7Z2V0Rm9ybWF0ZWQoJ0REJyl9fSA8c3BhbiAqbmdJZj1cInBpY2tlciA9PSAnZGF0ZSdcIj4sIDwvc3Bhbj48L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiAoY2xpY2spPVwidmlldz0neWVhcidcIiBjbGFzcz1cInt7dmlldyA9PSAneWVhcicgPyAnYWN0aXZlJyA6ICcnfX1cIiAqbmdJZj1cInBpY2tlciA9PSAnZGF0ZSdcIj57e2dldEZvcm1hdGVkKCdZWVlZJyl9fTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci1oZWFkZXItbGFiZWwtZGF0ZVwiICpuZ0lmPVwicGlja2VyID09ICdtb250aCdcIj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYWN0aXZlXCI+e3tnZXRGb3JtYXRlZCgnTU1NTScpfX08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItaGVhZGVyLWxhYmVsLWRhdGVcIiAqbmdJZj1cInBpY2tlciA9PSAneWVhcidcIj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYWN0aXZlXCI+e3tnZXRGb3JtYXRlZCgnWVlZWScpfX08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItaGVhZGVyLWxhYmVsLXRpbWVcIiAqbmdJZj1cInBpY2tlciA9PSAndGltZScgfHwgcGlja2VyID09ICdkYXRldGltZSdcIiBbc3R5bGUucGFkZGluZ1RvcC5weF09XCJwaWNrZXIgPT0gJ2RhdGV0aW1lJyA/IDI5IDogMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gKGNsaWNrKT1cInZpZXcgPSAndGltZSc7dmlldz0naG91cidcIiBjbGFzcz1cInt7dmlldyA9PSAnaG91cicgPyAnYWN0aXZlJyA6ICcnfX1cIj57e2dldEZvcm1hdGVkKCdoaCcpfX08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj46PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gKGNsaWNrKT1cInZpZXcgPSAndGltZSc7dmlldz0nbWludXRlJ1wiIGNsYXNzPVwie3t2aWV3ID09ICdtaW51dGUnPyAnYWN0aXZlJyA6ICcnfX1cIj57e2dldEZvcm1hdGVkKCdtbScpfX08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwie3tpc0N1cnJlbnQoJ2FtJywnYW1wbScpID8gJ2FjdGl2ZScgOiAnJ319XCIgKGNsaWNrKT1cInNldEFtUG0oJ0FNJylcIj5BTTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwie3tpc0N1cnJlbnQoJ3BtJywnYW1wbScpID8gJ2FjdGl2ZScgOiAnJ319XCIgKGNsaWNrKT1cInNldEFtUG0oJ1BNJylcIj5QTTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLWhlYWRlci1sYWJlbC10aW1lXCIgKm5nSWY9XCJwaWNrZXIgPT0gJ2R1cmF0aW9uJ1wiIFtzdHlsZS5wYWRkaW5nVG9wLnB4XT1cIjI5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiAqbmdJZj1cImhvdXJzXCIgKGNsaWNrKT1cInZpZXcgPSAnZHVyYXRpb24nO3ZpZXc9J2hvdXJzJ1wiIGNsYXNzPVwie3t2aWV3ID09ICdob3VycycgPyAnYWN0aXZlJyA6ICcnfX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+SDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3tkdXJhdGlvbi5ob3Vyc319XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCJob3VycyAmJiBtaW51dGVzXCI+Ojwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uICpuZ0lmPVwibWludXRlc1wiIChjbGljayk9XCJ2aWV3ID0gJ2R1cmF0aW9uJzt2aWV3PSdtaW51dGVzJ1wiIGNsYXNzPVwie3t2aWV3ID09ICdtaW51dGVzJz8gJ2FjdGl2ZScgOiAnJ319XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPk08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt7ZHVyYXRpb24ubWludXRlc319PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCJtaW51dGVzICYmIHNlY29uZHNcIj46PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gKm5nSWY9XCJzZWNvbmRzXCIgKGNsaWNrKT1cInZpZXcgPSAnZHVyYXRpb24nO3ZpZXc9J3NlY29uZHMnXCIgY2xhc3M9XCJ7e3ZpZXcgPT0gJ3NlY29uZHMnPyAnYWN0aXZlJyA6ICcnfX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+Uzwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3tkdXJhdGlvbi5zZWNvbmRzfX1cclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICBcclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItaGVhZGVyLWFjdGlvblwiICpuZ0lmPVwiKHBpY2tlciA9PSAnZGF0ZScgfHwgcGlja2VyID09ICdkYXRldGltZScpICYmIHZpZXcgPT0gJ2RhdGUnXCI+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIChjbGljayk9XCJzZXRQcmV2TW9udGgoKVwiPjxpIGNsYXNzPVwiZmEgZmEtYXJyb3ctbGVmdFwiPjwvaT48L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDxkaXY+e3tnZXRGb3JtYXRlZCgnTU1NTSBERCcpfX08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gKGNsaWNrKT1cInNldE5leHRNb250aCgpXCI+PGkgY2xhc3M9XCJmYSBmYS1hcnJvdy1yaWdodFwiPjwvaT48L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLWhlYWRlci1hY3Rpb25cIiAqbmdJZj1cIihwaWNrZXIgPT0gJ2RhdGUnIHx8IHBpY2tlciA9PSAnZGF0ZXRpbWUnIHx8IHBpY2tlciA9PSAneWVhcicpICYmIHZpZXcgPT0gJ3llYXInXCI+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIChjbGljayk9XCJzZXRQcmV2WWVhclJhbmdlKClcIj48aSBjbGFzcz1cImZhIGZhLWFycm93LWxlZnRcIj48L2k+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8ZGl2Pnt7Y29uZmlnLnN0YXJ0WWVhciAtIDh9fSAtIHt7Y29uZmlnLnN0YXJ0WWVhciArIDd9fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiAoY2xpY2spPVwic2V0TmV4dFllYXJSYW5nZSgpXCI+PGkgY2xhc3M9XCJmYSBmYS1hcnJvdy1yaWdodFwiPjwvaT48L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItYm9keVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci1kYXRlcGlja2VyXCIgKm5nSWY9XCJ2aWV3ID09ICdkYXRlJyAmJiAocGlja2VyID09ICdkYXRlJyB8fCBwaWNrZXIgPT0gJ2RhdGV0aW1lJylcIj5cclxuICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImRhdGVwaWNrZXItd2Vla3NcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGkgKm5nRm9yPVwibGV0IHdlZWsgb2YgY29uZmlnLndlZWtzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPnt7bGltaXRDaGFyKHdlZWssMyl9fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwiZGF0ZXBpY2tlci1kYXRlc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsaSAqbmdGb3I9XCJsZXQgZCBvZiBnZXRQcmVmaXhEYXlzKClcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpICpuZ0Zvcj1cImxldCBkIG9mIGdldERhdGVzSW5Nb250aEFycmF5KCk7dHJhY2tCeTp0cmFja0J5XCIgY2xhc3M9XCJ7e2lzQ3VycmVudChkLmZvcm1hdGVkLCdkYXRlJykgPyAnYWN0aXZlJyA6ICcnfX0ge3tkLmRpc2FibGVkID8gJ2Rpc2FibGVkJyA6ICcnfX1cIiAoY2xpY2spPVwic2V0RGF0ZShkKTtcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e3tkLmRhdGV9fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwaWNrZXJcIiAqbmdJZj1cInBpY2tlciA9PSAndGltZScgfHwgcGlja2VyID09ICdkYXRldGltZSdcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwidmlldyA9PSAnaG91cidcIj5TZWxlY3QgSG91cjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cInBpY2tlci1jb2wtM1wiICpuZ0lmPVwidmlldyA9PSAnaG91cidcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGkgKm5nRm9yPVwibGV0IG4gb2YgZ2V0QXJyYXlPZigxMik7bGV0IGggPSBpbmRleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwie3tpc0N1cnJlbnQoaCsxLCdob3VyJykgPyAnYWN0aXZlJyA6ICcnfX1cIiAoY2xpY2spPVwic2V0SG91cihoKzEpO1wiPnt7aCsxfX08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwidmlldyA9PSAnbWludXRlJ1wiPlNlbGVjdCBtaW51dGU8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJwaWNrZXItY29sLTZcIiAqbmdJZj1cInZpZXcgPT0gJ21pbnV0ZSdcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGkgKm5nRm9yPVwibGV0IG4gb2YgZ2V0QXJyYXlPZig2MCk7bGV0IG0gPSBpbmRleFwiIGNsYXNzPVwie3tpc01vbnRoRGlzYWJsZWQobSkgPyAnZGlzYWJsZWQnIDogJyd9fVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwie3tpc0N1cnJlbnQobSwnbWludXRlJykgPyAnYWN0aXZlJyA6ICcnfX1cIiAoY2xpY2spPVwic2V0TWludXRlKG0pXCI+e3ttfX08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGlja2VyXCIgKm5nSWY9XCJwaWNrZXIgPT0gJ2R1cmF0aW9uJ1wiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCJ2aWV3ID09ICdob3VycydcIj5TZWxlY3QgSG91cnM8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJwaWNrZXItY29sLTZcIiAqbmdJZj1cInZpZXcgPT0gJ2hvdXJzJ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsaSAqbmdGb3I9XCJsZXQgbiBvZiBnZXRBcnJheU9mKDI1KTtsZXQgaCA9IGluZGV4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ7e2ggPT0gZHVyYXRpb24uaG91cnMgPyAnYWN0aXZlJyA6ICcnfX1cIiAoY2xpY2spPVwic2V0RHVyYXRpb25Ib3VycyhoKVwiPnt7aH19PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cInZpZXcgPT0gJ21pbnV0ZXMnXCI+U2VsZWN0IE1pbnV0ZXM8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJwaWNrZXItY29sLTZcIiAqbmdJZj1cInZpZXcgPT0gJ21pbnV0ZXMnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpICpuZ0Zvcj1cImxldCBuIG9mIGdldEFycmF5T2YoNjApO2xldCBtID0gaW5kZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInt7bSA9PSBkdXJhdGlvbi5taW51dGVzID8gJ2FjdGl2ZScgOiAnJ319XCIgKGNsaWNrKT1cInNldER1cmF0aW9uTWludXRlcyhtKVwiPnt7bX19PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cInZpZXcgPT0gJ3NlY29uZHMnXCI+U2VsZWN0IFNlY29uZHM8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJwaWNrZXItY29sLTZcIiAqbmdJZj1cInZpZXcgPT0gJ3NlY29uZHMnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpICpuZ0Zvcj1cImxldCBuIG9mIGdldEFycmF5T2YoNjApO2xldCBzID0gaW5kZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInt7cyA9PSBkdXJhdGlvbi5zZWNvbmRzID8gJ2FjdGl2ZScgOiAnJ319XCIgKGNsaWNrKT1cInNldER1cmF0aW9uU2Vjb25kcyhzKVwiPnt7c319PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBpY2tlclwiICpuZ0lmPVwidmlldyA9PSAnbW9udGgnIHx8IHBpY2tlciA9PSAnbW9udGgnXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGlzYWJsZWQtbWFza1wiICpuZ0lmPVwiYWxsTW9udGhzRGlzYWJsZWQoKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzbWFsbD57e2dldERpc2FibGVNYXNrTGFiZWwoKS5sYWJlbH19PC9zbWFsbD5cclxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj57e2dldERpc2FibGVNYXNrTGFiZWwoKS5yYW5nZX19PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJwaWNrZXItY29sLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGkgKm5nRm9yPVwibGV0IG1vbnRoIG9mIGNvbmZpZy5tb250aHM7bGV0IG0gPSBpbmRleFwiIGNsYXNzPVwie3tpc01vbnRoRGlzYWJsZWQobSkgPyAnZGlzYWJsZWQnIDogJyd9fVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIChjbGljayk9XCJzZXRNb250aChtKTtcIiBjbGFzcz1cInt7aXNDdXJyZW50KG0rMSArICcnLCdtb250aCcpID8gJ2FjdGl2ZScgOiAnJ319XCI+e3ttb250aH19PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGlja2VyXCIgKm5nSWY9XCJ2aWV3ID09ICd5ZWFyJyAgfHwgcGlja2VyID09ICd5ZWFyJ1wiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRpc2FibGVkLW1hc2tcIiAqbmdJZj1cImFsbFllYXJSYW5nZURpc2FibGVkKClcIj5cclxuICAgICAgICAgICAgICAgICAgICA8c21hbGw+e3tnZXREaXNhYmxlTWFza0xhYmVsKCkubGFiZWx9fTwvc21hbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+e3tnZXREaXNhYmxlTWFza0xhYmVsKCkucmFuZ2V9fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwicGlja2VyLWNvbC00XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpICpuZ0Zvcj1cImxldCB5ZWFyIG9mIGdldFllYXJzUmFuZ2UoKVwiIGNsYXNzPVwie3tpc1llYXJEaXNhYmxlZCh5ZWFyKSA/ICdkaXNhYmxlZCcgOiAnJ319XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ7e2lzQ3VycmVudCh5ZWFyLCd5ZWFyJykgPyAnYWN0aXZlJyA6ICcnfX1cIiAoY2xpY2spPVwic2V0WWVhcih5ZWFyKTtcIj57e3llYXJ9fTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci1mb290ZXJcIj5cclxuICAgICAgICAgICAgPGJ1dHRvbiAoY2xpY2spPVwiY2xvc2VEYXRlUGlja2VyKClcIj5DYW5jZWw8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvbiAoY2xpY2spPVwiYXBwbHkoKVwiPkFwcGx5PC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuPC9kaXY+Il19