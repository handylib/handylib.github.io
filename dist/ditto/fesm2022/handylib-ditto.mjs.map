{"version":3,"file":"handylib-ditto.mjs","sources":["../../../projects/ditto/src/lib/ditto/ditto.component.ts","../../../projects/ditto/src/lib/ditto/ditto.component.html","../../../projects/ditto/src/lib/ditto.directive.ts","../../../projects/ditto/src/handylib-ditto.ts"],"sourcesContent":["import { AfterViewInit, ChangeDetectorRef, Component, ElementRef, Input, OnInit, ViewChild } from '@angular/core';\r\nimport moment from 'moment';\r\n\r\n\r\n type DittoDateType = {\r\n  date: number,\r\n        formated: string,\r\n        disabled : boolean\r\n };\r\n\r\n@Component({\r\n  selector: 'ditto',\r\n  templateUrl: './ditto.component.html',\r\n  styleUrls: ['./ditto.component.css'],\r\n})\r\nexport class DittoComponent implements OnInit, AfterViewInit {\r\n\r\n  constructor(\r\n    private cdRef: ChangeDetectorRef\r\n  ) { }\r\n\r\n  \r\n  showErrors : boolean = false;\r\n  show: boolean = false;\r\n  @ViewChild(\"container\") container !: ElementRef;\r\n  @Input(\"element\") element !: ElementRef;\r\n  @Input(\"format\") format: string = \"YYYY-MM-DD HH:mm:ss\";\r\n\r\n\r\n  @Input('picker') picker : 'date' | 'time' | 'datetime' | 'duration' | 'month' | 'year' = 'date';\r\n  @Input('view') view : 'date' | 'time' | 'datetime' | 'duration' | 'month' | 'year' | 'hour' | 'minute' | 'hours' | 'minutes' | 'seconds' = 'date';\r\n  @Input('hours') hours : boolean = true;\r\n  @Input('minutes') minutes : boolean = true;\r\n  @Input('seconds') seconds : boolean = true;\r\n  @Input('disableBackDateTime') disableBackDateTime : boolean = false;\r\n  @Input('disableFutureDateTime') disableFutureDateTime : boolean = false;\r\n  @Input('backDateTime') backDateTime = moment().format('YYYY-MM-DD HH:mm:ss');\r\n  @Input('futureDateTime') futureDateTime = moment().format('YYYY-MM-DD HH:mm:ss');\r\n\r\n\r\n  duration : {\r\n    hours : number,\r\n    minutes : number,\r\n    seconds : number\r\n  } = {\r\n    hours : 0,\r\n    minutes : 0,\r\n    seconds : 0\r\n  };\r\n\r\n  config = {\r\n    timepicker: '', //hour , minute\r\n    position: {\r\n      x: 0,\r\n      y: 0\r\n    },\r\n    startYear: new Date().getFullYear(),\r\n    icons: {\r\n      left: \"ðŸ¡°\",\r\n      right: \"ðŸ¡²\",\r\n      up: \"ðŸ¡±\",\r\n      down: \"ðŸ¡³\"\r\n    },\r\n    weeks: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thirsday\", \"Friday\", \"Saturday\"],\r\n    months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\r\n  };\r\n\r\n  _value: string = \"\";\r\n\r\n  get value() {\r\n    return this._value;\r\n  }\r\n\r\n  set value(value: string) {\r\n    if (value !== \"\" && value !== null && typeof value !== \"undefined\" && this.format !== \"\") {\r\n      if (moment(value, this.format).isValid()) {\r\n        this._value = value;\r\n      } else {\r\n        console.log(\"Invalid date\");\r\n      }\r\n    }\r\n  }\r\n\r\n  onApply: any = (_v: string) => { }\r\n\r\n\r\n  trackBy(n: number) {\r\n    return n;\r\n  }\r\n\r\n  getPrefixDays() {\r\n    var date = moment(this.value, this.format).startOf('month');\r\n    var day = Number(date.format(\"d\"));\r\n    return new Array(day);\r\n  }\r\n\r\n  getDatesInMonthArray() {\r\n    var dates : DittoDateType[] = [];\r\n    var a = moment(this.value, this.format).startOf('month').format('YYYY-MM-DD');\r\n    var b = moment(this.value, this.format).endOf('month').format('YYYY-MM-DD');\r\n\r\n    for (var m = moment(a); m.diff(b, 'days') <= 0; m.add(1, 'days')) {\r\n      var date : DittoDateType = {\r\n        date: Number(m.format('D')),\r\n        formated: m.format(\"YYYY-MM-DD\"),\r\n        disabled : false\r\n      };\r\n      if(this.disableBackDateTime  == true){\r\n        if(moment(date.formated,'YYYY-MM-DD').isBefore(moment(this.backDateTime,this.format))){\r\n          date.disabled =true;\r\n        }\r\n      }\r\n\r\n      if(this.disableFutureDateTime  == true){\r\n        if(moment(date.formated,'YYYY-MM-DD').isAfter(moment(this.futureDateTime,this.format))){\r\n          date.disabled =true;\r\n        }\r\n      }\r\n    \r\n\r\n      dates.push(date);\r\n    }\r\n    return dates;\r\n  }\r\n\r\n  getDaysInMonth() {\r\n    return new Array(moment().daysInMonth());\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  getArrayOf(n: number) {\r\n    return new Array(n);\r\n  }\r\n\r\n  titleCase(str: string) {\r\n    return str.toLowerCase().replace(/\\b(\\w)/g, s => s.toUpperCase());\r\n  }\r\n\r\n  prefixZero(n: number) {\r\n    return ('0' + n).slice(-2);\r\n  }\r\n\r\n  limitChar(str: string, n: number) {\r\n    return str.substring(0, n);\r\n  }\r\n\r\n  setNextYearRange() {\r\n    this.config.startYear = this.config.startYear + 15;\r\n  }\r\n\r\n  setPrevYearRange() {\r\n    this.config.startYear = this.config.startYear - 15;\r\n  }\r\n\r\n\r\n  setNextMonth() {\r\n    this.value = moment(this.value, this.format).add(1, \"M\").format(this.format);\r\n  }\r\n\r\n  setPrevMonth() {\r\n    this.value = moment(this.value, this.format).add(-1, \"M\").format(this.format);\r\n  }\r\n\r\n  getYearsRange() {\r\n    var years = [];\r\n    var startYear = this.config.startYear - 7;\r\n    var endYear = this.config.startYear + 7;\r\n    for (var y = startYear; y <= endYear; y++) {\r\n      years.push(y);\r\n    }\r\n    return years;\r\n  }\r\n\r\n\r\n\r\n  setPosition() {\r\n    var inst = this;\r\n    var directiveRect = inst.element.nativeElement.getBoundingClientRect();\r\n    var containerRect = inst.container.nativeElement.getBoundingClientRect();\r\n\r\n\r\n    if (window.innerWidth <= 600 || window.innerHeight <= 600) {\r\n      inst.config.position.x = (window.innerWidth - containerRect.width) / 2;\r\n      inst.config.position.y = (window.innerHeight - containerRect.height) / 2;\r\n      inst.cdRef.detectChanges();\r\n      return {\r\n        container: containerRect,\r\n        directive: directiveRect\r\n      };\r\n    }\r\n\r\n\r\n    if (window.innerHeight <= directiveRect.height + containerRect.height + directiveRect.y) {\r\n\r\n      inst.config.position.x = (window.innerWidth - containerRect.width) / 2;\r\n      inst.config.position.y = (window.innerHeight - containerRect.height) / 2;\r\n\r\n    } else if (window.innerWidth <= directiveRect.width + containerRect.width + directiveRect.x) {\r\n      inst.config.position.y = directiveRect.y + directiveRect.height;\r\n      inst.config.position.x = ((directiveRect.x - containerRect.width) + directiveRect.width);\r\n    } else {\r\n      inst.config.position.x = directiveRect.x;\r\n      inst.config.position.y = directiveRect.y + directiveRect.height;\r\n    }\r\n\r\n    inst.cdRef.detectChanges();\r\n    return {\r\n      container: containerRect,\r\n      directive: directiveRect\r\n    };\r\n  }\r\n\r\n\r\n\r\n  getFormated(format: string) {\r\n    return moment(this.value, this.format).format(format);\r\n  }\r\n\r\n  isCurrent(value: any, mode: string) {\r\n\r\n    if (mode == \"hour\") {\r\n      if (value == moment(this.value, this.format).format(\"h\")) {\r\n        return true;\r\n      }\r\n    } else if (mode == \"minute\") {\r\n      if (value == moment(this.value, this.format).format(\"m\")) {\r\n        return true;\r\n      }\r\n    } else if (mode == \"ampm\") {\r\n      if (value.toLowerCase() == moment(this.value, this.format).format(\"A\").toLowerCase()) {\r\n        return true;\r\n      }\r\n    } else if (mode == \"date\") {\r\n      if (value == moment(this.value, this.format).format(\"YYYY-MM-DD\")) {\r\n        return true;\r\n      }\r\n    } else if (mode == \"month\") {\r\n      if (value.toString().toLowerCase() == moment(this.value, this.format).format(\"M\").toLowerCase()) {\r\n        return true;\r\n      }\r\n    } else if (mode == \"year\") {\r\n      if (value.toString().toLowerCase() == moment(this.value, this.format).format(\"YYYY\").toLowerCase()) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n\r\n  setAmPm(value: string) {\r\n    var date = moment(this.value, this.format).format(\"YYYY-MM-DD LT\");\r\n    date = date.replace(\"AM\", value).replace(\"PM\", value);\r\n    this.value = moment(date, \"YYYY-MM-DD LT\").format(this.format);\r\n  }\r\n\r\n\r\n  setDate(d : DittoDateType) {\r\n    if(!d.disabled){\r\n      this.value = moment(this.value, this.format).set(\"D\", d.date).format(this.format);\r\n\r\n      if(this.picker == 'datetime'){\r\n        this.view = 'hour';\r\n      }else{\r\n        this.view = 'date';\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  setMonth(m: number) {\r\n    if(!this.isMonthDisabled(m)){\r\n      this.value = moment(this.value, this.format).set(\"M\", m).format(this.format);\r\n      if(this.picker == 'datetime' || this.picker == 'date'){\r\n        this.view = 'date'\r\n      }else{\r\n        this.view = 'month';\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  setYear(y: number) {\r\n    if(!this.isYearDisabled(y)){\r\n      this.value = moment(this.value, this.format).set(\"year\", y).format(this.format);\r\n      if(this.picker == 'datetime' || this.picker == 'date'){\r\n        this.view = 'month'\r\n      }else{\r\n        this.view = 'year';\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  setHour(h: number) {\r\n    this.value = moment(this.value, this.format).set(\"h\", h).format(this.format);\r\n      if(this.picker == 'datetime' || this.picker == 'time'){\r\n        this.view = 'minute';\r\n      }\r\n  }\r\n\r\n  setMinute(value: number) {\r\n    this.value = moment(this.value, this.format).set(\"m\", value).format(this.format);\r\n    if (this.picker == \"time\") {\r\n      this.config.timepicker = \"\";\r\n    } else {\r\n      this.view = \"date\";\r\n    }\r\n  }\r\n\r\n\r\n  setDurationHours(value: number) {\r\n    this.duration.hours = value;\r\n\r\n    if(this.minutes){\r\n      this.view = 'minutes';\r\n    }else if(this.seconds){\r\n      this.view = 'seconds';\r\n    }\r\n  }\r\n\r\n  setDurationMinutes(value: number) {\r\n    this.duration.minutes = value;\r\n\r\n if(this.seconds){\r\n      this.view = 'seconds';\r\n    }\r\n\r\n  }\r\n\r\n\r\n  setDurationSeconds(value: number) {\r\n    this.duration.seconds = value ;\r\n  }\r\n\r\n  apply() {\r\n    if(this.picker == 'duration'){\r\n\r\n     var durations : string[] = [];\r\n\r\n      if(this.hours){\r\n        durations.push(this.padint(this.duration.hours));\r\n      }\r\n\r\n      if(this.minutes){\r\n        durations.push(this.padint(this.duration.minutes));\r\n      }\r\n\r\n      if(this.seconds){\r\n        durations.push(this.padint(this.duration.seconds));\r\n      }\r\n\r\n\r\n      this.onApply(durations.join(':'));\r\n    }else{\r\n\r\n      var m = moment(this.value,this.format);\r\n\r\n      if(this.isMomentDisabled(m)){\r\n        this.showErrors = true;\r\n        setTimeout(()=>{this.showErrors = false;},1500);\r\n        return;\r\n      }\r\n\r\n      this.onApply(this.value);\r\n    }\r\n    this.closeDatePicker();\r\n  }\r\n\r\n   padint(n : number, w : number = 2) {\r\n    let numberString = n.toString();\r\n    let padding = Math.max(0, w - numberString.length);\r\n    let paddedNumber = '0'.repeat(padding) + numberString;\r\n    return paddedNumber;\r\n}\r\n\r\n\r\ngetDisableMaskLabel() : {\r\n  label : string,\r\n  range : string\r\n}{\r\n  var mid = '';\r\n  if(this.picker == 'datetime'){\r\n    mid = 'date and time';\r\n  }else if(this.picker == 'date'){\r\n    mid = 'date';\r\n  }else if(this.picker == 'time'){\r\n    mid = 'time';\r\n  }else if(this.picker == 'month'){\r\n    mid = 'month';\r\n  }else if(this.picker == 'year'){\r\n    mid = 'year';\r\n  }\r\n\r\n  if(this.disableBackDateTime && this.disableFutureDateTime){\r\n    return {\r\n      label : \"Please select \"+mid+\" between \",\r\n      range : `${moment(this.backDateTime,this.format).format(this.format)} - ${moment(this.futureDateTime,this.format).format(this.format)}`\r\n    };\r\n  }\r\n\r\n  if(this.disableBackDateTime){\r\n    return {\r\n      label : \"Please select a \"+mid+\" after \",\r\n      range : `${moment(this.backDateTime,this.format).format(this.format)}`\r\n    };\r\n  }\r\n\r\n  if(this.disableFutureDateTime){\r\n    return {\r\n      label : \"Please select a \"+mid+\" before \",\r\n      range : `${moment(this.futureDateTime,this.format).format(this.format)}`\r\n    };\r\n  }\r\n\r\n  return {\r\n    label : \"\",\r\n    range : \"\"\r\n  };\r\n}\r\n\r\n\r\n\r\n  isMonthDisabled(m:number) : boolean {\r\n      var date = moment(this.value, this.format).set(\"M\", m);\r\n      return this.isMomentDisabled(date);\r\n  }\r\n\r\n\r\n  allYearRangeDisabled(){\r\n    if(!this.disableBackDateTime && !this.disableFutureDateTime){\r\n        return false;\r\n    }\r\n    for(var year of this.getYearsRange()){\r\n      if(!this.isYearDisabled(year)){\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n\r\n  allMonthsDisabled(){\r\n    if(!this.disableBackDateTime && !this.disableFutureDateTime){\r\n      return false;\r\n  }\r\n  var m = 0;\r\n  for(var month of this.config.months){\r\n    if(!this.isMonthDisabled(m)){\r\n      return false;\r\n    }\r\n    m++;\r\n  }\r\n  return true;\r\n  }\r\n\r\n  isYearDisabled(y:number) : boolean{\r\n    var date = moment(this.value, this.format).set(\"year\", y);\r\n    return this.isMomentDisabled(date,'year');\r\n  }\r\n\r\n\r\n  isMomentDisabled(m : moment.Moment, mode : 'year' | 'month' | 'hour' | 'none' = 'none') : boolean{\r\n    if(this.disableBackDateTime){\r\n\r\n      if(mode == 'year'){\r\n        if(Number(m.format('YYYY')) < Number(moment(this.backDateTime,this.format).format('YYYY'))){\r\n          return true;\r\n        }\r\n      }else  if(m.isBefore(moment(this.backDateTime,this.format))){\r\n        return true;\r\n      }\r\n    }\r\n\r\n    if(this.disableFutureDateTime){\r\n\r\n      if(mode == 'year'){\r\n        if(Number(m.format('YYYY')) > Number(moment(this.futureDateTime,this.format).format('YYYY'))){\r\n          return true;\r\n        }\r\n      }else if(m.isAfter(moment(this.futureDateTime,this.format))){\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n\r\n  openDatePicker(event: any) {\r\n    document.body.style.overflow = \"hidden\";\r\n    var inst = this;\r\n    inst.show = true;\r\n    if (inst._value == \"\") {\r\n      inst._value = moment().format(inst.format);\r\n    }\r\n    var interval = setInterval(function () {\r\n      var rects = inst.setPosition();\r\n      if (rects.container.height > 0) {\r\n        clearInterval(interval);\r\n      }\r\n    });\r\n    inst.cdRef.detectChanges();\r\n  }\r\n\r\n\r\n  closeDatePicker() {\r\n    var inst = this;\r\n    inst.show = false;\r\n    document.body.style.overflow = \"auto\";\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    var inst = this;\r\n    inst.element.nativeElement.onfocus = inst.openDatePicker.bind(this);\r\n    inst.element.nativeElement.onclick = inst.openDatePicker.bind(this);\r\n    inst.setPosition();\r\n\r\n    if (typeof window !== \"undefined\") {\r\n      window.onscroll = function () {\r\n        inst.setPosition();\r\n        inst.cdRef.detectChanges();\r\n      };\r\n\r\n      window.onresize = function () {\r\n        inst.setPosition();\r\n        inst.cdRef.detectChanges();\r\n      };\r\n\r\n    }\r\n\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    var inst = this;\r\n  }\r\n}\r\n","<div class=\"datepicker-overlay\" (click)=\"closeDatePicker()\" *ngIf=\"show\"></div>\r\n<div #container class=\"datepicker-fixed\" [style.top.px]=\"config.position.y\" [style.left.px]=\"config.position.x\" (click)=\"setPosition()\">\r\n    <div class=\"datepicker-container\" *ngIf=\"show\">\r\n\r\n        <div class=\"disabled-mask {{showErrors ? 'show' : ''}}\">\r\n            <button (click)=\"showErrors = false\">&times;</button>\r\n            <small>{{getDisableMaskLabel().label}}</small>\r\n            <span>{{getDisableMaskLabel().range}}</span>\r\n        </div>\r\n\r\n        <div class=\"datepicker-header\">\r\n            <div class=\"datepicker-header-label\">\r\n                <div class=\"datepicker-header-label-date\" *ngIf=\"picker == 'date' || picker == 'datetime'\">\r\n                    <button (click)=\"view='year'\" class=\"{{view == 'year' ? 'active' : ''}}\" *ngIf=\"picker == 'datetime'\">{{getFormated('YYYY')}}</button>\r\n                    <div>\r\n                        <button (click)=\"view='month'\" class=\"{{view == 'month' ? 'active' : ''}}\">{{getFormated('MMM')}}</button>\r\n                        <button (click)=\"view='date'\" class=\"{{view == 'date' ? 'active' : ''}}\">{{getFormated('DD')}} <span *ngIf=\"picker == 'date'\">, </span></button>\r\n                        <button (click)=\"view='year'\" class=\"{{view == 'year' ? 'active' : ''}}\" *ngIf=\"picker == 'date'\">{{getFormated('YYYY')}}</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"datepicker-header-label-date\" *ngIf=\"picker == 'month'\">\r\n                    <button class=\"active\">{{getFormated('MMMM')}}</button>\r\n                </div>\r\n                <div class=\"datepicker-header-label-date\" *ngIf=\"picker == 'year'\">\r\n                    <button class=\"active\">{{getFormated('YYYY')}}</button>\r\n                </div>\r\n                <div class=\"datepicker-header-label-time\" *ngIf=\"picker == 'time' || picker == 'datetime'\" [style.paddingTop.px]=\"picker == 'datetime' ? 29 : 0\">\r\n                    <button (click)=\"view = 'time';view='hour'\" class=\"{{view == 'hour' ? 'active' : ''}}\">{{getFormated('hh')}}</button>\r\n                    <span>:</span>\r\n                    <button (click)=\"view = 'time';view='minute'\" class=\"{{view == 'minute'? 'active' : ''}}\">{{getFormated('mm')}}</button>\r\n                    <div>\r\n                        <button class=\"{{isCurrent('am','ampm') ? 'active' : ''}}\" (click)=\"setAmPm('AM')\">AM</button>\r\n                        <button class=\"{{isCurrent('pm','ampm') ? 'active' : ''}}\" (click)=\"setAmPm('PM')\">PM</button>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <div class=\"datepicker-header-label-time\" *ngIf=\"picker == 'duration'\" [style.paddingTop.px]=\"29\">\r\n                    <button *ngIf=\"hours\" (click)=\"view = 'duration';view='hours'\" class=\"{{view == 'hours' ? 'active' : ''}}\">\r\n                        <span>H</span>\r\n                        {{duration.hours}}\r\n                    </button>\r\n                    <span *ngIf=\"hours && minutes\">:</span>\r\n                    <button *ngIf=\"minutes\" (click)=\"view = 'duration';view='minutes'\" class=\"{{view == 'minutes'? 'active' : ''}}\">\r\n                        <span>M</span>\r\n                        {{duration.minutes}}</button>\r\n                    <span *ngIf=\"minutes && seconds\">:</span>\r\n                    <button *ngIf=\"seconds\" (click)=\"view = 'duration';view='seconds'\" class=\"{{view == 'seconds'? 'active' : ''}}\">\r\n                        <span>S</span>\r\n                        {{duration.seconds}}\r\n                    </button>\r\n                </div>\r\n              \r\n            </div>\r\n           \r\n            <div class=\"datepicker-header-action\" *ngIf=\"(picker == 'date' || picker == 'datetime') && view == 'date'\">\r\n                <button (click)=\"setPrevMonth()\"><i class=\"fa fa-arrow-left\"></i></button>\r\n                <div>{{getFormated('MMMM DD')}}</div>\r\n                <button (click)=\"setNextMonth()\"><i class=\"fa fa-arrow-right\"></i></button>\r\n            </div>\r\n            <div class=\"datepicker-header-action\" *ngIf=\"(picker == 'date' || picker == 'datetime' || picker == 'year') && view == 'year'\">\r\n                <button (click)=\"setPrevYearRange()\"><i class=\"fa fa-arrow-left\"></i></button>\r\n                <div>{{config.startYear - 8}} - {{config.startYear + 7}}</div>\r\n                <button (click)=\"setNextYearRange()\"><i class=\"fa fa-arrow-right\"></i></button>\r\n            </div>\r\n        </div>\r\n        <div class=\"datepicker-body\">\r\n            <div class=\"datepicker-datepicker\" *ngIf=\"view == 'date' && (picker == 'date' || picker == 'datetime')\">\r\n                <ul class=\"datepicker-weeks\">\r\n                    <li *ngFor=\"let week of config.weeks\">\r\n                        <span>{{limitChar(week,3)}}</span>\r\n                    </li>\r\n                </ul>\r\n                \r\n                <ul class=\"datepicker-dates\">\r\n                    <li *ngFor=\"let d of getPrefixDays()\">\r\n                        <span></span>\r\n                    </li>\r\n                    <li *ngFor=\"let d of getDatesInMonthArray();trackBy:trackBy\" class=\"{{isCurrent(d.formated,'date') ? 'active' : ''}} {{d.disabled ? 'disabled' : ''}}\" (click)=\"setDate(d);\">\r\n                        <span>{{d.date}}</span>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"picker\" *ngIf=\"picker == 'time' || picker == 'datetime'\">\r\n                <span *ngIf=\"view == 'hour'\">Select Hour</span>\r\n                <ul class=\"picker-col-3\" *ngIf=\"view == 'hour'\">\r\n                    <li *ngFor=\"let n of getArrayOf(12);let h = index\">\r\n                        <button class=\"{{isCurrent(h+1,'hour') ? 'active' : ''}}\" (click)=\"setHour(h+1);\">{{h+1}}</button>\r\n                    </li>\r\n                </ul>\r\n                <span *ngIf=\"view == 'minute'\">Select minute</span>\r\n                <ul class=\"picker-col-6\" *ngIf=\"view == 'minute'\">\r\n                    <li *ngFor=\"let n of getArrayOf(60);let m = index\" class=\"{{isMonthDisabled(m) ? 'disabled' : ''}}\">\r\n                        <button class=\"{{isCurrent(m,'minute') ? 'active' : ''}}\" (click)=\"setMinute(m)\">{{m}}</button>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n\r\n            <div class=\"picker\" *ngIf=\"picker == 'duration'\">\r\n                <span *ngIf=\"view == 'hours'\">Select Hours</span>\r\n                <ul class=\"picker-col-6\" *ngIf=\"view == 'hours'\">\r\n                    <li *ngFor=\"let n of getArrayOf(25);let h = index\">\r\n                        <button class=\"{{h == duration.hours ? 'active' : ''}}\" (click)=\"setDurationHours(h)\">{{h}}</button>\r\n                    </li>\r\n                </ul>\r\n                <span *ngIf=\"view == 'minutes'\">Select Minutes</span>\r\n                <ul class=\"picker-col-6\" *ngIf=\"view == 'minutes'\">\r\n                    <li *ngFor=\"let n of getArrayOf(60);let m = index\">\r\n                        <button class=\"{{m == duration.minutes ? 'active' : ''}}\" (click)=\"setDurationMinutes(m)\">{{m}}</button>\r\n                    </li>\r\n                </ul>\r\n                <span *ngIf=\"view == 'seconds'\">Select Seconds</span>\r\n                <ul class=\"picker-col-6\" *ngIf=\"view == 'seconds'\">\r\n                    <li *ngFor=\"let n of getArrayOf(60);let s = index\">\r\n                        <button class=\"{{s == duration.seconds ? 'active' : ''}}\" (click)=\"setDurationSeconds(s)\">{{s}}</button>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n\r\n            <div class=\"picker\" *ngIf=\"view == 'month' || picker == 'month'\">\r\n                <div class=\"disabled-mask\" *ngIf=\"allMonthsDisabled()\">\r\n                    <small>{{getDisableMaskLabel().label}}</small>\r\n                    <span>{{getDisableMaskLabel().range}}</span>\r\n                </div>\r\n                <ul class=\"picker-col-2\">\r\n                    <li *ngFor=\"let month of config.months;let m = index\" class=\"{{isMonthDisabled(m) ? 'disabled' : ''}}\">\r\n                        <button (click)=\"setMonth(m);\" class=\"{{isCurrent(m+1 + '','month') ? 'active' : ''}}\">{{month}}</button>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"picker\" *ngIf=\"view == 'year'  || picker == 'year'\">\r\n                <div class=\"disabled-mask\" *ngIf=\"allYearRangeDisabled()\">\r\n                    <small>{{getDisableMaskLabel().label}}</small>\r\n                    <span>{{getDisableMaskLabel().range}}</span>\r\n                </div>\r\n                <ul class=\"picker-col-4\">\r\n                    <li *ngFor=\"let year of getYearsRange()\" class=\"{{isYearDisabled(year) ? 'disabled' : ''}}\">\r\n                        <button class=\"{{isCurrent(year,'year') ? 'active' : ''}}\" (click)=\"setYear(year);\">{{year}}</button>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n        <div class=\"datepicker-footer\">\r\n            <button (click)=\"closeDatePicker()\">Cancel</button>\r\n            <button (click)=\"apply()\">Apply</button>\r\n        </div>\r\n    </div>\r\n</div>","import { AfterViewInit, ComponentRef, Directive, ElementRef, forwardRef, Input, OnChanges, OnDestroy, OnInit, SimpleChanges, ViewContainerRef } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { DittoComponent } from './ditto/ditto.component';\r\nimport moment from 'moment';\r\n\r\n@Directive({\r\n  selector: '[ditto]',\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => DittoDirective),\r\n      multi: true\r\n    }]\r\n})\r\nexport class DittoDirective implements ControlValueAccessor, OnInit, AfterViewInit, OnDestroy, OnChanges {\r\n\r\n  constructor(\r\n    private cRef: ViewContainerRef,\r\n    private eRef: ElementRef,\r\n  ) { }\r\n\r\n\r\n  @Input(\"format\") format: string = \"\";\r\n  @Input('picker') picker : 'date' | 'time' | 'datetime' | 'duration' | 'month' | 'year' = 'date';\r\n  @Input('hours') hours : boolean = true;\r\n  @Input('minutes') minutes : boolean = true;\r\n  @Input('seconds') seconds : boolean = true;\r\n  @Input('backDateTime') backDateTime = moment().format('YYYY-MM-DD HH:mm:ss');\r\n  @Input('futureDateTime') futureDateTime = moment().format('YYYY-MM-DD HH:mm:ss');\r\n  @Input('disableBackDateTime') disableBackDateTime : boolean = false;\r\n  @Input('disableFutureDateTime') disableFutureDateTime : boolean = false;\r\n\r\n  component!: ComponentRef<DittoComponent>;\r\n  initiated: boolean = false;\r\n\r\n  ngOnDestroy(): void {\r\n\r\n  }\r\n\r\n  setView(){\r\n    if(this.initiated){\r\n    \r\n\r\n      if(this.picker == 'date' || this.picker == 'datetime'){\r\n        this.component.instance.view = 'year';\r\n      }else if(this.picker == 'time'){\r\n        this.component.instance.view = 'hour';\r\n      }\r\n\r\n\r\n      if(this.picker == 'duration'){\r\n        if(this.hours){\r\n          this.component.instance.view = 'hours';\r\n        }else   if(this.minutes){\r\n          this.component.instance.view = 'minutes';\r\n        }else   if(this.seconds){\r\n          this.component.instance.view = 'seconds';\r\n        }\r\n      }\r\n\r\n\r\n      if(this.picker == 'year'){\r\n        this.component.instance.view = 'year';\r\n      }\r\n\r\n\r\n      if(this.picker == 'month'){\r\n        this.component.instance.view = 'month';\r\n      }\r\n\r\n   \r\n\r\n      this.component.instance.disableBackDateTime = this.disableBackDateTime;\r\n      this.component.instance.disableFutureDateTime = this.disableFutureDateTime;\r\n      this.component.instance.backDateTime = this.backDateTime;\r\n      this.component.instance.futureDateTime  = this.futureDateTime;\r\n\r\n\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if(this.initiated){\r\n      this.component.instance.hours = this.hours;\r\n      this.component.instance.minutes = this.minutes;\r\n      this.component.instance.seconds = this.seconds;\r\n      this.setView();\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n\r\n    if(this.format == \"\"){\r\n      if(this.picker == 'datetime'){\r\n        this.format = 'YYYY-MM-DD HH:mm:ss';\r\n      }else if(this.picker == 'date'){\r\n        this.format = 'YYYY-MM-DD';\r\n      }else if(this.picker == 'time'){\r\n        this.format = 'HH:mm:ss';\r\n      }else if(this.picker == 'month'){\r\n        this.format = 'MMMM';\r\n      }else if(this.picker == 'year'){\r\n        this.format = 'YYYY';\r\n      }else if(this.picker == 'duration'){\r\n        this.format = '';\r\n      }\r\n    }\r\n\r\n \r\n    this.cRef.clear();\r\n    this.component = this.cRef.createComponent(DittoComponent);\r\n    this.initiated = true;\r\n\r\n   \r\n\r\n    this.component.instance.value = this.value;\r\n    this.component.instance.element = this.eRef;\r\n    this.component.instance.format = this.format;\r\n    this.component.instance.picker = this.picker;\r\n    this.component.instance.hours = this.hours;\r\n    this.component.instance.minutes = this.minutes;\r\n    this.component.instance.seconds = this.seconds;\r\n\r\n    this.setView();\r\n\r\n\r\n    this.component.instance.onApply =  (value: string)=>{\r\n      this.value = value;\r\n      this.component.changeDetectorRef.detectChanges();\r\n    }\r\n    this.component.changeDetectorRef.detectChanges();\r\n  }\r\n\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n\r\n  _value: string = \"\";\r\n\r\n  get value() {\r\n    return this._value;\r\n  }\r\n\r\n  set value(value: string) {\r\n    if (typeof value !== \"undefined\" && value !== null) {\r\n      this._value = value;\r\n      this.onChange(this.value);\r\n      this.onTouched(this.value);\r\n      this.eRef.nativeElement.value = value;\r\n    }\r\n  }\r\n\r\n\r\n  onChange = (_: any) => { };\r\n  onTouched = (_: any) => { };\r\n\r\n  writeValue(value: any): void {\r\n    if (value !== null) {\r\n      this.value = value;\r\n      if (this.initiated == true) {\r\n        this.component.instance.value = value;\r\n        if(this.picker == 'year' || this.picker == 'datetime' || this.picker == 'date'){\r\n          this.component.instance.config.startYear = Number(moment(this._value,this.format).format('YYYY'));\r\n        }\r\n        this.component.changeDetectorRef.detectChanges();\r\n      }\r\n    }\r\n  }\r\n  registerOnChange(fn: any): void {\r\n    this.onChange = fn;\r\n  }\r\n  registerOnTouched(fn: any): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n\r\n\r\n}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":";;;;;MAea,cAAc,CAAA;AAGf,IAAA,KAAA,CAAA;AADV,IAAA,WAAA,CACU,KAAwB,EAAA;QAAxB,IAAK,CAAA,KAAA,GAAL,KAAK,CAAmB;KAC7B;IAGL,UAAU,GAAa,KAAK,CAAC;IAC7B,IAAI,GAAY,KAAK,CAAC;AACE,IAAA,SAAS,CAAe;AAC9B,IAAA,OAAO,CAAe;IACvB,MAAM,GAAW,qBAAqB,CAAC;IAGvC,MAAM,GAAkE,MAAM,CAAC;IACjF,IAAI,GAAwH,MAAM,CAAC;IAClI,KAAK,GAAa,IAAI,CAAC;IACrB,OAAO,GAAa,IAAI,CAAC;IACzB,OAAO,GAAa,IAAI,CAAC;IACb,mBAAmB,GAAa,KAAK,CAAC;IACpC,qBAAqB,GAAa,KAAK,CAAC;IACjD,YAAY,GAAG,MAAM,EAAE,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC;IACpD,cAAc,GAAG,MAAM,EAAE,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC;AAGjF,IAAA,QAAQ,GAIJ;AACF,QAAA,KAAK,EAAG,CAAC;AACT,QAAA,OAAO,EAAG,CAAC;AACX,QAAA,OAAO,EAAG,CAAC;KACZ,CAAC;AAEF,IAAA,MAAM,GAAG;QACP,UAAU,EAAE,EAAE;AACd,QAAA,QAAQ,EAAE;AACR,YAAA,CAAC,EAAE,CAAC;AACJ,YAAA,CAAC,EAAE,CAAC;AACL,SAAA;AACD,QAAA,SAAS,EAAE,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE;AACnC,QAAA,KAAK,EAAE;AACL,YAAA,IAAI,EAAE,IAAI;AACV,YAAA,KAAK,EAAE,IAAI;AACX,YAAA,EAAE,EAAE,IAAI;AACR,YAAA,IAAI,EAAE,IAAI;AACX,SAAA;AACD,QAAA,KAAK,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ,EAAE,UAAU,CAAC;QACrF,MAAM,EAAE,CAAC,SAAS,EAAE,UAAU,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,UAAU,EAAE,UAAU,CAAC;KACnI,CAAC;IAEF,MAAM,GAAW,EAAE,CAAC;AAEpB,IAAA,IAAI,KAAK,GAAA;QACP,OAAO,IAAI,CAAC,MAAM,CAAC;KACpB;IAED,IAAI,KAAK,CAAC,KAAa,EAAA;AACrB,QAAA,IAAI,KAAK,KAAK,EAAE,IAAI,KAAK,KAAK,IAAI,IAAI,OAAO,KAAK,KAAK,WAAW,IAAI,IAAI,CAAC,MAAM,KAAK,EAAE,EAAE;AACxF,YAAA,IAAI,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,EAAE;AACxC,gBAAA,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;aACrB;iBAAM;AACL,gBAAA,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;aAC7B;SACF;KACF;AAED,IAAA,OAAO,GAAQ,CAAC,EAAU,KAAI,GAAI,CAAA;AAGlC,IAAA,OAAO,CAAC,CAAS,EAAA;AACf,QAAA,OAAO,CAAC,CAAC;KACV;IAED,aAAa,GAAA;AACX,QAAA,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAC5D,IAAI,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;AACnC,QAAA,OAAO,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC;KACvB;IAED,oBAAoB,GAAA;QAClB,IAAI,KAAK,GAAqB,EAAE,CAAC;QACjC,IAAI,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;QAC9E,IAAI,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;AAE5E,QAAA,KAAK,IAAI,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,EAAE;AAChE,YAAA,IAAI,IAAI,GAAmB;gBACzB,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AAC3B,gBAAA,QAAQ,EAAE,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC;AAChC,gBAAA,QAAQ,EAAG,KAAK;aACjB,CAAC;AACF,YAAA,IAAG,IAAI,CAAC,mBAAmB,IAAK,IAAI,EAAC;gBACnC,IAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,EAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAC;AACpF,oBAAA,IAAI,CAAC,QAAQ,GAAE,IAAI,CAAC;iBACrB;aACF;AAED,YAAA,IAAG,IAAI,CAAC,qBAAqB,IAAK,IAAI,EAAC;gBACrC,IAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAC,YAAY,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,EAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAC;AACrF,oBAAA,IAAI,CAAC,QAAQ,GAAE,IAAI,CAAC;iBACrB;aACF;AAGD,YAAA,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAClB;AACD,QAAA,OAAO,KAAK,CAAC;KACd;IAED,cAAc,GAAA;QACZ,OAAO,IAAI,KAAK,CAAC,MAAM,EAAE,CAAC,WAAW,EAAE,CAAC,CAAC;KAC1C;AAMD,IAAA,UAAU,CAAC,CAAS,EAAA;AAClB,QAAA,OAAO,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC;KACrB;AAED,IAAA,SAAS,CAAC,GAAW,EAAA;AACnB,QAAA,OAAO,GAAG,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;KACnE;AAED,IAAA,UAAU,CAAC,CAAS,EAAA;QAClB,OAAO,CAAC,GAAG,GAAG,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;KAC5B;IAED,SAAS,CAAC,GAAW,EAAE,CAAS,EAAA;QAC9B,OAAO,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;KAC5B;IAED,gBAAgB,GAAA;AACd,QAAA,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,EAAE,CAAC;KACpD;IAED,gBAAgB,GAAA;AACd,QAAA,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,EAAE,CAAC;KACpD;IAGD,YAAY,GAAA;QACV,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC9E;IAED,YAAY,GAAA;AACV,QAAA,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC/E;IAED,aAAa,GAAA;QACX,IAAI,KAAK,GAAG,EAAE,CAAC;QACf,IAAI,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,CAAC,CAAC;QAC1C,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,CAAC,CAAC;AACxC,QAAA,KAAK,IAAI,CAAC,GAAG,SAAS,EAAE,CAAC,IAAI,OAAO,EAAE,CAAC,EAAE,EAAE;AACzC,YAAA,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;SACf;AACD,QAAA,OAAO,KAAK,CAAC;KACd;IAID,WAAW,GAAA;QACT,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,IAAI,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;QACvE,IAAI,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;AAGzE,QAAA,IAAI,MAAM,CAAC,UAAU,IAAI,GAAG,IAAI,MAAM,CAAC,WAAW,IAAI,GAAG,EAAE;AACzD,YAAA,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,UAAU,GAAG,aAAa,CAAC,KAAK,IAAI,CAAC,CAAC;AACvE,YAAA,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,WAAW,GAAG,aAAa,CAAC,MAAM,IAAI,CAAC,CAAC;AACzE,YAAA,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;YAC3B,OAAO;AACL,gBAAA,SAAS,EAAE,aAAa;AACxB,gBAAA,SAAS,EAAE,aAAa;aACzB,CAAC;SACH;AAGD,QAAA,IAAI,MAAM,CAAC,WAAW,IAAI,aAAa,CAAC,MAAM,GAAG,aAAa,CAAC,MAAM,GAAG,aAAa,CAAC,CAAC,EAAE;AAEvF,YAAA,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,UAAU,GAAG,aAAa,CAAC,KAAK,IAAI,CAAC,CAAC;AACvE,YAAA,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,WAAW,GAAG,aAAa,CAAC,MAAM,IAAI,CAAC,CAAC;SAE1E;AAAM,aAAA,IAAI,MAAM,CAAC,UAAU,IAAI,aAAa,CAAC,KAAK,GAAG,aAAa,CAAC,KAAK,GAAG,aAAa,CAAC,CAAC,EAAE;AAC3F,YAAA,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,aAAa,CAAC,CAAC,GAAG,aAAa,CAAC,MAAM,CAAC;YAChE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,GAAG,aAAa,CAAC,KAAK,IAAI,aAAa,CAAC,KAAK,CAAC,CAAC;SAC1F;aAAM;YACL,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,aAAa,CAAC,CAAC,CAAC;AACzC,YAAA,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,aAAa,CAAC,CAAC,GAAG,aAAa,CAAC,MAAM,CAAC;SACjE;AAED,QAAA,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;QAC3B,OAAO;AACL,YAAA,SAAS,EAAE,aAAa;AACxB,YAAA,SAAS,EAAE,aAAa;SACzB,CAAC;KACH;AAID,IAAA,WAAW,CAAC,MAAc,EAAA;AACxB,QAAA,OAAO,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;KACvD;IAED,SAAS,CAAC,KAAU,EAAE,IAAY,EAAA;AAEhC,QAAA,IAAI,IAAI,IAAI,MAAM,EAAE;AAClB,YAAA,IAAI,KAAK,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE;AACxD,gBAAA,OAAO,IAAI,CAAC;aACb;SACF;AAAM,aAAA,IAAI,IAAI,IAAI,QAAQ,EAAE;AAC3B,YAAA,IAAI,KAAK,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE;AACxD,gBAAA,OAAO,IAAI,CAAC;aACb;SACF;AAAM,aAAA,IAAI,IAAI,IAAI,MAAM,EAAE;YACzB,IAAI,KAAK,CAAC,WAAW,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,EAAE;AACpF,gBAAA,OAAO,IAAI,CAAC;aACb;SACF;AAAM,aAAA,IAAI,IAAI,IAAI,MAAM,EAAE;AACzB,YAAA,IAAI,KAAK,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,EAAE;AACjE,gBAAA,OAAO,IAAI,CAAC;aACb;SACF;AAAM,aAAA,IAAI,IAAI,IAAI,OAAO,EAAE;YAC1B,IAAI,KAAK,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,EAAE;AAC/F,gBAAA,OAAO,IAAI,CAAC;aACb;SACF;AAAM,aAAA,IAAI,IAAI,IAAI,MAAM,EAAE;YACzB,IAAI,KAAK,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,WAAW,EAAE,EAAE;AAClG,gBAAA,OAAO,IAAI,CAAC;aACb;SACF;AAED,QAAA,OAAO,KAAK,CAAC;KACd;AAGD,IAAA,OAAO,CAAC,KAAa,EAAA;AACnB,QAAA,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;AACnE,QAAA,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;AACtD,QAAA,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,EAAE,eAAe,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAChE;AAGD,IAAA,OAAO,CAAC,CAAiB,EAAA;AACvB,QAAA,IAAG,CAAC,CAAC,CAAC,QAAQ,EAAC;AACb,YAAA,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAElF,YAAA,IAAG,IAAI,CAAC,MAAM,IAAI,UAAU,EAAC;AAC3B,gBAAA,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC;aACpB;iBAAI;AACH,gBAAA,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC;aACpB;SACF;KAEF;AAED,IAAA,QAAQ,CAAC,CAAS,EAAA;QAChB,IAAG,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,EAAC;YAC1B,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAC7E,YAAA,IAAG,IAAI,CAAC,MAAM,IAAI,UAAU,IAAI,IAAI,CAAC,MAAM,IAAI,MAAM,EAAC;AACpD,gBAAA,IAAI,CAAC,IAAI,GAAG,MAAM,CAAA;aACnB;iBAAI;AACH,gBAAA,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC;aACrB;SACF;KAEF;AAED,IAAA,OAAO,CAAC,CAAS,EAAA;QACf,IAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,EAAC;YACzB,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAChF,YAAA,IAAG,IAAI,CAAC,MAAM,IAAI,UAAU,IAAI,IAAI,CAAC,MAAM,IAAI,MAAM,EAAC;AACpD,gBAAA,IAAI,CAAC,IAAI,GAAG,OAAO,CAAA;aACpB;iBAAI;AACH,gBAAA,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC;aACpB;SACF;KAEF;AAED,IAAA,OAAO,CAAC,CAAS,EAAA;QACf,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAC3E,QAAA,IAAG,IAAI,CAAC,MAAM,IAAI,UAAU,IAAI,IAAI,CAAC,MAAM,IAAI,MAAM,EAAC;AACpD,YAAA,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC;SACtB;KACJ;AAED,IAAA,SAAS,CAAC,KAAa,EAAA;QACrB,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACjF,QAAA,IAAI,IAAI,CAAC,MAAM,IAAI,MAAM,EAAE;AACzB,YAAA,IAAI,CAAC,MAAM,CAAC,UAAU,GAAG,EAAE,CAAC;SAC7B;aAAM;AACL,YAAA,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC;SACpB;KACF;AAGD,IAAA,gBAAgB,CAAC,KAAa,EAAA;AAC5B,QAAA,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;AAE5B,QAAA,IAAG,IAAI,CAAC,OAAO,EAAC;AACd,YAAA,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC;SACvB;AAAK,aAAA,IAAG,IAAI,CAAC,OAAO,EAAC;AACpB,YAAA,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC;SACvB;KACF;AAED,IAAA,kBAAkB,CAAC,KAAa,EAAA;AAC9B,QAAA,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,KAAK,CAAC;AAEjC,QAAA,IAAG,IAAI,CAAC,OAAO,EAAC;AACX,YAAA,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC;SACvB;KAEF;AAGD,IAAA,kBAAkB,CAAC,KAAa,EAAA;AAC9B,QAAA,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,KAAK,CAAE;KAChC;IAED,KAAK,GAAA;AACH,QAAA,IAAG,IAAI,CAAC,MAAM,IAAI,UAAU,EAAC;YAE5B,IAAI,SAAS,GAAc,EAAE,CAAC;AAE7B,YAAA,IAAG,IAAI,CAAC,KAAK,EAAC;AACZ,gBAAA,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;aAClD;AAED,YAAA,IAAG,IAAI,CAAC,OAAO,EAAC;AACd,gBAAA,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;aACpD;AAED,YAAA,IAAG,IAAI,CAAC,OAAO,EAAC;AACd,gBAAA,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;aACpD;YAGD,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;SACnC;aAAI;AAEH,YAAA,IAAI,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,EAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAEvC,YAAA,IAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,EAAC;AAC1B,gBAAA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;AACvB,gBAAA,UAAU,CAAC,MAAI,EAAC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,EAAC,EAAC,IAAI,CAAC,CAAC;gBAChD,OAAO;aACR;AAED,YAAA,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC1B;QACD,IAAI,CAAC,eAAe,EAAE,CAAC;KACxB;AAEA,IAAA,MAAM,CAAC,CAAU,EAAE,CAAA,GAAa,CAAC,EAAA;AAChC,QAAA,IAAI,YAAY,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC;AAChC,QAAA,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC;QACnD,IAAI,YAAY,GAAG,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,YAAY,CAAC;AACtD,QAAA,OAAO,YAAY,CAAC;KACvB;IAGD,mBAAmB,GAAA;QAIjB,IAAI,GAAG,GAAG,EAAE,CAAC;AACb,QAAA,IAAG,IAAI,CAAC,MAAM,IAAI,UAAU,EAAC;YAC3B,GAAG,GAAG,eAAe,CAAC;SACvB;AAAK,aAAA,IAAG,IAAI,CAAC,MAAM,IAAI,MAAM,EAAC;YAC7B,GAAG,GAAG,MAAM,CAAC;SACd;AAAK,aAAA,IAAG,IAAI,CAAC,MAAM,IAAI,MAAM,EAAC;YAC7B,GAAG,GAAG,MAAM,CAAC;SACd;AAAK,aAAA,IAAG,IAAI,CAAC,MAAM,IAAI,OAAO,EAAC;YAC9B,GAAG,GAAG,OAAO,CAAC;SACf;AAAK,aAAA,IAAG,IAAI,CAAC,MAAM,IAAI,MAAM,EAAC;YAC7B,GAAG,GAAG,MAAM,CAAC;SACd;QAED,IAAG,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,qBAAqB,EAAC;YACxD,OAAO;AACL,gBAAA,KAAK,EAAG,gBAAgB,GAAC,GAAG,GAAC,WAAW;AACxC,gBAAA,KAAK,EAAG,CAAG,EAAA,MAAM,CAAC,IAAI,CAAC,YAAY,EAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA,GAAA,EAAM,MAAM,CAAC,IAAI,CAAC,cAAc,EAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAE,CAAA;aACxI,CAAC;SACH;AAED,QAAA,IAAG,IAAI,CAAC,mBAAmB,EAAC;YAC1B,OAAO;AACL,gBAAA,KAAK,EAAG,kBAAkB,GAAC,GAAG,GAAC,SAAS;AACxC,gBAAA,KAAK,EAAG,CAAG,EAAA,MAAM,CAAC,IAAI,CAAC,YAAY,EAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAE,CAAA;aACvE,CAAC;SACH;AAED,QAAA,IAAG,IAAI,CAAC,qBAAqB,EAAC;YAC5B,OAAO;AACL,gBAAA,KAAK,EAAG,kBAAkB,GAAC,GAAG,GAAC,UAAU;AACzC,gBAAA,KAAK,EAAG,CAAG,EAAA,MAAM,CAAC,IAAI,CAAC,cAAc,EAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAE,CAAA;aACzE,CAAC;SACH;QAED,OAAO;AACL,YAAA,KAAK,EAAG,EAAE;AACV,YAAA,KAAK,EAAG,EAAE;SACX,CAAC;KACH;AAIC,IAAA,eAAe,CAAC,CAAQ,EAAA;AACpB,QAAA,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;AACvD,QAAA,OAAO,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;KACtC;IAGD,oBAAoB,GAAA;QAClB,IAAG,CAAC,IAAI,CAAC,mBAAmB,IAAI,CAAC,IAAI,CAAC,qBAAqB,EAAC;AACxD,YAAA,OAAO,KAAK,CAAC;SAChB;QACD,KAAI,IAAI,IAAI,IAAI,IAAI,CAAC,aAAa,EAAE,EAAC;YACnC,IAAG,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAC;AAC5B,gBAAA,OAAO,KAAK,CAAC;aACd;SACF;AACD,QAAA,OAAO,IAAI,CAAC;KACb;IAGD,iBAAiB,GAAA;QACf,IAAG,CAAC,IAAI,CAAC,mBAAmB,IAAI,CAAC,IAAI,CAAC,qBAAqB,EAAC;AAC1D,YAAA,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,CAAC,GAAG,CAAC,CAAC;QACV,KAAI,IAAI,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,EAAC;YAClC,IAAG,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,EAAC;AAC1B,gBAAA,OAAO,KAAK,CAAC;aACd;AACD,YAAA,CAAC,EAAE,CAAC;SACL;AACD,QAAA,OAAO,IAAI,CAAC;KACX;AAED,IAAA,cAAc,CAAC,CAAQ,EAAA;AACrB,QAAA,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;QAC1D,OAAO,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAC,MAAM,CAAC,CAAC;KAC3C;AAGD,IAAA,gBAAgB,CAAC,CAAiB,EAAE,IAAA,GAA4C,MAAM,EAAA;AACpF,QAAA,IAAG,IAAI,CAAC,mBAAmB,EAAC;AAE1B,YAAA,IAAG,IAAI,IAAI,MAAM,EAAC;AAChB,gBAAA,IAAG,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,EAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAC;AACzF,oBAAA,OAAO,IAAI,CAAC;iBACb;aACF;AAAM,iBAAA,IAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,EAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAC;AAC1D,gBAAA,OAAO,IAAI,CAAC;aACb;SACF;AAED,QAAA,IAAG,IAAI,CAAC,qBAAqB,EAAC;AAE5B,YAAA,IAAG,IAAI,IAAI,MAAM,EAAC;AAChB,gBAAA,IAAG,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,EAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAC;AAC3F,oBAAA,OAAO,IAAI,CAAC;iBACb;aACF;AAAK,iBAAA,IAAG,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,EAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAC;AAC1D,gBAAA,OAAO,IAAI,CAAC;aACb;SACF;AACD,QAAA,OAAO,KAAK,CAAC;KACd;AAGD,IAAA,cAAc,CAAC,KAAU,EAAA;QACvB,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACxC,IAAI,IAAI,GAAG,IAAI,CAAC;AAChB,QAAA,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AACjB,QAAA,IAAI,IAAI,CAAC,MAAM,IAAI,EAAE,EAAE;AACrB,YAAA,IAAI,CAAC,MAAM,GAAG,MAAM,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC5C;QACD,IAAI,QAAQ,GAAG,WAAW,CAAC,YAAA;AACzB,YAAA,IAAI,KAAK,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;YAC/B,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC9B,aAAa,CAAC,QAAQ,CAAC,CAAC;aACzB;AACH,SAAC,CAAC,CAAC;AACH,QAAA,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;KAC5B;IAGD,eAAe,GAAA;QACb,IAAI,IAAI,GAAG,IAAI,CAAC;AAChB,QAAA,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAClB,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC;KACvC;IAED,eAAe,GAAA;QACb,IAAI,IAAI,GAAG,IAAI,CAAC;AAChB,QAAA,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACpE,QAAA,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACpE,IAAI,CAAC,WAAW,EAAE,CAAC;AAEnB,QAAA,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;YACjC,MAAM,CAAC,QAAQ,GAAG,YAAA;gBAChB,IAAI,CAAC,WAAW,EAAE,CAAC;AACnB,gBAAA,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;AAC7B,aAAC,CAAC;YAEF,MAAM,CAAC,QAAQ,GAAG,YAAA;gBAChB,IAAI,CAAC,WAAW,EAAE,CAAC;AACnB,gBAAA,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;AAC7B,aAAC,CAAC;SAEH;KAGF;IAED,QAAQ,GAAA;QACN,IAAI,IAAI,GAAG,IAAI,CAAC;KACjB;uGA3gBU,cAAc,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAA,iBAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAAd,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,cAAc,2bCf3B,g7SAmJM,EAAA,MAAA,EAAA,CAAA,+iIAAA,CAAA,EAAA,CAAA,CAAA;;2FDpIO,cAAc,EAAA,UAAA,EAAA,CAAA;kBAL1B,SAAS;+BACE,OAAO,EAAA,QAAA,EAAA,g7SAAA,EAAA,MAAA,EAAA,CAAA,+iIAAA,CAAA,EAAA,CAAA;sFAaO,SAAS,EAAA,CAAA;sBAAhC,SAAS;uBAAC,WAAW,CAAA;gBACJ,OAAO,EAAA,CAAA;sBAAxB,KAAK;uBAAC,SAAS,CAAA;gBACC,MAAM,EAAA,CAAA;sBAAtB,KAAK;uBAAC,QAAQ,CAAA;gBAGE,MAAM,EAAA,CAAA;sBAAtB,KAAK;uBAAC,QAAQ,CAAA;gBACA,IAAI,EAAA,CAAA;sBAAlB,KAAK;uBAAC,MAAM,CAAA;gBACG,KAAK,EAAA,CAAA;sBAApB,KAAK;uBAAC,OAAO,CAAA;gBACI,OAAO,EAAA,CAAA;sBAAxB,KAAK;uBAAC,SAAS,CAAA;gBACE,OAAO,EAAA,CAAA;sBAAxB,KAAK;uBAAC,SAAS,CAAA;gBACc,mBAAmB,EAAA,CAAA;sBAAhD,KAAK;uBAAC,qBAAqB,CAAA;gBACI,qBAAqB,EAAA,CAAA;sBAApD,KAAK;uBAAC,uBAAuB,CAAA;gBACP,YAAY,EAAA,CAAA;sBAAlC,KAAK;uBAAC,cAAc,CAAA;gBACI,cAAc,EAAA,CAAA;sBAAtC,KAAK;uBAAC,gBAAgB,CAAA;;;MEvBZ,cAAc,CAAA;AAGf,IAAA,IAAA,CAAA;AACA,IAAA,IAAA,CAAA;IAFV,WACU,CAAA,IAAsB,EACtB,IAAgB,EAAA;QADhB,IAAI,CAAA,IAAA,GAAJ,IAAI,CAAkB;QACtB,IAAI,CAAA,IAAA,GAAJ,IAAI,CAAY;KACrB;IAGY,MAAM,GAAW,EAAE,CAAC;IACpB,MAAM,GAAkE,MAAM,CAAC;IAChF,KAAK,GAAa,IAAI,CAAC;IACrB,OAAO,GAAa,IAAI,CAAC;IACzB,OAAO,GAAa,IAAI,CAAC;IACpB,YAAY,GAAG,MAAM,EAAE,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC;IACpD,cAAc,GAAG,MAAM,EAAE,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC;IACnD,mBAAmB,GAAa,KAAK,CAAC;IACpC,qBAAqB,GAAa,KAAK,CAAC;AAExE,IAAA,SAAS,CAAgC;IACzC,SAAS,GAAY,KAAK,CAAC;IAE3B,WAAW,GAAA;KAEV;IAED,OAAO,GAAA;AACL,QAAA,IAAG,IAAI,CAAC,SAAS,EAAC;AAGhB,YAAA,IAAG,IAAI,CAAC,MAAM,IAAI,MAAM,IAAI,IAAI,CAAC,MAAM,IAAI,UAAU,EAAC;gBACpD,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,GAAG,MAAM,CAAC;aACvC;AAAK,iBAAA,IAAG,IAAI,CAAC,MAAM,IAAI,MAAM,EAAC;gBAC7B,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,GAAG,MAAM,CAAC;aACvC;AAGD,YAAA,IAAG,IAAI,CAAC,MAAM,IAAI,UAAU,EAAC;AAC3B,gBAAA,IAAG,IAAI,CAAC,KAAK,EAAC;oBACZ,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,GAAG,OAAO,CAAC;iBACxC;AAAO,qBAAA,IAAG,IAAI,CAAC,OAAO,EAAC;oBACtB,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,GAAG,SAAS,CAAC;iBAC1C;AAAO,qBAAA,IAAG,IAAI,CAAC,OAAO,EAAC;oBACtB,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,GAAG,SAAS,CAAC;iBAC1C;aACF;AAGD,YAAA,IAAG,IAAI,CAAC,MAAM,IAAI,MAAM,EAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,GAAG,MAAM,CAAC;aACvC;AAGD,YAAA,IAAG,IAAI,CAAC,MAAM,IAAI,OAAO,EAAC;gBACxB,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,GAAG,OAAO,CAAC;aACxC;YAID,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,CAAC;YACvE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,qBAAqB,GAAG,IAAI,CAAC,qBAAqB,CAAC;YAC3E,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;YACzD,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,cAAc,GAAI,IAAI,CAAC,cAAc,CAAC;SAG/D;KACF;AAED,IAAA,WAAW,CAAC,OAAsB,EAAA;AAChC,QAAA,IAAG,IAAI,CAAC,SAAS,EAAC;YAChB,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;YAC3C,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;YAC/C,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;YAC/C,IAAI,CAAC,OAAO,EAAE,CAAC;SAChB;KACF;IAED,eAAe,GAAA;AAEb,QAAA,IAAG,IAAI,CAAC,MAAM,IAAI,EAAE,EAAC;AACnB,YAAA,IAAG,IAAI,CAAC,MAAM,IAAI,UAAU,EAAC;AAC3B,gBAAA,IAAI,CAAC,MAAM,GAAG,qBAAqB,CAAC;aACrC;AAAK,iBAAA,IAAG,IAAI,CAAC,MAAM,IAAI,MAAM,EAAC;AAC7B,gBAAA,IAAI,CAAC,MAAM,GAAG,YAAY,CAAC;aAC5B;AAAK,iBAAA,IAAG,IAAI,CAAC,MAAM,IAAI,MAAM,EAAC;AAC7B,gBAAA,IAAI,CAAC,MAAM,GAAG,UAAU,CAAC;aAC1B;AAAK,iBAAA,IAAG,IAAI,CAAC,MAAM,IAAI,OAAO,EAAC;AAC9B,gBAAA,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;aACtB;AAAK,iBAAA,IAAG,IAAI,CAAC,MAAM,IAAI,MAAM,EAAC;AAC7B,gBAAA,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;aACtB;AAAK,iBAAA,IAAG,IAAI,CAAC,MAAM,IAAI,UAAU,EAAC;AACjC,gBAAA,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;aAClB;SACF;AAGD,QAAA,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;QAClB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,CAAC;AAC3D,QAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QAItB,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QAC3C,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC;QAC5C,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC7C,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC7C,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QAC3C,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QAC/C,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QAE/C,IAAI,CAAC,OAAO,EAAE,CAAC;QAGf,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,OAAO,GAAI,CAAC,KAAa,KAAG;AAClD,YAAA,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACnB,YAAA,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;AACnD,SAAC,CAAA;AACD,QAAA,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;KAClD;IAGD,QAAQ,GAAA;KACP;IAGD,MAAM,GAAW,EAAE,CAAC;AAEpB,IAAA,IAAI,KAAK,GAAA;QACP,OAAO,IAAI,CAAC,MAAM,CAAC;KACpB;IAED,IAAI,KAAK,CAAC,KAAa,EAAA;QACrB,IAAI,OAAO,KAAK,KAAK,WAAW,IAAI,KAAK,KAAK,IAAI,EAAE;AAClD,YAAA,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;AACpB,YAAA,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC1B,YAAA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC3B,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,GAAG,KAAK,CAAC;SACvC;KACF;AAGD,IAAA,QAAQ,GAAG,CAAC,CAAM,KAAI,GAAI,CAAC;AAC3B,IAAA,SAAS,GAAG,CAAC,CAAM,KAAI,GAAI,CAAC;AAE5B,IAAA,UAAU,CAAC,KAAU,EAAA;AACnB,QAAA,IAAI,KAAK,KAAK,IAAI,EAAE;AAClB,YAAA,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACnB,YAAA,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,EAAE;gBAC1B,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;AACtC,gBAAA,IAAG,IAAI,CAAC,MAAM,IAAI,MAAM,IAAI,IAAI,CAAC,MAAM,IAAI,UAAU,IAAI,IAAI,CAAC,MAAM,IAAI,MAAM,EAAC;oBAC7E,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;iBACnG;AACD,gBAAA,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;aAClD;SACF;KACF;AACD,IAAA,gBAAgB,CAAC,EAAO,EAAA;AACtB,QAAA,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;KACpB;AACD,IAAA,iBAAiB,CAAC,EAAO,EAAA;AACvB,QAAA,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;KACrB;uGAhKU,cAAc,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAA,gBAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,UAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAAd,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,cAAc,EAPd,QAAA,EAAA,SAAA,EAAA,MAAA,EAAA,EAAA,MAAA,EAAA,QAAA,EAAA,MAAA,EAAA,QAAA,EAAA,KAAA,EAAA,OAAA,EAAA,OAAA,EAAA,SAAA,EAAA,OAAA,EAAA,SAAA,EAAA,YAAA,EAAA,cAAA,EAAA,cAAA,EAAA,gBAAA,EAAA,mBAAA,EAAA,qBAAA,EAAA,qBAAA,EAAA,uBAAA,EAAA,EAAA,SAAA,EAAA;AACT,YAAA;AACE,gBAAA,OAAO,EAAE,iBAAiB;AAC1B,gBAAA,WAAW,EAAE,UAAU,CAAC,MAAM,cAAc,CAAC;AAC7C,gBAAA,KAAK,EAAE,IAAI;AACZ,aAAA;AAAC,SAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,CAAA,CAAA;;2FAEO,cAAc,EAAA,UAAA,EAAA,CAAA;kBAT1B,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACT,oBAAA,QAAQ,EAAE,SAAS;AACnB,oBAAA,SAAS,EAAE;AACT,wBAAA;AACE,4BAAA,OAAO,EAAE,iBAAiB;AAC1B,4BAAA,WAAW,EAAE,UAAU,CAAC,oBAAoB,CAAC;AAC7C,4BAAA,KAAK,EAAE,IAAI;AACZ,yBAAA;AAAC,qBAAA;AACL,iBAAA,CAAA;8GASkB,MAAM,EAAA,CAAA;sBAAtB,KAAK;uBAAC,QAAQ,CAAA;gBACE,MAAM,EAAA,CAAA;sBAAtB,KAAK;uBAAC,QAAQ,CAAA;gBACC,KAAK,EAAA,CAAA;sBAApB,KAAK;uBAAC,OAAO,CAAA;gBACI,OAAO,EAAA,CAAA;sBAAxB,KAAK;uBAAC,SAAS,CAAA;gBACE,OAAO,EAAA,CAAA;sBAAxB,KAAK;uBAAC,SAAS,CAAA;gBACO,YAAY,EAAA,CAAA;sBAAlC,KAAK;uBAAC,cAAc,CAAA;gBACI,cAAc,EAAA,CAAA;sBAAtC,KAAK;uBAAC,gBAAgB,CAAA;gBACO,mBAAmB,EAAA,CAAA;sBAAhD,KAAK;uBAAC,qBAAqB,CAAA;gBACI,qBAAqB,EAAA,CAAA;sBAApD,KAAK;uBAAC,uBAAuB,CAAA;;;AC9BhC;;AAEG;;;;"}