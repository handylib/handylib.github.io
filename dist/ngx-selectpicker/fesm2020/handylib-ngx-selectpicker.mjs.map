{"version":3,"file":"handylib-ngx-selectpicker.mjs","sources":["../../../projects/ngx-selectpicker/src/lib/ngx-selectpicker.service.ts","../../../projects/ngx-selectpicker/src/lib/selectpicker/selectpicker.component.ts","../../../projects/ngx-selectpicker/src/lib/selectpicker/selectpicker.component.html","../../../projects/ngx-selectpicker/src/lib/ngx-selectpicker.module.ts","../../../projects/ngx-selectpicker/src/public-api.ts","../../../projects/ngx-selectpicker/src/handylib-ngx-selectpicker.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgxSelectpickerService {\n\n  constructor() { }\n}\n","import { AfterViewInit, Component, ElementRef, EventEmitter, forwardRef, HostListener, Input, OnChanges, OnInit, Output, SimpleChanges, ViewChild } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { Options, SelectPickerItems } from '../ngx-selectpicker.module';\n\n\n@Component({\n  selector: 'selectpicker',\n  templateUrl: './selectpicker.component.html',\n  styleUrls: ['./selectpicker.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => SelectpickerComponent),\n      multi: true\n    }\n  ]\n})\nexport class SelectpickerComponent implements OnInit, ControlValueAccessor, AfterViewInit, OnChanges {\n\n  constructor(\n    private eRef: ElementRef\n  ) { }\n\n\n  show: boolean = false;\n  focused: boolean = false;\n  searchFocused: boolean = false;\n  innerValue: any;\n  innerData: any;\n\n  defaultOptions: Options = {\n    classes: {\n      input: {\n        focus: \"border-2 border-primary\",\n        blur: \"\",\n        common: \"form-control\"\n      },\n      searchInput: {\n        focus: \"\",\n        blur: \"\",\n        common: \"form-control\"\n      },\n      container: {\n        common: \"card\"\n      }\n    },\n    styles: {\n      container: {\n        width: \"100%\",\n        maxWidth: \"300px\"\n      }\n    },\n    search: false,\n    searchPlaceholder: \"Search..\",\n    searchThreshold: 0,\n    searching: false\n  };\n\n\n\n\n\n  getOptions() {\n    return Object.assign({}, this.defaultOptions, this.options);\n  }\n\n\n  getItems() {\n    return this.innerData;\n  }\n\n\n  get value() {\n    return this.innerValue;\n  }\n\n  set value(value: any) {\n    this.innerValue = value;\n    this.onChange(value);\n    this.onTouched(value);\n  }\n\n  @Input(\"placeholder\") placeholder: string = \"Select an option\";\n  @Input(\"data\") data: SelectPickerItems = [];\n  @Input(\"options\") options: Options = {};\n  @ViewChild(\"container\") container!: ElementRef;\n  @ViewChild(\"input\") input!: ElementRef;\n  @Output(\"search\") search = new EventEmitter<string>();\n\n\n  @HostListener('document:click', ['$event'])\n  clickout(event: any) {\n    if (this.eRef.nativeElement.contains(event.target)) {\n      this.show = true;\n      this.focused = true;\n      this.searchFocused = true;\n    } else {\n      this.show = false;\n      this.focused = false;\n      this.searchFocused = false;\n    }\n  }\n\n\n  setOutputValue(value: any, index: number) {\n    var inst = this;\n    this.value = value;\n    setTimeout(function () {\n      inst.show = false;\n    }, 50);\n  }\n\n  onChange = (_: any) => { };\n  onTouched = (_: any) => { };\n\n  writeValue(value: any): void {\n    if (value !== null) {\n      this.value = value;\n    }\n  }\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn\n  }\n\n\n  handleSearch(event: any) {\n    var options = this.getOptions();\n    if (event.target.value.length == 0) {\n      this.innerData = this.data;\n    }\n    if (options.search == true) {\n      if (typeof options.searchThreshold !== \"undefined\") {\n        if (event.target.value.length >= options.searchThreshold) {\n          if (this.search.observed) {\n            this.search.emit(event.target.value);\n          } else {\n            this.innerData = this.data.filter(function (item) {\n              if (item?.label) {\n                return item.label.indexOf(event.target.value) >= 0;\n              }\n              return false;\n            });\n          }\n        }\n      }\n    }\n  }\n\n\n  getValueTitle() {\n    for (var item of this.data) {\n      if (item.id == this.value) {\n        return item.label;\n      }\n    }\n    return this.placeholder;\n  }\n\n\n  ngOnInit(): void {\n  }\n\n  ngAfterViewInit(): void {\n\n    var inst = this;\n\n\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (\"data\" in changes) {\n      this.innerData = changes[\"data\"].currentValue;\n    }\n  }\n\n\n}\n","<div class=\"component-container\">\n    <div class=\"{{getOptions()?.classes?.input?.common}} {{focused ? getOptions()?.classes?.input?.focus : getOptions()?.classes?.input?.blur}}\" #input (click)=\"show=true;focused=true\">\n        <label>{{getValueTitle()}}</label>\n        <span class=\"selectpicker-icon selectpicker-icon-down\"></span>\n    </div>\n    <div [style.display]=\"show==true ? 'block' : 'none'\" class=\"component-absolute {{getOptions()?.classes?.container?.common}}\" #container [style]=\"getOptions()?.styles?.container\">\n        <div class=\"selectpicker-search\" *ngIf=\"getOptions()?.search\">\n            <input type=\"text\" [placeholder]=\"getOptions()?.searchPlaceholder\" class=\"{{getOptions()?.classes?.searchInput?.common}} {{searchFocused ? getOptions()?.classes?.searchInput?.focus : getOptions()?.classes?.searchInput?.blur}}\" (keyup)=\"handleSearch($event)\">\n        </div>\n        <ng-content *ngIf=\"getOptions()?.searching\"></ng-content>\n        <ul class=\"selectpicker-options\">\n            <li *ngFor=\"let item of getItems();let i = index\" (click)=\"setOutputValue(item.id,i)\" class=\"{{item?.id == value ? 'active' : ''}}\">\n                <span>{{item.label}}</span>\n            </li>\n        </ul>\n    </div>\n</div>","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { SelectpickerComponent } from './selectpicker/selectpicker.component';\n\n\n\n@NgModule({\n  declarations: [\n    SelectpickerComponent\n  ],\n  imports: [\n    CommonModule\n  ],\n  exports: [\n    SelectpickerComponent\n  ]\n})\nexport class NgxSelectpickerModule { }\n\n\n\nexport type Options = {\n  classes?: {\n    input?: {\n      focus?: string,\n      blur?: string,\n      common?: string\n    },\n    container?: {\n      common?: string\n    },\n    searchInput?: {\n      focus?: string,\n      blur?: string,\n      common?: string\n    }\n  },\n  styles?: {\n    container?: {\n      padding?: any,\n      width?: any,\n      maxWidth?: any\n    }\n  },\n  search?: boolean,\n  searchThreshold?: number,\n  searching?: boolean,\n  searchPlaceholder?: string,\n  searchDisableInput?: boolean\n}\n\n\nexport type SelectPickerItems = Array<{\n  id?: any,\n  label?: string,\n  selected?: boolean,\n  data?: any\n}>","/*\n * Public API Surface of ngx-selectpicker\n */\n\nexport * from './lib/ngx-selectpicker.service';\nexport * from './lib/selectpicker/selectpicker.component';\nexport * from './lib/ngx-selectpicker.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}